/* eslint-disable */
import*as i1$1 from"@angular/common";import{CommonModule}from"@angular/common";import*as i0 from"@angular/core";import{InjectionToken,Injectable,Optional,Inject,SkipSelf,forwardRef,Input,Output,Directive,Self,NgZone,EventEmitter,ViewEncapsulation,ChangeDetectionStrategy,Component,ContentChild,NgModule,ViewChild,ElementRef,ViewChildren,ComponentFactoryResolver,ContentChildren}from"@angular/core";import*as i2 from"@angular/forms";import{FormsModule}from"@angular/forms";import*as i1 from"@angular/platform-browser";var remote={apiKey:"4a7998ef",apiUrl:"https://trial.mobiscroll.com/"};var arrowBack='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"/></svg>';var arrowDown$1='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"/></svg>';var arrowForward='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"/></svg>';var arrowUp$1='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"/></svg>';var clear$1='<svg xmlns="http://www.w3.org/2000/svg" height="17" viewBox="0 0 17 17" width="17"><path d="M8.5 0a8.5 8.5 0 110 17 8.5 8.5 0 010-17zm3.364 5.005a.7.7 0 00-.99 0l-2.44 2.44-2.439-2.44-.087-.074a.7.7 0 00-.903 1.064l2.44 2.439-2.44 2.44-.074.087a.7.7 0 001.064.903l2.439-2.441 2.44 2.441.087.074a.7.7 0 00.903-1.064l-2.441-2.44 2.441-2.439.074-.087a.7.7 0 00-.074-.903z" fill="currentColor" fill-rule="evenodd"/></svg>';var dragHandle='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M360-160q-33 0-56.5-23.5T280-240q0-33 23.5-56.5T360-320q33 0 56.5 23.5T440-240q0 33-23.5 56.5T360-160Zm240 0q-33 0-56.5-23.5T520-240q0-33 23.5-56.5T600-320q33 0 56.5 23.5T680-240q0 33-23.5 56.5T600-160ZM360-400q-33 0-56.5-23.5T280-480q0-33 23.5-56.5T360-560q33 0 56.5 23.5T440-480q0 33-23.5 56.5T360-400Zm240 0q-33 0-56.5-23.5T520-480q0-33 23.5-56.5T600-560q33 0 56.5 23.5T680-480q0 33-23.5 56.5T600-400ZM360-640q-33 0-56.5-23.5T280-720q0-33 23.5-56.5T360-800q33 0 56.5 23.5T440-720q0 33-23.5 56.5T360-640Zm240 0q-33 0-56.5-23.5T520-720q0-33 23.5-56.5T600-800q33 0 56.5 23.5T680-720q0 33-23.5 56.5T600-640Z"/></svg>';var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};function __extends(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){__assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))t[p[i]]=s[p[i]]}return t}function __decorate(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r}function __spreadArray(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))}var Observable=/*#__PURE__*/function(){function Observable(){this.nr=0;this._keys=1;this._subscribers={}}Observable.prototype.subscribe=function(handler){var key=this._keys++;this._subscribers[key]=handler;this.nr++;return key};Observable.prototype.unsubscribe=function(key){this.nr--;delete this._subscribers[key]};Observable.prototype.next=function(value){var subscribers=this._subscribers;for(var _i=0,_a=Object.keys(subscribers);_i<_a.length;_i++){var key=_a[_i];if(subscribers[key]){subscribers[key](value)}}};return Observable}();var os;var version$1=[];var touchUi=false;var isBrowser=typeof window!=="undefined";var isDarkQuery=isBrowser&&window.matchMedia&&window.matchMedia("(prefers-color-scheme:dark)");var userAgent=isBrowser?navigator.userAgent:"";var platform$1=isBrowser?navigator.platform:"";var maxTouchPoints=isBrowser?navigator.maxTouchPoints:0;var isSafari=userAgent&&/Safari/.test(userAgent);if(/Android/i.test(userAgent)){os="android";touchUi=true;var vers=userAgent.match(/Android\s+([\d.]+)/i);if(vers){version$1=vers[0].replace("Android ","").split(".")}}else if(/iPhone|iPad|iPod/i.test(userAgent)||/iPhone|iPad|iPod/i.test(platform$1)||platform$1==="MacIntel"&&maxTouchPoints>1){os="ios";touchUi=true;var vers=userAgent.match(/OS\s+([\d_]+)/i);if(vers){version$1=vers[0].replace(/_/g,".").replace("OS ","").split(".")}}else if(/Windows Phone/i.test(userAgent)){os="wp";touchUi=true}else if(/Windows|MSIE/i.test(userAgent)){os="windows"}var majorVersion=+version$1[0];var minorVersion=+version$1[1];var options={};var util={};var themes={};var autoDetect={};var globalChanges=new Observable;function getAutoTheme(){var autoTheme="";var theme="";var firstTheme="";if(os==="android"){theme="material"}else if(os==="wp"||os==="windows"){theme="windows"}else{theme="ios"}for(var key in themes){if(themes[key].baseTheme===theme&&themes[key].auto!==false&&key!==theme+"-dark"){autoTheme=key;break}else if(key===theme){autoTheme=key}else if(!firstTheme){firstTheme=key}}return autoTheme||firstTheme}function setOptions(local){for(var _i=0,_a=Object.keys(local);_i<_a.length;_i++){var k=_a[_i];options[k]=local[k]}if(isBrowser){globalChanges.next(options)}}function createCustomTheme(name,baseTheme,auto){var base=themes[baseTheme];themes[name]=__assign(__assign({},base),{auto:auto,baseTheme:baseTheme});autoDetect.theme=getAutoTheme()}var platform={majorVersion:majorVersion,minorVersion:minorVersion,name:os};var textFieldOpt$2={clearIcon:clear$1,labelStyle:"inline"};var themeName$2="ios";themes[themeName$2]={Calendar:{nextIconH:arrowForward,nextIconV:arrowDown$1,prevIconH:arrowBack,prevIconV:arrowUp$1},Checkbox:{position:"end"},Datepicker:{clearIcon:clear$1,display:"bottom"},Dropdown:textFieldOpt$2,Eventcalendar:{chevronIconDown:arrowDown$1,dragIcon:dragHandle,nextIconH:arrowForward,nextIconV:arrowDown$1,prevIconH:arrowBack,prevIconV:arrowUp$1},Input:textFieldOpt$2,Radio:{position:"end"},Scroller:{itemHeight:34,minWheelWidth:55,rows:5,scroll3d:true},SegmentedGroup:{drag:true},Select:{clearIcon:clear$1,display:"bottom"},Textarea:textFieldOpt$2};createCustomTheme("ios-dark",themeName$2);var arrowDropDown='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>';var arrowDropUp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 14l5-5 5 5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>';var chevronLeft='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M23.12 11.12L21 9l-9 9 9 9 2.12-2.12L16.24 18z"/></svg>';var chevronRight='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M15 9l-2.12 2.12L19.76 18l-6.88 6.88L15 27l9-9z"/></svg>';var clear='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"/></svg>';var keyboardArrowDown='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>';var keyboardArrowUp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>';var textFieldOpt$1={clearIcon:clear,dropdownIcon:arrowDropDown,inputStyle:"box",labelStyle:"floating",notch:true,ripple:true};var themeName$1="material";themes[themeName$1]={Button:{ripple:true},Calendar:{downIcon:arrowDropDown,nextIconH:chevronRight,nextIconV:keyboardArrowDown,prevIconH:chevronLeft,prevIconV:keyboardArrowUp,upIcon:arrowDropUp},Datepicker:{clearIcon:clear,display:"center"},Dropdown:textFieldOpt$1,Eventcalendar:{chevronIconDown:keyboardArrowDown,colorEventList:true,downIcon:arrowDropDown,dragIcon:dragHandle,nextIconH:chevronRight,nextIconV:keyboardArrowDown,prevIconH:chevronLeft,prevIconV:keyboardArrowUp,upIcon:arrowDropUp},Input:textFieldOpt$1,ListItem:{ripple:true},Scroller:{rows:3},Select:{clearIcon:clear,display:"center",rows:3},Textarea:textFieldOpt$1};createCustomTheme("material-dark",themeName$1);var angleDown='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M4.22 10.78l-1.44 1.44 12.5 12.5.72.686.72-.687 12.5-12.5-1.44-1.44L16 22.564 4.22 10.78z"/></svg>';var angleLeft='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19.03 4.28l-11 11-.686.72.687.72 11 11 1.44-1.44L10.187 16l10.28-10.28-1.437-1.44z"/></svg>';var angleRight='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M12.97 4.28l-1.44 1.44L21.814 16 11.53 26.28l1.44 1.44 11-11 .686-.72-.687-.72-11-11z"/></svg>';var arrowDown='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M15 4v20.063L8.22 17.28l-1.44 1.44 8.5 8.5.72.686.72-.687 8.5-8.5-1.44-1.44L17 24.063V4h-2z"/></svg>';var arrowUp='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M16 4.094l-.72.687-8.5 8.5 1.44 1.44L15 7.936V28h2V7.937l6.78 6.782 1.44-1.44-8.5-8.5-.72-.686z"/></svg>';var close='<svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"><path d="M 7.21875 5.78125 L 5.78125 7.21875 L 14.5625 16 L 5.78125 24.78125 L 7.21875 26.21875 L 16 17.4375 L 24.78125 26.21875 L 26.21875 24.78125 L 17.4375 16 L 26.21875 7.21875 L 24.78125 5.78125 L 16 14.5625 Z"/></svg>';var textFieldOpt={clearIcon:close,inputStyle:"box",labelStyle:"stacked"};var themeName="windows";themes[themeName]={Calendar:{nextIconH:angleRight,nextIconV:arrowDown,prevIconH:angleLeft,prevIconV:arrowUp},Checkbox:{position:"start"},Datepicker:{clearIcon:close,display:"center"},Dropdown:textFieldOpt,Eventcalendar:{chevronIconDown:angleDown,dragIcon:dragHandle,nextIconH:angleRight,nextIconV:arrowDown,prevIconH:angleLeft,prevIconV:arrowUp},Input:textFieldOpt,Scroller:{itemHeight:44,minWheelWidth:88,rows:6},Select:{clearIcon:close,display:"center",rows:6},Textarea:textFieldOpt};createCustomTheme("windows-dark",themeName);autoDetect.theme=getAutoTheme();var ar={rtl:true,setText:"تعيين",cancelText:"إلغاء",clearText:"مسح",closeText:"إغلاق",selectedText:"{count} المحدد",dateFormat:"DD/MM/YYYY",dateFormatFull:"DDDD, D MMMM YYYY",dateFormatLong:"DDD. D MMM YYYY",dateWheelFormat:"|DDD D MMM|",dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],dayNamesMin:["ح","ن","ث","ر","خ","ج","س"],dayText:"يوم",hourText:"ساعات",minuteText:"الدقائق",fromText:"يبدا",monthNames:["يناير","فبراير","مارس","ابريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthNamesShort:["يناير","فبراير","مارس","ابريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthText:"شهر",secondText:"ثواني",amText:"ص",pmText:"م",timeFormat:"hh:mm A",yearText:"عام",timeWheels:"Ammhh",toText:"ينتهي",nowText:"الآن",firstDay:0,dateText:"تاريخ",timeText:"وقت",todayText:"اليوم",allDayText:"اليوم كله",noEventsText:"لا توجد احداث",eventText:"الحدث",eventsText:"أحداث",moreEventsText:"واحد آخر",moreEventsPluralText:"اثنان آخران {count}",weekText:"أسبوع {count}",rangeEndHelp:"أختر",rangeEndLabel:"ينتهي",rangeStartHelp:"أختر",rangeStartLabel:"يبدا",filterEmptyText:"لا نتيجة",filterPlaceholderText:"بحث"};var bg={setText:"Задаване",cancelText:"Отмяна",clearText:"Изчистване",closeText:"затвори",selectedText:"{count} подбран",dateFormat:"DD.MM.YYYY",dateFormatFull:"DDDD, D MMMM YYYY",dateFormatLong:"DDD, D MMMM YYYY",dateWheelFormat:"|DDD MM.DD|",dayNames:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"],dayNamesShort:["Нед","Пон","Вто","Сря","Чет","Пет","Съб"],dayNamesMin:["Не","По","Вт","Ср","Че","Пе","Съ"],dayText:"ден",hourText:"час",minuteText:"минута",fromText:"ОТ",monthNames:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],monthNamesShort:["Яну","Фев","Мар","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Нов","Дек"],monthText:"месец",secondText:"секунди",timeFormat:"H:mm",toText:"ДО",nowText:"Сега",pmText:"pm",amText:"am",yearText:"година",firstDay:1,dateText:"Дата",timeText:"път",todayText:"днес",eventText:"Събитие",eventsText:"Събития",allDayText:"Цял ден",noEventsText:"Няма събития",moreEventsText:"Още {count}",weekText:"Седмица {count}",rangeStartLabel:"ОТ",rangeEndLabel:"ДО",rangeStartHelp:"Избирам",rangeEndHelp:"Избирам",filterEmptyText:"Без резултат",filterPlaceholderText:"Търсене"};var ca={setText:"Acceptar",cancelText:"Cancel·lar",clearText:"Esborrar",closeText:"Tancar",selectedText:"{count} seleccionat",selectedPluralText:"{count} seleccionats",dateFormat:"DD/MM/YYYY",dateFormatFull:"DDDD, D MMMM YYYY",dateFormatLong:"DDD, D MMM YYYY",dateWheelFormat:"|DDD D MMM|",dayNames:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],dayNamesShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayNamesMin:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayText:"Dia",hourText:"Hores",minuteText:"Minuts",fromText:"Iniciar",monthNames:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],monthNamesShort:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],monthText:"Mes",secondText:"Segons",timeFormat:"H:mm",yearText:"Any",toText:"Final",nowText:"Ara",pmText:"pm",amText:"am",todayText:"Avui",firstDay:1,dateText:"Data",timeText:"Temps",allDayText:"Tot el dia",noEventsText:"Cap esdeveniment",eventText:"Esdeveniments",eventsText:"Esdeveniments",moreEventsText:"{count} més",weekText:"Setmana {count}",rangeStartLabel:"Iniciar",rangeEndLabel:"Final",rangeStartHelp:"Seleccionar",rangeEndHelp:"Seleccionar",filterEmptyText:"Cap resultat",filterPlaceholderText:"Buscar"};var cs={setText:"Zadej",cancelText:"Storno",clearText:"Vymazat",closeText:"Zavřít",selectedText:"Označený: {count}",dateFormat:"DD.MM.YYYY",dateFormatFull:"DDDD, D. MMMM YYYY",dateFormatLong:"DDD, D.M.YYYY",dateWheelFormat:"|DDD D. M.|",dayNames:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"],dayNamesShort:["Ne","Po","Út","St","Čt","Pá","So"],dayNamesMin:["N","P","Ú","S","Č","P","S"],dayText:"Den",hourText:"Hodiny",minuteText:"Minuty",fromText:"Začátek",monthNames:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],monthNamesShort:["Led","Úno","Bře","Dub","Kvě","Čer","Čvc","Spr","Zář","Říj","Lis","Pro"],monthText:"Měsíc",secondText:"Sekundy",timeFormat:"H:mm",yearText:"Rok",toText:"Konec",nowText:"Teď",amText:"am",pmText:"pm",todayText:"Dnes",firstDay:1,dateText:"Datum",timeText:"Čas",allDayText:"Celý den",noEventsText:"Žádné události",eventText:"Událostí",eventsText:"Události",moreEventsText:"{count} další",weekText:"{count}. týden",rangeStartLabel:"Začátek",rangeEndLabel:"Konec",rangeStartHelp:"Vybrat",rangeEndHelp:"Vybrat",filterEmptyText:"Žádné výsledky",filterPlaceholderText:"Hledat"};var da={setText:"Sæt",cancelText:"Annuller",clearText:"Ryd",closeText:"Luk",selectedText:"{count} valgt",selectedPluralText:"{count} valgt",dateFormat:"DD/MM/YYY",dateFormatFull:"DDDD, D. MMMM YYYY",dateFormatLong:"DDD. D. MMM. YYYY.",dateWheelFormat:"|DDD. D. MMM.|",dayNames:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],dayNamesShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayNamesMin:["S","M","T","O","T","F","L"],dayText:"Dag",hourText:"Timer",minuteText:"Minutter",fromText:"Start",monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],monthText:"Måned",secondText:"Sekunder",amText:"am",pmText:"pm",timeFormat:"HH.mm",yearText:"År",toText:"Slut",nowText:"Nu",todayText:"I dag",firstDay:1,dateText:"Dato",timeText:"Tid",allDayText:"Hele dagen",noEventsText:"Ingen begivenheder",eventText:"Begivenheder",eventsText:"Begivenheder",moreEventsText:"{count} mere",weekText:"Uge {count}",rangeStartLabel:"Start",rangeEndLabel:"Slut",rangeStartHelp:"Vælg",rangeEndHelp:"Vælg",filterEmptyText:"Ingen resultater",filterPlaceholderText:"Søg"};var de={setText:"OK",cancelText:"Abbrechen",clearText:"Löschen",closeText:"Schließen",selectedText:"{count} ausgewählt",dateFormat:"DD.MM.YYYY",dateFormatFull:"DDDD, D. MMMM YYYY",dateFormatLong:"DDD. D. MMM. YYYY",dateWheelFormat:"|DDD. D. MMM.|",dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["S","M","D","M","D","F","S"],dayText:"Tag",hourText:"Stunde",minuteText:"Minuten",fromText:"Von",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],monthText:"Monat",secondText:"Sekunden",timeFormat:"HH:mm",yearText:"Jahr",nowText:"Jetzt",pmText:"pm",amText:"am",todayText:"Heute",toText:"Bis",firstDay:1,dateText:"Datum",timeText:"Zeit",allDayText:"Ganztägig",noEventsText:"Keine Ereignisse",eventText:"Ereignis",eventsText:"Ereignisse",moreEventsText:"{count} weiteres Element",moreEventsPluralText:"{count} weitere Elemente",weekText:"Woche {count}",rangeStartLabel:"Von",rangeEndLabel:"Bis",rangeStartHelp:"Auswählen",rangeEndHelp:"Auswählen",filterEmptyText:"Keine Treffer",filterPlaceholderText:"Suchen"};var el={setText:"Ορισμος",cancelText:"Ακυρωση",clearText:"Διαγραφη",closeText:"Κλείσιμο",selectedText:"{count} επιλεγμένα",dateFormat:"DD/MM/YYYY",dateFormatFull:"DDDD, D MMMM YYYY",dateFormatLong:"DDD, D MMM YYYY",dateWheelFormat:"|DDD D MMM|",dayNames:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],dayNamesShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayNamesMin:["Κυ","Δε","Τρ","Τε","Πε","Πα","Σα"],dayText:"ημέρα",hourText:"ώρα",minuteText:"λεπτό",fromText:"Αρχή",monthNames:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],monthNamesShort:["Ιαν","Φεβ","Μαρ","Απρ","Μαι","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],monthText:"Μήνας",secondText:"δευτερόλεπτα",timeFormat:"H:mm",yearText:"έτος",toText:"Τέλος",nowText:"τώρα",pmText:"μμ",amText:"πμ",firstDay:1,dateText:"Ημερομηνία",timeText:"φορά",todayText:"Σήμερα",eventText:"Γεγονότα",eventsText:"Γεγονότα",allDayText:"Ολοήμερο",noEventsText:"Δεν υπάρχουν γεγονότα",moreEventsText:"{count} ακόμη",weekText:"Εβδομάδα {count}",rangeStartLabel:"Αρχή",rangeEndLabel:"Τέλος",rangeStartHelp:"Επιλογή",rangeEndHelp:"Επιλογή",filterEmptyText:"Κανένα αποτέλεσμα",filterPlaceholderText:"Αναζήτηση"};var enGB={dateFormat:"DD/MM/YYYY",dateFormatFull:"DDDD, D MMMM YYYY",dateWheelFormat:"|DDD D MMM|",timeFormat:"H:mm"};var es={setText:"Aceptar",cancelText:"Cancelar",clearText:"Borrar",closeText:"Cerrar",selectedText:"{count} seleccionado",selectedPluralText:"{count} seleccionados",dateFormat:"DD/MM/YYYY",dateFormatFull:"DDDD, MMMM D. YYYY",dateFormatLong:"DDD, MMM. D. YYYY",dateWheelFormat:"|DDD D MMM|",dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Do","Lu","Ma","Mi","Ju","Vi","Sá"],dayNamesMin:["D","L","M","M","J","V","S"],dayText:"Día",hourText:"Horas",minuteText:"Minutos",fromText:"Iniciar",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],monthText:"Mes",secondText:"Segundos",timeFormat:"H:mm",yearText:"A&ntilde;o",toText:"Final",nowText:"Ahora",pmText:"pm",amText:"am",todayText:"Hoy",firstDay:1,dateText:"Fecha",timeText:"Tiempo",allDayText:"Todo el día",noEventsText:"No hay eventos",eventText:"Evento",eventsText:"Eventos",moreEventsText:"{count} más",weekText:"Semana {count}",rangeStartLabel:"Iniciar",rangeEndLabel:"Final",rangeStartHelp:"Seleccionar",rangeEndHelp:"Seleccionar",filterEmptyText:"Sin resultados",filterPlaceholderText:"Buscar"};var UNDEFINED=undefined;getArray(3);getArray(4);var ARRAY7=getArray(7);var ARRAY24=getArray(24);function constrain(val,min,max){return Math.max(min,Math.min(val,max))}function extend(obj1,obj2){return __assign(__assign({},obj1),obj2)}function isArray(obj){return Array.isArray(obj)}function isNumeric(a){return a-parseFloat(a)>=0}function isNumber(a){return typeof a==="number"}function isString(s){return typeof s==="string"}function isEmpty(v){return v===UNDEFINED||v===null||v===""}function isUndefined(v){return typeof v==="undefined"}function isObject(v){return typeof v==="object"}function emptyOrTrue(value){return value!==null&&value!==UNDEFINED&&"".concat(value)!=="false"}function getArray(nr){return Array.apply(0,Array(Math.max(0,nr)))}function addPixel(value){return value!==UNDEFINED?value+(isNumeric(value)?"px":""):""}function noop(){return}function pad(num,size){if(size===void 0){size=2}var str=num+"";while(str.length<size){str="0"+str}return str}function round(nr){return Math.round(nr)}function step(value,st){return floor(value/st)*st}function floor(nr){return Math.floor(nr)}function throttle(fn,threshhold){if(threshhold===void 0){threshhold=100}var last;var timer;return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}var now=+new Date;if(last&&now<last+threshhold){clearTimeout(timer);timer=setTimeout((function(){last=now;fn.apply(void 0,args)}),threshhold)}else{last=now;fn.apply(void 0,args)}}}function debounce(fn,threshhold){var timer;return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}clearTimeout(timer);timer=setTimeout((function(){fn.apply(void 0,args)}),threshhold)}}function arrayContentEquals(arr1,arr2){if(arr1===arr2){return true}if(arr1&&!arr2||arr2&&!arr1){return false}if(arr1.length!==arr2.length){return false}for(var i=0;i<arr1.length;i++){if(arr1[i]!==arr2[i]){return false}}return true}function ngSetTimeout(inst,cb){if(inst._cdr){setTimeout(cb)}else{cb()}}function find(arr,fn){return findItemOrIndex(arr,fn)}function findIndex(arr,fn){return findItemOrIndex(arr,fn,true)}function findItemOrIndex(arr,fn,index){var len=arr.length;for(var i=0;i<len;i++){var item=arr[i];if(fn(item,i)){return index?i:item}}return index?-1:UNDEFINED}function map(v,fn){if(isArray(v)){return v.map(fn)}else{return fn(v,0,[v])}}function toArray(m){var arr=[];if(m){for(var _i=0,_a=Object.keys(m);_i<_a.length;_i++){var key=_a[_i];arr.push(m[key])}}return arr}var gDaysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];var jDaysInMonth=[31,31,31,31,31,31,30,30,30,30,30,29];function jalaliToGregorian(jY,jM,jD){var i;var jy=jY-979;var jm=jM-1;var jd=jD-1;var jDayNo=365*jy+floor(jy/33)*8+floor((jy%33+3)/4);for(i=0;i<jm;++i){jDayNo+=jDaysInMonth[i]}jDayNo+=jd;var gDayNo=jDayNo+79;var gy=1600+400*floor(gDayNo/146097);gDayNo=gDayNo%146097;var leap=true;if(gDayNo>=36525){gDayNo--;gy+=100*floor(gDayNo/36524);gDayNo=gDayNo%36524;if(gDayNo>=365){gDayNo++}else{leap=false}}gy+=4*floor(gDayNo/1461);gDayNo%=1461;if(gDayNo>=366){leap=false;gDayNo--;gy+=floor(gDayNo/365);gDayNo=gDayNo%365}for(i=0;gDayNo>=gDaysInMonth[i]+(i===1&&leap?1:0);i++){gDayNo-=gDaysInMonth[i]+(i===1&&leap?1:0)}var gm=i+1;var gd=gDayNo+1;return[gy,gm,gd]}function checkDate(jY,jM,jD){return!(jY<0||jY>32767||jM<1||jM>12||jD<1||jD>jDaysInMonth[jM-1]+(jM===12&&(jY-979)%33%4===0?1:0))}function gregorianToJalali(gY,gM,gD){var i;var gy=gY-1600;var gm=gM-1;var gd=gD-1;var gDayNo=365*gy+floor((gy+3)/4)-floor((gy+99)/100)+floor((gy+399)/400);for(i=0;i<gm;++i){gDayNo+=gDaysInMonth[i]}if(gm>1&&(gy%4===0&&gy%100!==0||gy%400===0)){++gDayNo}gDayNo+=gd;var jDayNo=gDayNo-79;var jNp=floor(jDayNo/12053);jDayNo%=12053;var jy=979+33*jNp+4*floor(jDayNo/1461);jDayNo%=1461;if(jDayNo>=366){jy+=floor((jDayNo-1)/365);jDayNo=(jDayNo-1)%365}for(i=0;i<11&&jDayNo>=jDaysInMonth[i];++i){jDayNo-=jDaysInMonth[i]}var jm=i+1;var jd=jDayNo+1;return[jy,jm,jd]}var jalaliCalendar={getYear:function(date){return gregorianToJalali(date.getFullYear(),date.getMonth()+1,date.getDate())[0]},getMonth:function(date){return--gregorianToJalali(date.getFullYear(),date.getMonth()+1,date.getDate())[1]},getDay:function(date){return gregorianToJalali(date.getFullYear(),date.getMonth()+1,date.getDate())[2]},getDate:function(y,m,d,h,i,s,u){if(m<0){y+=floor(m/12);m=m%12?12+m%12:0}if(m>11){y+=floor(m/12);m=m%12}var gregorianDate=jalaliToGregorian(y,+m+1,d);return new Date(gregorianDate[0],gregorianDate[1]-1,gregorianDate[2],h||0,i||0,s||0,u||0)},getMaxDayOfMonth:function(y,m){var maxdays=31;if(m<0){y+=floor(m/12);m=m%12?12+m%12:0}if(m>11){y+=floor(m/12);m=m%12}while(!checkDate(y,m+1,maxdays)&&maxdays>29){maxdays--}return maxdays}};var fa={setText:"تاييد",cancelText:"انصراف",clearText:"واضح ",closeText:"نزدیک",selectedText:"{count} منتخب",rtl:true,calendarSystem:jalaliCalendar,dateFormat:"YYYY/MM/DD",dateFormatFull:"DDDD D MMMM YYYY",dateFormatLong:"DDD D MMM YYYY",dateWheelFormat:"|DDDD MMM D|",dayNames:["يکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه"],dayNamesShort:["ی","د","س","چ","پ","ج","ش"],dayNamesMin:["ی","د","س","چ","پ","ج","ش"],dayText:"روز",hourText:"ساعت",minuteText:"دقيقه",fromText:"شروع ",monthNames:["فروردين","ارديبهشت","خرداد","تير","مرداد","شهريور","مهر","آبان","آذر","دی","بهمن","اسفند"],monthNamesShort:["فروردين","ارديبهشت","خرداد","تير","مرداد","شهريور","مهر","آبان","آذر","دی","بهمن","اسفند"],monthText:"ماه",secondText:"ثانيه",timeFormat:"HH:mm",timeWheels:"mmHH",yearText:"سال",toText:"پایان",nowText:"اکنون",amText:"ب",pmText:"ص",todayText:"امروز",firstDay:6,dateText:"تاریخ ",timeText:"زمان ",allDayText:"تمام روز",noEventsText:"هیچ رویداد",eventText:"رویداد",eventsText:"رویدادها",moreEventsText:"{count} مورد دیگر",weekText:"{count} هفته",rangeStartLabel:"شروع ",rangeEndLabel:"پایان",rangeStartHelp:"انتخاب کنید",rangeEndHelp:"انتخاب کنید",filterEmptyText:"نتیجه ای ندارد",filterPlaceholderText:"جستجو کردن"};var fi={setText:"Aseta",cancelText:"Peruuta",clearText:"Tyhjennä",closeText:"Sulje",selectedText:"{count} valita",dateFormat:"D. MMMM YYYY",dateFormatFull:"DDDD, D. MMMM YYYY",dateFormatLong:"DDD, D. MMMM, YYYY",dateWheelFormat:"|DDD D. M.|",dayNames:["Sunnuntai","Maanantai","Tiistai","Keskiviiko","Torstai","Perjantai","Lauantai"],dayNamesShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayNamesMin:["S","M","T","K","T","P","L"],dayText:"Päivä",hourText:"Tuntia",minuteText:"Minuutti",fromText:"Alkaa",monthNames:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],monthNamesShort:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],monthText:"Kuukausi",secondText:"Sekunda",timeFormat:"H:mm",yearText:"Vuosi",toText:"Päättyy",nowText:"Nyt",pmText:"pm",amText:"am",firstDay:1,dateText:"Päiväys",timeText:"Aika",todayText:"Tänään",eventText:"Tapahtumia",eventsText:"Tapahtumia",allDayText:"Koko päivä",noEventsText:"Ei tapahtumia",moreEventsText:"{count} muu",moreEventsPluralText:"{count} muuta",weekText:"Viikko {count}",rangeStartLabel:"Alkaa",rangeEndLabel:"Päättyy",rangeStartHelp:"Valitse",rangeEndHelp:"Valitse",filterEmptyText:"Ei tuloksia",filterPlaceholderText:"Haku"};var fr={setText:"Terminer",cancelText:"Annuler",clearText:"Effacer",closeText:"Fermer",selectedText:"{count} sélectionné",selectedPluralText:"{count} sélectionnés",dateFormat:"DD/MM/YYYY",dateFormatFull:"DDDD D MMMM YYYY",dateFormatLong:"DDD D MMM YYYY",dateWheelFormat:"|DDD D MMM|",dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim.","Lun.","Mar.","Mer.","Jeu.","Ven.","Sam."],dayNamesMin:["D","L","M","M","J","V","S"],dayText:"Jour",monthText:"Mois",fromText:"Démarrer",monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthNamesShort:["Janv.","Févr.","Mars","Avril","Mai","Juin","Juil.","Août","Sept.","Oct.","Nov.","Déc."],hourText:"Heures",minuteText:"Minutes",secondText:"Secondes",timeFormat:"HH:mm",yearText:"Année",toText:"Fin",nowText:"Maintenant",pmText:"pm",amText:"am",todayText:"Aujourd'hui",firstDay:1,dateText:"Date",timeText:"Heure",allDayText:"Toute la journée",noEventsText:"Aucun événement",eventText:"Événement",eventsText:"Événements",moreEventsText:"{count} autre",moreEventsPluralText:"{count} autres",weekText:"Semaine {count}",rangeStartLabel:"Début",rangeEndLabel:"Fin",rangeStartHelp:"Choisir",rangeEndHelp:"Choisir",filterEmptyText:"Aucun résultat",filterPlaceholderText:"Rechercher"};var he={rtl:true,setText:"שמירה",cancelText:"ביטול",clearText:"נקה",closeText:"סגירה",selectedText:"{count} נבחר",selectedPluralText:"{count} נבחרו",dateFormat:"DD/MM/YYYY",dateFormatFull:"DDDD, D בMMMM YYYY",dateFormatLong:"DDD, D בMMM YYYY",dateWheelFormat:"|DDD D MMM|",dayNames:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],dayNamesShort:["א'","ב'","ג'","ד'","ה'","ו'","ש'"],dayNamesMin:["א","ב","ג","ד","ה","ו","ש"],dayText:"יום",hourText:"שעות",minuteText:"דקות",fromText:"התחלה",monthNames:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],monthNamesShort:["ינו","פבר","מרץ","אפר","מאי","יונ","יול","אוג","ספט","אוק","נוב","דצמ"],monthText:"חודש",secondText:"שניות",amText:"am",pmText:"pm",timeFormat:"H:mm",timeWheels:"mmH",yearText:"שנה",toText:"סיום",nowText:"עכשיו",firstDay:0,dateText:"תאריך",timeText:"זמן",todayText:"היום",allDayText:"כל היום",noEventsText:"אין אירועים",eventText:"מִקרֶה",eventsText:"מִקרֶה",moreEventsText:"אירוע אחד נוסף",moreEventsPluralText:"{count} אירועים נוספים",weekText:"{count} שבוע",rangeStartLabel:"התחלה",rangeEndLabel:"סיום",rangeStartHelp:"בחר",rangeEndHelp:"בחר",filterEmptyText:"אין תוצאוה",filterPlaceholderText:"לחפש"};var hi={setText:"सैट करें",cancelText:"रद्द करें",clearText:"साफ़ को",closeText:"बंद",selectedText:"{count} चयनित",dateFormat:"DD/MM/YYYY",dateFormatFull:"DDDD, D MMMM YYYY",dateFormatLong:"DDD, D MMM YYYY",dateWheelFormat:"|DDD D MMM|",dayNames:["रविवार","सोमवार","मंगलवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"],dayNamesShort:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],dayNamesMin:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],dayText:"दिन",hourText:"घंटा",minuteText:"मिनट",fromText:"से",monthNames:["जनवरी ","फरवरी","मार्च","अप्रेल","मई","जून","जूलाई","अगस्त ","सितम्बर","अक्टूबर","नवम्बर","दिसम्बर"],monthNamesShort:["जन","फर","मार्च","अप्रेल","मई","जून","जूलाई","अग","सित","अक्ट","नव","दि"],monthText:"महीना",secondText:"सेकंड",timeFormat:"H:mm",yearText:"साल",toText:"तक",nowText:"अब",pmText:"अपराह्न",amText:"पूर्वाह्न",firstDay:1,dateText:"तिथि",timeText:"समय",todayText:"आज",eventText:"इवेट३",eventsText:"इवेट३",allDayText:"पूरे दिन",noEventsText:"Ei tapahtumia",moreEventsText:"{count} और",weekText:"सप्ताह {count}",rangeStartLabel:"से",rangeEndLabel:"तक",rangeStartHelp:"चुनें",rangeEndHelp:"चुनें",filterEmptyText:"कोई परिणाम नही",filterPlaceholderText:"खोज"};var hr={setText:"Postavi",cancelText:"Izlaz",clearText:"Izbriši",closeText:"Zatvori",selectedText:"{count} odabran",dateFormat:"DD.MM.YYYY",dateFormatFull:"DDDD, D. MMMM YYYY.",dateFormatLong:"DDD, D. MMM. YYYY.",dateWheelFormat:"|DDD D MMM|",dayNames:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],dayText:"Dan",hourText:"Sat",minuteText:"Minuta",fromText:"Počinje",monthNames:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],monthNamesShort:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],monthText:"Mjesec",secondText:"Sekunda",timeFormat:"H:mm",yearText:"Godina",toText:"Završava",nowText:"Sada",pmText:"pm",amText:"am",firstDay:1,dateText:"Datum",timeText:"Vrijeme",todayText:"Danas",eventText:"Događaj",eventsText:"događaja",allDayText:"Cijeli dan",noEventsText:"Bez događaja",moreEventsText:"Još {count}",weekText:"{count}. tjedan",rangeStartLabel:"Počinje",rangeEndLabel:"Završava",rangeStartHelp:"Odaberite",rangeEndHelp:"Odaberite",filterEmptyText:"Bez rezultata",filterPlaceholderText:"Traži"};var hu={setText:"OK",cancelText:"Mégse",clearText:"Törlés",closeText:"Bezár",selectedText:"{count} kiválasztva",dateFormat:"YYYY.MM.DD.",dateFormatFull:"YYYY. MMMM D., DDDD",dateFormatLong:"YYYY. MMM. D., DDD",dateWheelFormat:"|MMM. D. DDD|",dayNames:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],dayNamesShort:["Va","Hé","Ke","Sze","Csü","Pé","Szo"],dayNamesMin:["V","H","K","Sz","Cs","P","Sz"],dayText:"Nap",hourText:"Óra",minuteText:"Perc",fromText:"Eleje",monthNames:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],monthNamesShort:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],monthText:"Hónap",secondText:"Másodperc",timeFormat:"H:mm",yearText:"Év",toText:"Vége",nowText:"Most",pmText:"pm",amText:"am",firstDay:1,dateText:"Dátum",timeText:"Idő",todayText:"Ma",eventText:"esemény",eventsText:"esemény",allDayText:"Egész nap",noEventsText:"Nincs esemény",moreEventsText:"{count} további",weekText:"{count}. hét",rangeStartLabel:"Eleje",rangeEndLabel:"Vége",rangeStartHelp:"Válasszon",rangeEndHelp:"Válasszon",filterEmptyText:"Nincs találat",filterPlaceholderText:"Keresés"};var it={setText:"OK",cancelText:"Annulla",clearText:"Chiarire",closeText:"Chiudere",selectedText:"{count} selezionato",selectedPluralText:"{count} selezionati",dateFormat:"DD/MM/YYYY",dateFormatFull:"DDDD D MMMM YYYY",dateFormatLong:"DDD D MMM YYYY",dateWheelFormat:"|DDD D MMM|",dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Do","Lu","Ma","Me","Gi","Ve","Sa"],dayNamesMin:["D","L","M","M","G","V","S"],dayText:"Giorno",hourText:"Ore",minuteText:"Minuti",fromText:"Inizio",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],monthText:"Mese",secondText:"Secondi",timeFormat:"HH:mm",yearText:"Anno",toText:"Fine",nowText:"Ora",pmText:"pm",amText:"am",todayText:"Oggi",firstDay:1,dateText:"Data",timeText:"Volta",allDayText:"Tutto il giorno",noEventsText:"Nessun evento",eventText:"Evento",eventsText:"Eventi",moreEventsText:"{count} altro",moreEventsPluralText:"altri {count}",weekText:"Settimana {count}",rangeStartLabel:"Inizio",rangeEndLabel:"Fine",rangeStartHelp:"Scegli",rangeEndHelp:"Scegli",filterEmptyText:"Nessun risultato",filterPlaceholderText:"Cerca"};var ja={setText:"セット",cancelText:"キャンセル",clearText:"クリア",closeText:"クローズ",selectedText:"{count} 選択",dateFormat:"YYYY年MM月DD日",dateFormatFull:"YYYY年MM月DD日",dateFormatLong:"YYYY年MM月DD日",dateWheelFormat:"|M月D日 DDD|",dayNames:["日","月","火","水","木","金","土"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],dayText:"日",hourText:"時",minuteText:"分",fromText:"開始",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthText:"月",secondText:"秒",timeFormat:"H:mm",yearText:"年",toText:"終わり",nowText:"今",pmText:"午後",amText:"午前",yearSuffix:"年",monthSuffix:"月",daySuffix:"日",todayText:"今日",dateText:"日付",timeText:"時間",allDayText:"終日",noEventsText:"イベントはありません",eventText:"イベント",eventsText:"イベント",moreEventsText:"他 {count} 件",weekText:"{count}週目",rangeStartLabel:"開始",rangeEndLabel:"終わり",rangeStartHelp:"選択",rangeEndHelp:"選択",filterEmptyText:"検索結果はありません",filterPlaceholderText:"探す"};var ko={setText:"설정",cancelText:"취소",clearText:"삭제",closeText:"닫기",selectedText:"{count} 선택된",dateFormat:"YYYY년MM월DD일",dateFormatFull:"YYYY년MM월DD일",dateFormatLong:"YYYY년MM월DD일",dateWheelFormat:"|M월 D일 DDD|",dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesShort:["일","월","화","수","목","금","토"],dayNamesMin:["일","월","화","수","목","금","토"],dayText:"일",hourText:"시간",minuteText:"분",fromText:"시작",monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthText:"달",secondText:"초",timeFormat:"H:mm",yearText:"년",toText:"종료",nowText:"지금",pmText:"오후",amText:"오전",yearSuffix:"년",monthSuffix:"월",daySuffix:"일",firstDay:0,dateText:"날짜",timeText:"시간",todayText:"오늘",eventText:"이벤트",eventsText:"이벤트",allDayText:"종일",noEventsText:"이벤트 없음",moreEventsText:"{count}개 더보기",weekText:"{count}주차",rangeStartLabel:"시작",rangeEndLabel:"종료",rangeStartHelp:"선택",rangeEndHelp:"선택",filterEmptyText:"결과가 없다",filterPlaceholderText:"찾다"};var lt={setText:"OK",cancelText:"Atšaukti",clearText:"Išvalyti",closeText:"Uždaryti",selectedText:"Pasirinktas {count}",selectedPluralText:"Pasirinkti {count}",dateFormat:"YYYY-MM-DD",dateFormatFull:"YYYY MMMM D DDDD",dateFormatLong:"YYYY-MM-DD",dateWheelFormat:"|MM-DD DDD|",dayNames:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"],dayNamesShort:["S","Pr","A","T","K","Pn","Š"],dayNamesMin:["S","Pr","A","T","K","Pn","Š"],dayText:"Diena",hourText:"Valanda",minuteText:"Minutes",fromText:"Nuo",monthNames:["Sausis","Vasaris","Kovas","Balandis","Gegužė","Birželis","Liepa","Rugpjūtis","Rugsėjis","Spalis","Lapkritis","Gruodis"],monthNamesShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gruo"],monthText:"Mėnuo",secondText:"Sekundes",amText:"am",pmText:"pm",timeFormat:"HH:mm",yearText:"Metai",toText:"Iki",nowText:"Dabar",todayText:"Šiandien",firstDay:1,dateText:"Data",timeText:"Laikas",allDayText:"Visą dieną",noEventsText:"Nėra įvykių",eventText:"Įvykių",eventsText:"Įvykiai",moreEventsText:"Dar {count}",weekText:"{count} savaitė",rangeStartLabel:"Nuo",rangeEndLabel:"Iki",rangeStartHelp:"Pasirinkti",rangeEndHelp:"Pasirinkti",filterEmptyText:"Nėra rezultatų",filterPlaceholderText:"Paieška"};var nl={setText:"Instellen",cancelText:"Annuleren",clearText:"Leegmaken",closeText:"Sluiten",selectedText:"{count} gekozen",dateFormat:"DD-MM-YYYY",dateFormatFull:"DDDD D MMMM YYYY",dateFormatLong:"DD-MM-YYYY",dateWheelFormat:"|DDD D MMM|",dayNames:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],dayNamesShort:["Zo","Ma","Di","Wo","Do","Vr","Za"],dayNamesMin:["Z","M","D","W","D","V","Z"],dayText:"Dag",hourText:"Uur",minuteText:"Minuten",fromText:"Start",monthNames:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],monthText:"Maand",secondText:"Seconden",timeFormat:"HH:mm",yearText:"Jaar",toText:"Einde",nowText:"Nu",pmText:"pm",amText:"am",todayText:"Vandaag",firstDay:1,dateText:"Datum",timeText:"Tijd",allDayText:"Hele dag",noEventsText:"Geen activiteiten",eventText:"Activiteit",eventsText:"Activiteiten",moreEventsText:"nog {count}",weekText:"Week {count}",rangeStartLabel:"Start",rangeEndLabel:"Einde",rangeStartHelp:"Kies",rangeEndHelp:"Kies",filterEmptyText:"Niets gevonden",filterPlaceholderText:"Zoek"};var no={setText:"OK",cancelText:"Avbryt",clearText:"Tømme",closeText:"Lukk",selectedText:"{count} valgt",dateFormat:"DD.MM.YYY",dateFormatFull:"DDDD D. MMMM YYYY",dateFormatLong:"DDD. D. MMM. YYYY",dateWheelFormat:"|DDD. D. MMM.|",dayNames:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],dayNamesShort:["Sø","Ma","Ti","On","To","Fr","Lø"],dayNamesMin:["S","M","T","O","T","F","L"],dayText:"Dag",hourText:"Time",minuteText:"Minutt",fromText:"Start",monthNames:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],monthText:"Måned",secondText:"Sekund",timeFormat:"HH:mm",yearText:"År",toText:"End",nowText:"Nå",pmText:"pm",amText:"am",todayText:"I dag",firstDay:1,dateText:"Dato",timeText:"Tid",allDayText:"Hele dagen",noEventsText:"Ingen hendelser",eventText:"Hendelse",eventsText:"Hendelser",moreEventsText:"{count} mere",weekText:"Uke {count}",rangeStartLabel:"Start",rangeEndLabel:"End",rangeStartHelp:"Velg",rangeEndHelp:"Velg",filterEmptyText:"Ingen treff",filterPlaceholderText:"Søk"};var pl={setText:"Zestaw",cancelText:"Anuluj",clearText:"Oczyścić",closeText:"Zakończenie",selectedText:"Wybór: {count}",dateFormat:"YYYY-MM-DD",dateFormatFull:"DDDD, D MMMM YYYY",dateFormatLong:"DDD, D MMM YYYY",dateWheelFormat:"|DDD D.MM|",dayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],dayNamesShort:["Nie.","Pon.","Wt.","Śr.","Czw.","Pt.","Sob."],dayNamesMin:["N","P","W","Ś","C","P","S"],dayText:"Dzień",hourText:"Godziny",minuteText:"Minuty",fromText:"Rozpoczęcie",monthNames:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthNamesShort:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],monthText:"Miesiąc",secondText:"Sekundy",timeFormat:"HH:mm",yearText:"Rok",toText:"Koniec",nowText:"Teraz",amText:"am",pmText:"pm",todayText:"Dzisiaj",firstDay:1,dateText:"Data",timeText:"Czas",allDayText:"Cały dzień",noEventsText:"Brak wydarzeń",eventText:"Wydarzeń",eventsText:"Wydarzenia",moreEventsText:"Jeszcze {count}",weekText:"Tydzień {count}",rangeStartLabel:"Rozpoczęcie",rangeEndLabel:"Koniec",rangeStartHelp:"Wybierz",rangeEndHelp:"Wybierz",filterEmptyText:"Brak wyników",filterPlaceholderText:"Szukaj"};var ptPT={setText:"Seleccionar",cancelText:"Cancelar",clearText:"Claro",closeText:"Fechar",selectedText:"{count} selecionado",selectedPluralText:"{count} selecionados",dateFormat:"DD-MM-YYYY",dateFormatFull:"DDDD, D MMMM YYYY",dateFormatLong:"DDD, D MMM, YYYY",dateWheelFormat:"|DDD D de MMM|",dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["D","S","T","Q","Q","S","S"],dayText:"Dia",hourText:"Horas",minuteText:"Minutos",fromText:"Início",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],monthText:"Mês",secondText:"Segundo",timeFormat:"HH:mm",yearText:"Ano",toText:"Fim",nowText:"Actualizar",pmText:"pm",amText:"am",todayText:"Hoje",firstDay:1,dateText:"Data",timeText:"Tempo",allDayText:"Todo o dia",noEventsText:"Nenhum evento",eventText:"Evento",eventsText:"Eventos",moreEventsText:"Mais {count}",weekText:"Semana {count}",rangeStartLabel:"Início",rangeEndLabel:"Fim",rangeStartHelp:"Escolha",rangeEndHelp:"Escolha",filterEmptyText:"Nenhum resultado",filterPlaceholderText:"Pesquisa"};var ptBR={setText:"Selecionar",dateFormat:"DD/MM/YYYY",nowText:"Agora",allDayText:"Dia inteiro",filterPlaceholderText:"Buscar"};var localePtBR=/*#__PURE__*/extend(ptPT,ptBR);var ro={setText:"Setare",cancelText:"Anulare",clearText:"Ştergere",closeText:"Închidere",selectedText:"{count} selectat",selectedPluralText:"{count} selectate",dateFormat:"DD.MM.YYYY",dateFormatFull:"DDDD, D MMMM YYYY",dateFormatLong:"DDD., D MMM YYYY",dateWheelFormat:"|DDD. D MMM|",dayNames:["Duminică","Luni","Marți","Miercuri","Joi","Vineri","Sâmbătă"],dayNamesShort:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],dayNamesMin:["D","L","M","M","J","V","S"],dayText:" Ziua",hourText:" Ore ",minuteText:"Minute",fromText:"Start",monthNames:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthNamesShort:["Ian.","Feb.","Mar.","Apr.","Mai","Iun.","Iul.","Aug.","Sept.","Oct.","Nov.","Dec."],monthText:"Luna",secondText:"Secunde",timeFormat:"HH:mm",yearText:"Anul",toText:"Final",nowText:"Acum",amText:"am",pmText:"pm",todayText:"Astăzi",eventText:"Eveniment",eventsText:"Evenimente",allDayText:"Toată ziua",noEventsText:"Niciun eveniment",moreEventsText:"Încă unul",moreEventsPluralText:"Încă {count}",firstDay:1,dateText:"Data",timeText:"Ora",weekText:"Săptămâna {count}",rangeStartLabel:"Start",rangeEndLabel:"Final",rangeStartHelp:"Selectare",rangeEndHelp:"Selectare",filterEmptyText:"Niciun rezultat",filterPlaceholderText:"Căutare"};var ru={setText:"Установить",cancelText:"Отмена",clearText:"Очистить",closeText:"Закрыть",selectedText:"{count} Выбрать",dateFormat:"DD.MM.YYYY",dateFormatFull:"DDDD, D MMMM YYYY",dateFormatLong:"DDD, D MMM YYYY",dateWheelFormat:"|DDD D MMM|",dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вс","пн","вт","ср","чт","пт","сб"],dayNamesMin:["в","п","в","с","ч","п","с"],dayText:"День",hourText:"Час",minuteText:"Минут",fromText:"Начало",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],monthText:"Месяц",secondText:"Секунд",timeFormat:"HH:mm",yearText:"Год",toText:"Конец",nowText:"Сейчас",amText:"am",pmText:"pm",todayText:"Cегодня",firstDay:1,dateText:"Дата",timeText:"Время",allDayText:"Весь день",noEventsText:"Нет событий",eventText:"Мероприятия",eventsText:"Мероприятия",moreEventsText:"Ещё {count}",weekText:"Неделя {count}",rangeStartLabel:"Начало",rangeEndLabel:"Конец",rangeStartHelp:"выбирать",rangeEndHelp:"выбирать",filterEmptyText:"Нет результатов",filterPlaceholderText:"Поиск"};var ruUA={cancelText:"Отменить",clearText:"Очиститьr",selectedText:"{count} Вібрать",monthNamesShort:["Янв.","Февр.","Март","Апр.","Май","Июнь","Июль","Авг.","Сент.","Окт.","Нояб.","Дек."],filterEmptyText:"Ніякага выніку",filterPlaceholderText:"Пошук"};var localeRuUA=/*#__PURE__*/extend(ru,ruUA);var sk={setText:"Zadaj",cancelText:"Zrušiť",clearText:"Vymazať",closeText:"Zavrieť",selectedText:"Označený: {count}",dateFormat:"D.M.YYYY",dateFormatFull:"DDDD D. MMMM YYYY",dateFormatLong:"DDD D. MMM YYYY",dateWheelFormat:"|DDD D. MMM|",dayNames:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"],dayNamesShort:["Ne","Po","Ut","St","Št","Pi","So"],dayNamesMin:["N","P","U","S","Š","P","S"],dayText:"Ďeň",hourText:"Hodiny",minuteText:"Minúty",fromText:"Začiatok",monthNames:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],monthText:"Mesiac",secondText:"Sekundy",timeFormat:"H:mm",yearText:"Rok",toText:"Koniec",nowText:"Teraz",amText:"am",pmText:"pm",todayText:"Dnes",firstDay:1,dateText:"Datum",timeText:"Čas",allDayText:"Celý deň",noEventsText:"Žiadne udalosti",eventText:"Udalostí",eventsText:"Udalosti",moreEventsText:"{count} ďalšia",moreEventsPluralText:"{count} ďalšie",weekText:"{count}. týždeň",rangeStartLabel:"Začiatok",rangeEndLabel:"Koniec",rangeStartHelp:"Vybrať",rangeEndHelp:"Vybrať",filterEmptyText:"Žiadne výsledky",filterPlaceholderText:"Vyhľadávanie"};var sr={setText:"Постави",cancelText:"Откажи",clearText:"Обриши",selectedText:"{count} изабрана",dateFormat:"DD.MM.YYYY",dateFormatFull:"DDDD, D. MMMM YYYY.",dateFormatLong:"DDD, D. MMM YYYY.",dateWheelFormat:"|DDD D. MMM|",dayNames:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"],dayNamesShort:["Нед","Пон","Уто","Сре","Чет","Пет","Суб"],dayNamesMin:["Не","По","Ут","Ср","Че","Пе","Су"],dayText:"Дан",hourText:"Час",minuteText:"Минут",fromText:"Од",monthNames:["Јануар","Фебруар","Март","Април","Мај","Јун","Јул","Август","Септембар","Октобар","Новембар","Децембар"],monthNamesShort:["Јан","Феб","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Нов","Дец"],monthText:"месец",secondText:"Секунд",timeFormat:"HH:mm",yearText:"година",toText:"До",nowText:"сада",pmText:"pm",amText:"am",firstDay:1,dateText:"Датум",timeText:"време",todayText:"Данас",closeText:"Затвори",eventText:"Догађај",eventsText:"Догађаји",allDayText:"Цео дан",noEventsText:"Нема догађаја",moreEventsText:"Још {count}",weekText:"{count}. недеља",rangeStartLabel:"Од",rangeEndLabel:"До",rangeStartHelp:"Изаберите",rangeEndHelp:"Изаберите",filterEmptyText:"Без резултата",filterPlaceholderText:"Претрага"};var sv={setText:"OK",cancelText:"Avbryt",clearText:"Klara",closeText:"Stäng",selectedText:"{count} vald",dateFormat:"YYYY-MM-DD",dateFormatFull:"DDDD D MMMM YYYY",dateFormatLong:"DDD D MMM. YYYY",dateWheelFormat:"|DDD D MMM|",dayNames:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],dayNamesShort:["Sö","Må","Ti","On","To","Fr","Lö"],dayNamesMin:["S","M","T","O","T","F","L"],dayText:"Dag",hourText:"Timme",minuteText:"Minut",fromText:"Start",monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],monthText:"Månad",secondText:"Sekund",timeFormat:"HH:mm",yearText:"År",toText:"Slut",nowText:"Nu",pmText:"pm",amText:"am",todayText:"I dag",firstDay:1,dateText:"Datum",timeText:"Tid",allDayText:"Heldag",noEventsText:"Inga aktiviteter",eventText:"Händelse",eventsText:"Händelser",moreEventsText:"{count} till",weekText:"Vecka {count}",rangeStartLabel:"Start",rangeEndLabel:"Slut",rangeStartHelp:"Välj",rangeEndHelp:"Välj",filterEmptyText:"Inga träffar",filterPlaceholderText:"Sök"};var th={setText:"ตั้งค่า",cancelText:"ยกเลิก",clearText:"ล้าง",closeText:"ปิด",selectedText:"{count} เลือก",dateFormat:"DD/MM/YYYY",dateFormatFull:"วันDDDDที่ D MMMM YYYY",dateFormatLong:"วันDDDที่ D MMM YYYY",dateWheelFormat:"|DDD D MMM|",dayNames:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],dayNamesShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayNamesMin:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayText:"วัน",hourText:"ชั่วโมง",minuteText:"นาที",fromText:"จาก",monthNames:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],monthNamesShort:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],monthText:"เดือน",secondText:"วินาที",timeFormat:"HH:mm",yearText:"ปี",toText:"ถึง",nowText:"ตอนนี้",pmText:"pm",amText:"am",firstDay:0,dateText:"วัน",timeText:"เวลา",todayText:"วันนี้",eventText:"เหตุการณ์",eventsText:"เหตุการณ์",allDayText:"ตลอดวัน",noEventsText:"ไม่มีกิจกรรม",moreEventsText:"อีก {count} กิจกรรม",weekText:"สัปดาห์ที่ {count}",rangeStartLabel:"จาก",rangeEndLabel:"ถึง",rangeStartHelp:"เลือก",rangeEndHelp:"เลือก",filterEmptyText:"ไม่มีผลลัพธ์",filterPlaceholderText:"ค้นหา"};var tr={setText:"Seç",cancelText:"İptal",clearText:"Temizleyin",closeText:"Kapatmak",selectedText:"{count} seçilmiş",dateFormat:"DD.MM.YYYY",dateFormatFull:"D MMMM DDDD YYYY",dateFormatLong:"D MMMM DDD, YYYY",dateWheelFormat:"|D MMM DDD|",dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"],dayNamesMin:["P","P","S","Ç","P","C","C"],dayText:"Gün",hourText:"Saat",minuteText:"Dakika",fromText:"Başla",monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],monthText:"Ay",secondText:"Saniye",timeFormat:"HH:mm",yearText:"Yıl",toText:"Son",nowText:"Şimdi",pmText:"pm",amText:"am",todayText:"Bugün",firstDay:1,dateText:"Tarih",timeText:"Zaman",allDayText:"Tüm gün",noEventsText:"Etkinlik Yok",eventText:"Etkinlik",eventsText:"Etkinlikler",moreEventsText:"{count} tane daha",weekText:"{count}. Hafta",rangeStartLabel:"Başla",rangeEndLabel:"Son",rangeStartHelp:"Seç",rangeEndHelp:"Seç",filterEmptyText:"Sonuç Yok",filterPlaceholderText:"Arayın"};var ua={setText:"встановити",cancelText:"відміна",clearText:"очистити",closeText:"Закрити",selectedText:"{count} вибрані",dateFormat:"DD.MM.YYYY",dateFormatFull:"DDDD, D MMMM YYYY",dateFormatLong:"DDD, D MMM. YYYY",dateWheelFormat:"|DDD D MMM.|",dayNames:["неділя","понеділок","вівторок","середа","четвер","п’ятниця","субота"],dayNamesShort:["нед","пнд","вів","срд","чтв","птн","сбт"],dayNamesMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayText:"День",hourText:"година",minuteText:"хвилина",fromText:"від",monthNames:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthNamesShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],monthText:"Місяць",secondText:"Секунд",timeFormat:"H:mm",yearText:"Рік",toText:"кінець",nowText:"Зараз",pmText:"pm",amText:"am",firstDay:1,dateText:"дата",timeText:"Час",todayText:"Сьогодні",eventText:"подія",eventsText:"події",allDayText:"Увесь день",noEventsText:"Жодної події",moreEventsText:"та ще {count}",weekText:"{count} тиждень",rangeStartLabel:"від",rangeEndLabel:"кінець",rangeEndHelp:"Обрати",rangeStartHelp:"Обрати",filterEmptyText:"Ніякого результату",filterPlaceholderText:"Пошук"};var vi={setText:"Đặt",cancelText:"Hủy bò",clearText:"Xóa",closeText:"Đóng",selectedText:"{count} chọn",dateFormat:"DD/MM/YYYY",dateFormatFull:"DDDD, D MMMM YYYY",dateFormatLong:"DDD D, MMM YYYY",dateWheelFormat:"|DDD D MMM|",dayNames:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"],dayNamesShort:["CN","T2","T3","T4","T5","T6","T7"],dayNamesMin:["CN","T2","T3","T4","T5","T6","T7"],dayText:"",hourText:"Giờ",minuteText:"Phút",fromText:"Từ",monthNames:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"],monthNamesShort:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],monthText:"Tháng",secondText:"Giây",timeFormat:"H:mm",yearText:"Năm",toText:"Tới",nowText:"Bây giờ",pmText:"pm",amText:"am",firstDay:0,dateText:"Ngày",timeText:"Hồi",todayText:"Hôm nay",eventText:"Sự kiện",eventsText:"Sự kiện",allDayText:"Cả ngày",noEventsText:"Không có sự kiện",moreEventsText:"{count} thẻ khác",weekText:"Tuần {count}",rangeStartLabel:"Từ",rangeEndLabel:"Tới",rangeStartHelp:"Chọn",rangeEndHelp:"Chọn",filterEmptyText:"Không kết quả",filterPlaceholderText:"Tìm kiếm"};var zh={setText:"确定",cancelText:"取消",clearText:"明确",closeText:"关闭",selectedText:"{count} 选",dateFormat:"YYYY年M月D日",dateFormatFull:"YYYY年M月D日",dateFormatLong:"YYYY年M月D日",dateWheelFormat:"|M月D日 DDD|",dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["日","一","二","三","四","五","六"],dayNamesMin:["日","一","二","三","四","五","六"],dayText:"日",hourText:"时",minuteText:"分",fromText:"开始时间",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["一","二","三","四","五","六","七","八","九","十","十一","十二"],monthText:"月",secondText:"秒",timeFormat:"H:mm",yearText:"年",toText:"结束时间",nowText:"当前",pmText:"下午",amText:"上午",yearSuffix:"年",monthSuffix:"月",daySuffix:"日",todayText:"今天",dateText:"日",timeText:"时间",allDayText:"全天",noEventsText:"无事件",eventText:"活动",eventsText:"活动",moreEventsText:"他 {count} 件",weekText:"第 {count} 週",rangeStartLabel:"开始时间",rangeEndLabel:"结束时间",rangeStartHelp:"选取",rangeEndHelp:"选取",filterEmptyText:"没有结果",filterPlaceholderText:"搜索"};function intPart(floatNum){if(floatNum<-1e-7){return Math.ceil(floatNum-1e-7)}return Math.floor(floatNum+1e-7)}function hijriToGregorian(hY,hM,hD){var l;var j;var n;var i;var k;var gregDate=new Array(3);var jd=intPart((11*hY+3)/30)+354*hY+30*hM-intPart((hM-1)/2)+hD+1948440-385;if(jd>2299160){l=jd+68569;n=intPart(4*l/146097);l=l-intPart((146097*n+3)/4);i=intPart(4e3*(l+1)/1461001);l=l-intPart(1461*i/4)+31;j=intPart(80*l/2447);hD=l-intPart(2447*j/80);l=intPart(j/11);hM=j+2-12*l;hY=100*(n-49)+i+l}else{j=jd+1402;k=intPart((j-1)/1461);l=j-1461*k;n=intPart((l-1)/365)-intPart(l/1461);i=l-365*n+30;j=intPart(80*i/2447);hD=i-intPart(2447*j/80);i=intPart(j/11);hM=j+2-12*i;hY=4*k+n+i-4716}gregDate[2]=hD;gregDate[1]=hM;gregDate[0]=hY;return gregDate}function gregorianToHijri(gY,gM,gD){var jd;var l;var hijriDate=[0,0,0];if(gY>1582||gY===1582&&gM>10||gY===1582&&gM===10&&gD>14){jd=intPart(1461*(gY+4800+intPart((gM-14)/12))/4)+intPart(367*(gM-2-12*intPart((gM-14)/12))/12)-intPart(3*intPart((gY+4900+intPart((gM-14)/12))/100)/4)+gD-32075}else{jd=367*gY-intPart(7*(gY+5001+intPart((gM-9)/7))/4)+intPart(275*gM/9)+gD+1729777}l=jd-1948440+10632;var n=intPart((l-1)/10631);l=l-10631*n+354;var j=intPart((10985-l)/5316)*intPart(50*l/17719)+intPart(l/5670)*intPart(43*l/15238);l=l-intPart((30-j)/15)*intPart(17719*j/50)-intPart(j/16)*intPart(15238*j/43)+29;gM=intPart(24*l/709);gD=l-intPart(709*gM/24);gY=30*n+j-30;hijriDate[2]=gD;hijriDate[1]=gM;hijriDate[0]=gY;return hijriDate}var hijriCalendar={getYear:function(date){return gregorianToHijri(date.getFullYear(),date.getMonth()+1,date.getDate())[0]},getMonth:function(date){return--gregorianToHijri(date.getFullYear(),date.getMonth()+1,date.getDate())[1]},getDay:function(date){return gregorianToHijri(date.getFullYear(),date.getMonth()+1,date.getDate())[2]},getDate:function(y,m,d,h,i,s,u){if(m<0){y+=Math.floor(m/12);m=m%12?12+m%12:0}if(m>11){y+=Math.floor(m/12);m=m%12}var gregorianDate=hijriToGregorian(y,+m+1,d);return new Date(gregorianDate[0],gregorianDate[1]-1,gregorianDate[2],h||0,i||0,s||0,u||0)},getMaxDayOfMonth:function(hY,hM){if(hM<0){hY+=Math.floor(hM/12);hM=hM%12?12+hM%12:0}if(hM>11){hY+=Math.floor(hM/12);hM=hM%12}var daysPerMonth=[30,29,30,29,30,29,30,29,30,29,30,29];var leapYear=(hY*11+14)%30<11;return daysPerMonth[hM]+(hM===11&&leapYear?1:0)}};var localeEn={};var locale={ar:ar,bg:bg,ca:ca,cs:cs,da:da,de:de,el:el,en:localeEn,"en-GB":enGB,es:es,fa:fa,fi:fi,fr:fr,he:he,hi:hi,hr:hr,hu:hu,it:it,ja:ja,ko:ko,lt:lt,nl:nl,no:no,pl:pl,"pt-BR":localePtBR,"pt-PT":ptPT,ro:ro,ru:ru,"ru-UA":localeRuUA,sk:sk,sr:sr,sv:sv,th:th,tr:tr,ua:ua,vi:vi,zh:zh};var MBSC_OPTIONS=new InjectionToken("MbscOptions");var MbscOptionsService=/*#__PURE__*/function(){function MbscOptionsService(_staticOptions,_parentService){this._staticOptions=_staticOptions;this._parentService=_parentService;this.change=new Observable;this._options={}}Object.defineProperty(MbscOptionsService.prototype,"options",{get:function(){return this._options},enumerable:false,configurable:true});MbscOptionsService.prototype.setOptions=function(newOptions){this._options=this._parentService?__assign(__assign(__assign({},this._staticOptions),this._parentService.options),newOptions):__assign(__assign({},this._staticOptions),newOptions);this.change.next(this.options)};MbscOptionsService.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscOptionsService,deps:[{token:MBSC_OPTIONS,optional:true},{token:forwardRef((function(){return MbscOptionsService})),optional:true,skipSelf:true}],target:i0.ɵɵFactoryTarget.Injectable});MbscOptionsService.ɵprov=i0.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscOptionsService});return MbscOptionsService}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscOptionsService,decorators:[{type:Injectable}],ctorParameters:function(){return[{type:undefined,decorators:[{type:Optional},{type:Inject,args:[MBSC_OPTIONS]}]},{type:MbscOptionsService,decorators:[{type:Optional},{type:SkipSelf},{type:Inject,args:[forwardRef((function(){return MbscOptionsService}))]}]}]}});function updateValue(inst,val){inst._val=val;if(inst._onValueChange){inst._onValueChange(val)}inst.setState({value:val})}var Base=/*#__PURE__*/function(){function Base(_cdr,_elr,_zone,_sanitizer,_injector,_vcf,_ctrl,_optp,_globals){var _this=this;this._cdr=_cdr;this._elr=_elr;this._zone=_zone;this._sanitizer=_sanitizer;this._injector=_injector;this._vcf=_vcf;this._ctrl=_ctrl;this._optp=_optp;this.valueChange=new EventEmitter;this.onDestroy=new EventEmitter;this.onInit=new EventEmitter(true);this.state={};this.props={};this._onFormChange=noop;this._onFormTouch=noop;if(_optp){this._opt=_optp.options;this._ctxChange=_optp.change.subscribe((function(nextOptions){_this._opt=nextOptions;_this.forceUpdate()}))}else if(_globals){this._opt=_globals}if(_ctrl){_ctrl.valueAccessor=this}this._ctor()}Object.defineProperty(Base.prototype,"value",{get:function(){return this._val},set:function(val){if(this._val!==val){updateValue(this,val);this._onFormChange(val);this.valueChange.emit(val)}},enumerable:false,configurable:true});Base.prototype.ngOnChanges=function(changes){var optionsKey="options";var optionsChange=changes[optionsKey];if(optionsChange){var opt=optionsChange.currentValue;if(opt){for(var _i=0,_a=Object.keys(opt);_i<_a.length;_i++){var key=_a[_i];this.props[key]=opt[key]}}}for(var _b=0,_c=Object.keys(changes);_b<_c.length;_b++){var key=_c[_b];this.props[key]=changes[key].currentValue}this._doCheck=true};Base.prototype.ngDoCheck=function(){if(this._doCheck){this._willUpdate()}};Base.prototype.ngAfterViewChecked=function(){if(this._doCheck){this._updated()}this._doCheck=false};Base.prototype.ngOnInit=function(){this._doCheck=true;this._init()};Base.prototype.ngAfterViewInit=function(){this._el=this._el||this._elr.nativeElement;this._baseInit();this._mounted()};Base.prototype.ngOnDestroy=function(){if(this._optp){this._optp.change.unsubscribe(this._ctxChange)}this._destroy();this._baseDestroy()};Base.prototype._getKey=function(index){return index};Base.prototype.forceUpdate=function(){var _this=this;if(NgZone.isInAngularZone()){this._doCheck=true;this._cdr.markForCheck()}else{this._zone.run((function(){_this._doCheck=true;_this._cdr.markForCheck()}))}};Base.prototype.setState=function(newState){var changed;for(var _i=0,_a=Object.keys(newState);_i<_a.length;_i++){var key=_a[_i];if(this.state[key]!==newState[key]){this.state[key]=newState[key];changed=true}}if(changed){this.forceUpdate()}};Base.prototype._emit=function(name,args){var emitter=this[name];if(emitter&&emitter instanceof EventEmitter){emitter.emit(args)}};Base.prototype._safeHtml=function(html){return this._sanitizer.bypassSecurityTrustHtml(html)};Base.prototype._ctor=function(){};Base.prototype._init=function(){};Base.prototype._baseInit=function(){};Base.prototype._mounted=function(){};Base.prototype._updated=function(){};Base.prototype._destroy=function(){};Base.prototype._baseDestroy=function(){};Base.prototype._willUpdate=function(){};Base.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:Base,deps:[{token:i0.ChangeDetectorRef},{token:i0.ElementRef},{token:i0.NgZone},{token:i1.DomSanitizer},{token:i0.Injector},{token:i0.ViewContainerRef},{token:i2.NgControl,optional:true,self:true},{token:MbscOptionsService,optional:true},{token:MBSC_OPTIONS,optional:true}],target:i0.ɵɵFactoryTarget.Directive});Base.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:Base,selector:"[mbsc-b]",inputs:{class:"class",context:"context",locale:"locale",modules:"modules",options:"options",responsive:"responsive",rtl:"rtl",theme:"theme",themeVariant:"themeVariant",touchUi:"touchUi",value:"value"},outputs:{valueChange:"valueChange",onDestroy:"onDestroy",onInit:"onInit"},usesOnChanges:true,ngImport:i0});return Base}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:Base,decorators:[{type:Directive,args:[{selector:"[mbsc-b]"}]}],ctorParameters:function(){return[{type:i0.ChangeDetectorRef},{type:i0.ElementRef},{type:i0.NgZone},{type:i1.DomSanitizer},{type:i0.Injector},{type:i0.ViewContainerRef},{type:i2.NgControl,decorators:[{type:Optional},{type:Self}]},{type:MbscOptionsService,decorators:[{type:Optional}]},{type:undefined,decorators:[{type:Optional},{type:Inject,args:[MBSC_OPTIONS]}]}]},propDecorators:{class:[{type:Input}],context:[{type:Input}],locale:[{type:Input}],modules:[{type:Input}],options:[{type:Input}],responsive:[{type:Input}],rtl:[{type:Input}],theme:[{type:Input}],themeVariant:[{type:Input}],touchUi:[{type:Input}],valueChange:[{type:Output}],onDestroy:[{type:Output}],onInit:[{type:Output}],value:[{type:Input}]}});var REF_DATE=new Date(1970,0,1);var ONE_MIN=6e4;var ONE_HOUR=60*ONE_MIN;var ONE_DAY=24*ONE_HOUR;function isMBSCDate(d){return!!d._mbsc}function convertTimezone(d,s,tz){var timezone=tz||s.dataTimezone||s.displayTimezone;var timezonePlugin=s.timezonePlugin;if(timezone&&timezonePlugin&&isMBSCDate(d)){var clone=d.clone();clone.setTimezone(timezone);return clone.toISOString()}return d}var dateTimeLocale={amText:"am",dateFormat:"MM/DD/YYYY",dateFormatFull:"DDDD, MMMM D, YYYY",dateFormatLong:"D DDD MMM YYYY",dateText:"Date",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["S","M","T","W","T","F","S"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daySuffix:"",dayText:"Day",firstDay:0,fromText:"Start",getDate:adjustedDate,hourText:"Hour",minuteText:"Minute",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthSuffix:"",monthText:"Month",pmText:"pm",quarterText:"Q{count}",secondText:"Second",separator:" ",shortYearCutoff:"+10",timeFormat:"h:mm A",timeText:"Time",toText:"End",todayText:"Today",weekText:"Week {count}",yearSuffix:"",yearText:"Year",getMonth:function(d){return d.getMonth()},getDay:function(d){return d.getDate()},getYear:function(d){return d.getFullYear()},getMaxDayOfMonth:function(y,m){return 32-new Date(y,m,32,12).getDate()},getWeekNumber:function(dt){var d=new Date(+dt);d.setHours(0,0,0);d.setDate(d.getDate()+4-(d.getDay()||7));var yearStart=new Date(d.getFullYear(),0,1);return Math.ceil(((d-yearStart)/864e5+1)/7)}};var ISO_8601_FULL=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[T\s](\d{2}):?(\d{2})(?::?(\d{2})(?:\.(\d{3}))?)?((Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;var ISO_8601_TIME=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function setISOParts(parsed,offset,parts){var part;var v;var p={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(parts){for(var _i=0,_a=Object.keys(p);_i<_a.length;_i++){part=_a[_i];v=parsed[p[part]-offset];if(v){parts[part]=part==="tz"?v:1}}}}function getISOString(d,parts){var ret="";var time="";if(d){if(parts.h){time+=pad(d.getHours())+":"+pad(d.getMinutes());if(parts.s){time+=":"+pad(d.getSeconds())}if(parts.u){time+="."+pad(d.getMilliseconds(),3)}if(parts.tz){time+=parts.tz}}if(parts.y){ret+=d.getFullYear();if(parts.m){ret+="-"+pad(d.getMonth()+1);if(parts.d){ret+="-"+pad(d.getDate())}if(parts.h){ret+="T"+time}}}else if(parts.h){ret=time}}return ret}function getDayMilliseconds(d){var dd=new Date(1970,0,1,d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds());return+dd-+REF_DATE}function checkDateRangeOverlap(start1,end1,start2,end2,adjust){var aStart=+start1;var bStart=+start2;var aEnd=adjust&&aStart===+end1?+end1+1:+end1;var bEnd=adjust&&bStart===+end2?+end2+1:+end2;return aStart<bEnd&&aEnd>bStart}function getDayStart(s,d){var newDate=createDate$1(s,d);newDate.setHours(0,0,0,0);return newDate}function getDayEnd(s,d){var newDate=createDate$1(s,d);newDate.setHours(23,59,59,999);return newDate}function getEndDate(s,allDay,start,end,isList){var exclusive=allDay||isList?s.exclusiveEndDates:true;var tzOpt=allDay?UNDEFINED:s;return exclusive&&start&&end&&start<end?createDate$1(tzOpt,+end-1):end}function getDateStr(d){return d.getFullYear()+"-"+pad(d.getMonth()+1)+"-"+pad(d.getDate())}function getDateOnly(d,nativeDate){if(isMBSCDate(d)&&!nativeDate){return d.createDate(d.getFullYear(),d.getMonth(),d.getDate())}else{return adjustedDate(d.getFullYear(),d.getMonth(),d.getDate())}}function getUTCDateOnly(d){return Date.UTC(d.getFullYear(),d.getMonth(),d.getDate())}function getDayDiff(d1,d2){return round((getUTCDateOnly(d2)-getUTCDateOnly(d1))/ONE_DAY)}function getGridDayDiff(from,to,startDay,endDay){var dayIndex=-1;for(var d=getDateOnly(from);d<=getDateOnly(to);d.setDate(d.getDate()+1)){if(isInWeek(d.getDay(),startDay,endDay)){dayIndex++}}return dayIndex}function getFirstDayOfWeek(d,s,w){var y=d.getFullYear();var m=d.getMonth();var weekDay=d.getDay();var firstWeekDay=w===UNDEFINED?s.firstDay:w;var offset=firstWeekDay-weekDay>0?7:0;return new Date(y,m,firstWeekDay-offset-weekDay+d.getDate())}function isSameDay(d1,d2){return d1.getFullYear()===d2.getFullYear()&&d1.getMonth()===d2.getMonth()&&d1.getDate()===d2.getDate()}function isSameMonth(d1,d2,s){return s.getYear(d1)===s.getYear(d2)&&s.getMonth(d1)===s.getMonth(d2)}function adjustedDate(y,m,d,h,i,s,u){var date=new Date(y,m,d,h||0,i||0,s||0,u||0);if(date.getHours()===23&&(h||0)===0){date.setHours(date.getHours()+2)}return date}function isDate(d){return d.getTime}function isTime(d){return isString(d)&&ISO_8601_TIME.test(d)}function addTimezone(s,d){return createDate$1(s,d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds())}function removeTimezone(d){if(!d){return d}else{return new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds())}}function createDate$1(s,yearOrStamp,month,date,h,min,sec,ms){if(yearOrStamp===null){return null}if(yearOrStamp&&(isNumber(yearOrStamp)||isString(yearOrStamp))&&isUndefined(month)){return makeDate(yearOrStamp,s)}if(s&&s.timezonePlugin){return s.timezonePlugin.createDate(s,yearOrStamp,month,date,h,min,sec,ms)}if(isObject(yearOrStamp)){return new Date(yearOrStamp)}if(isUndefined(yearOrStamp)){return new Date}return new Date(yearOrStamp,month||0,date||1,h||0,min||0,sec||0,ms||0)}function makeDate(d,s,format,parts,skipTimezone){var parse;if(isString(d)){d=d.trim()}if(!d){return null}var plugin=s&&s.timezonePlugin;if(plugin&&!skipTimezone){var parsedDate=isMBSCDate(d)?d:plugin.parse(d,s);parsedDate.setTimezone(s.displayTimezone);return parsedDate}if(isDate(d)){return d}if(d._isAMomentObject){return d.toDate()}if(isNumber(d)){return new Date(d)}parse=ISO_8601_TIME.exec(d);var defVal=s&&s.defaultValue;var def=makeDate((isArray(defVal)?defVal[0]:defVal)||new Date);var defYear=def.getFullYear();var defMonth=def.getMonth();var defDay=def.getDate();if(parse){setISOParts(parse,2,parts);return new Date(defYear,defMonth,defDay,parse[2]?+parse[2]:0,parse[3]?+parse[3]:0,parse[4]?+parse[4]:0,parse[5]?+parse[5]:0)}parse=ISO_8601_FULL.exec(d);if(parse){setISOParts(parse,0,parts);return new Date(parse[1]?+parse[1]:defYear,parse[2]?parse[2]-1:defMonth,parse[3]?+parse[3]:defDay,parse[4]?+parse[4]:0,parse[5]?+parse[5]:0,parse[6]?+parse[6]:0,parse[7]?+parse[7]:0)}return parseDate(format,d,s)}function returnDate(d,s,displayFormat,isoParts,hasTimePart){var moment=isBrowser&&window.moment||s.moment;var timezone=s.timezonePlugin&&(s.dataTimezone||s.displayTimezone);var format=timezone?"iso8601":s.returnFormat;if(timezone&&hasTimePart){return convertTimezone(d,s)}if(d){if(format==="moment"&&moment){return moment(d)}if(format==="locale"){return formatDate(displayFormat,d,s)}if(format==="iso8601"){return getISOString(d,isoParts)}}return d}function formatDatePublic(format,date,options$1){var s=__assign(__assign(__assign({},dateTimeLocale),options.locale),options$1);return formatDate(format,date,s)}function formatDate(format,date,s){var i;var year;var output="";var literal=false;var c;var peekAhead=function(symbol){var nr=0;var j=i;while(j+1<format.length&&format.charAt(j+1)===symbol){nr++;j++}return nr};var lookAhead=function(symbol){var nr=peekAhead(symbol);i+=nr;return nr};var formatNumber=function(symbol,val,len){var ret=""+val;if(lookAhead(symbol)){while(ret.length<len){ret="0"+ret}}return ret};var formatName=function(symbol,val,short,long){return lookAhead(symbol)===3?long[val]:short[val]};for(i=0;i<format.length;i++){if(literal){if(format.charAt(i)==="'"&&!lookAhead("'")){literal=false}else{output+=format.charAt(i)}}else{switch(format.charAt(i)){case"D":c=peekAhead("D");if(c>1){output+=formatName("D",date.getDay(),s.dayNamesShort,s.dayNames)}else{output+=formatNumber("D",s.getDay(date),2)}break;case"M":c=peekAhead("M");if(c>1){output+=formatName("M",s.getMonth(date),s.monthNamesShort,s.monthNames)}else{output+=formatNumber("M",s.getMonth(date)+1,2)}break;case"Y":year=s.getYear(date);output+=lookAhead("Y")===3?year:(year%100<10?"0":"")+year%100;break;case"h":{var h=date.getHours();output+=formatNumber("h",h>12?h-12:h===0?12:h,2);break}case"H":output+=formatNumber("H",date.getHours(),2);break;case"m":output+=formatNumber("m",date.getMinutes(),2);break;case"s":output+=formatNumber("s",date.getSeconds(),2);break;case"a":output+=date.getHours()>11?s.pmText:s.amText;break;case"A":output+=date.getHours()>11?s.pmText.toUpperCase():s.amText.toUpperCase();break;case"'":if(lookAhead("'")){output+="'"}else{literal=true}break;default:output+=format.charAt(i)}}}return output}function parseDate(format,value,options){var s=__assign(__assign({},dateTimeLocale),options);var defVal=s.defaultValue;var def=makeDate((isArray(defVal)?defVal[0]:defVal)||new Date);if(!value){return def}if(!format){format=s.dateFormat+s.separator+s.timeFormat}var shortYearCutoff=s.shortYearCutoff;var year=s.getYear(def);var month=s.getMonth(def)+1;var day=s.getDay(def);var hours=def.getHours();var minutes=def.getMinutes();var seconds=0;var ampm=-1;var literal=false;var iValue=0;var iFormat;var peekAhead=function(symbol){var nr=0;var j=iFormat;while(j+1<format.length&&format.charAt(j+1)===symbol){nr++;j++}return nr};var lookAhead=function(match){var matches=peekAhead(match);iFormat+=matches;return matches};var getNumber=function(match){var count=lookAhead(match);var size=count>=2?4:2;var digits=new RegExp("^\\d{1,"+size+"}");var num=value.substr(iValue).match(digits);if(!num){return 0}iValue+=num[0].length;return parseInt(num[0],10)};var getName=function(match,shortNames,longNames){var count=lookAhead(match);var names=count===3?longNames:shortNames;for(var i=0;i<names.length;i++){if(value.substr(iValue,names[i].length).toLowerCase()===names[i].toLowerCase()){iValue+=names[i].length;return i+1}}return 0};var checkLiteral=function(){iValue++};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false}else{checkLiteral()}}else{switch(format.charAt(iFormat)){case"Y":year=getNumber("Y");break;case"M":{var p=peekAhead("M");if(p<2){month=getNumber("M")}else{month=getName("M",s.monthNamesShort,s.monthNames)}break}case"D":{var p=peekAhead("D");if(p<2){day=getNumber("D")}else{getName("D",s.dayNamesShort,s.dayNames)}break}case"H":hours=getNumber("H");break;case"h":hours=getNumber("h");break;case"m":minutes=getNumber("m");break;case"s":seconds=getNumber("s");break;case"a":ampm=getName("a",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"A":ampm=getName("A",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"'":if(lookAhead("'")){checkLiteral()}else{literal=true}break;default:checkLiteral()}}}if(year<100){var cutoffYear=void 0;if(!isString(shortYearCutoff)){cutoffYear=+shortYearCutoff}else{cutoffYear=(new Date).getFullYear()%100+parseInt(shortYearCutoff,10)}var addedCentury=void 0;if(year<=cutoffYear){addedCentury=0}else{addedCentury=-100}year+=(new Date).getFullYear()-(new Date).getFullYear()%100+addedCentury}hours=ampm===-1?hours:ampm&&hours<12?hours+12:!ampm&&hours===12?0:hours;var date=s.getDate(year,month-1,day,hours,minutes,seconds);if(s.getYear(date)!==year||s.getMonth(date)+1!==month||s.getDay(date)!==day){return def}return date}function dateValueEquals(v1,v2,s){if(v1===v2){return true}if(isArray(v1)&&!v1.length&&v2===null||isArray(v2)&&!v2.length&&v1===null){return true}if(v1===null||v2===null||v1===UNDEFINED||v2===UNDEFINED){return false}if(isString(v1)&&isString(v2)){return v1===v2}var dateFormat=s&&s.dateFormat;if(isArray(v1)||isArray(v2)){if(v1.length!==v2.length){return false}for(var i=0;i<v1.length;i++){var eq=true;var a=v1[i];var b=v2[i];if(isString(a)&&isString(b)){eq=a===b}else{eq=+makeDate(a,s,dateFormat)===+makeDate(b,s,dateFormat)}if(!eq){return false}}return true}return+makeDate(v1,s,dateFormat)===+makeDate(v2,s,dateFormat)}function cloneDate(date){return isMBSCDate(date)?date.clone():new Date(date)}function addDays(date,days){var copy=cloneDate(date);copy.setDate(copy.getDate()+days);return copy}function addMonths(date,months,s){var year=s.getYear(date);var month=s.getMonth(date)+months;var maxDays=s.getMaxDayOfMonth(year,month);return addTimezone(s,s.getDate(year,month,Math.min(s.getDay(date),maxDays),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds()))}function addTime(date,time,s){var d1=addTimezone(s,date);var d2=createDate$1(s,+d1+time);var diff=d2.getTimezoneOffset()-d1.getTimezoneOffset();return diff?createDate$1(s,+d2+diff*ONE_MIN):d2}function isInWeek(day,startDay,endDay){return startDay>endDay?day<=endDay||day>=startDay:day>=startDay&&day<=endDay}function roundTime(date,step){var ms=ONE_MIN*step;var copy=cloneDate(date).setHours(0,0,0,0);var rounded=copy+Math.round((+date-+copy)/ms)*ms;return isMBSCDate(date)?date.createDate(rounded):new Date(rounded)}function constrainDate(date,min,max){return min&&date<min?new Date(min):max&&date>max?new Date(max):date}if(isBrowser&&typeof Symbol==="undefined"){window.Symbol={toPrimitive:"toPrimitive"}}var doc=isBrowser?document:UNDEFINED;var win=isBrowser?window:UNDEFINED;var prefixes=["Webkit","Moz"];var elem=doc&&doc.createElement("div").style;var canvas=doc&&doc.createElement("canvas");var ctx=canvas&&canvas.getContext&&canvas.getContext("2d",{willReadFrequently:true});var css=win&&win.CSS;var cssSupports=css&&css.supports;var textColors={};var raf=win&&win.requestAnimationFrame||function(func){return setTimeout(func,20)};var rafc=win&&win.cancelAnimationFrame||function(id){clearTimeout(id)};var hasAnimation=elem&&elem.animationName!==UNDEFINED;var isWebView=os==="ios"&&!isSafari;var isWkWebView=isWebView&&win&&win.webkit&&win.webkit.messageHandlers;var hasGhostClick=elem&&elem.touchAction===UNDEFINED||isWebView&&!isWkWebView;var jsPrefix=getPrefix();var cssPrefix=jsPrefix?"-"+jsPrefix.toLowerCase()+"-":"";var has3d=cssSupports&&cssSupports("(transform-style: preserve-3d)");var hasSticky=cssSupports&&(cssSupports("position","sticky")||cssSupports("position","-webkit-sticky"));function getPrefix(){if(!elem||elem.transform!==UNDEFINED){return""}for(var _i=0,prefixes_1=prefixes;_i<prefixes_1.length;_i++){var prefix=prefixes_1[_i];if(elem[prefix+"Transform"]!==UNDEFINED){return prefix}}return""}function listen(el,event,handler,opt){if(el){el.addEventListener(event,handler,opt)}}function unlisten(el,event,handler,opt){if(el){el.removeEventListener(event,handler,opt)}}function getDocument(el){if(!isBrowser){return UNDEFINED}return el&&el.ownerDocument?el.ownerDocument:doc}function getDimension(el,property){return parseFloat(getComputedStyle(el)[property]||"0")}function getContext(context,docu){var contextElm=isString(context)?docu.querySelector(context):context;if(!contextElm){contextElm=docu.body}return contextElm}function getScrollLeft(el){return el.scrollLeft!==UNDEFINED?el.scrollLeft:el.pageXOffset}function getScrollTop(el){return el.scrollTop!==UNDEFINED?el.scrollTop:el.pageYOffset}function setScrollLeft(el,val){if(el.scrollTo){el.scrollTo(val,el.scrollY)}else{el.scrollLeft=val}}function setScrollTop(el,val){if(el.scrollTo){el.scrollTo(el.scrollX,val)}else{el.scrollTop=val}}function getWindow(el){if(!isBrowser){return UNDEFINED}return el&&el.ownerDocument&&el.ownerDocument.defaultView?el.ownerDocument.defaultView:win}function getPosition(el,vertical){var style=getComputedStyle(el);var transform=jsPrefix?style[jsPrefix+"Transform"]:style.transform;var matrix=transform.split(")")[0].split(", ");var px=vertical?matrix[13]||matrix[5]:matrix[12]||matrix[4];return+px||0}function getTextColor(color){if(!ctx||!color){return"#000"}if(textColors[color]){return textColors[color]}ctx.fillStyle=color;ctx.fillRect(0,0,1,1);var img=ctx.getImageData(0,0,1,1);var rgb=img?img.data:[0,0,0];var delta=+rgb[0]*.299+ +rgb[1]*.587+ +rgb[2]*.114;var textColor=delta<130?"#fff":"#000";textColors[color]=textColor;return textColor}function smoothScroll(elm,toX,toY,animate,rtl,callback){function scrollStep(){var elapsed=Math.min(1,(+new Date-startTime)/468);var eased=.5*(1-Math.cos(Math.PI*elapsed));var currentX=round(fromX+(targetX-fromX)*eased);var currentY=round(fromY+(targetY-fromY)*eased);elm.scrollLeft=currentX;elm.scrollTop=currentY;if(currentX!==targetX||currentY!==targetY){raf((function(){scrollStep()}))}else if(callback){running=false;callback()}}var startTime=+new Date;var fromX=round(elm.scrollLeft);var fromY=round(elm.scrollTop);var targetX=toX===UNDEFINED?fromX:Math.max(0,round(toX))*(rtl?-1:1);var targetY=toY===UNDEFINED?fromY:Math.max(0,round(toY));var running;if(animate){running=true;scrollStep()}else{elm.scrollLeft=targetX;elm.scrollTop=targetY;if(callback){callback()}}return function(newX,newY){targetX=newX===UNDEFINED?targetX:Math.max(0,round(newX))*(rtl?-1:1);targetY=newY===UNDEFINED?targetY:Math.max(0,round(newY));if(!animate||!running){elm.scrollLeft=targetX;elm.scrollTop=targetY}}}function htmlToText(htmlString){if(doc&&htmlString){var tempElm=doc.createElement("div");tempElm.innerHTML=htmlString;return tempElm.textContent.trim()}return htmlString||""}function getOffset(el){var bRect=el.getBoundingClientRect();var ret={left:bRect.left,top:bRect.top};var window=getWindow(el);if(window!==UNDEFINED){ret.top+=getScrollTop(window);ret.left+=getScrollLeft(window)}return ret}function matches(elm,selector){var matchesSelector=elm&&(elm.matches||elm.msMatchesSelector);return matchesSelector&&matchesSelector.call(elm,selector)}function closest(elm,selector,context){while(elm&&!matches(elm,selector)){if(elm===context||elm.nodeType===elm.DOCUMENT_NODE){return null}elm=elm.parentNode}return elm}function contains(container,elm){var currentElm=elm;while(currentElm&&currentElm.parentNode){if(currentElm.parentNode===container){return true}else{currentElm=currentElm.parentNode}if(currentElm instanceof DocumentFragment){currentElm=currentElm.host}}return false}function trigger(elm,name,data){var evt;try{evt=new CustomEvent(name,{bubbles:true,cancelable:true,detail:data})}catch(e){evt=document.createEvent("Event");evt.initEvent(name,true,true);evt.detail=data}elm.dispatchEvent(evt)}function forEach(items,func){for(var i=0;i<items.length;i++){func(items[i],i)}}var w=win;var id$1=+new Date;var trialError;var logData={};var logTimer;var textParam={};function sendLog(comp){if(comp._logged||remote.apiKey==="mbscdemo"||!doc){return}comp._logged=true;logData.components=logData.components||[];logData.components.push(comp.constructor._name.toLowerCase());clearTimeout(logTimer);logTimer=setTimeout((function(){if(!remote.fwv){var vers=void 0;switch(remote.fw){case"angular":{var vEl=doc.querySelector("[ng-version]");vers=vEl?vEl.getAttribute("ng-version"):"N/A";break}case"jquery":vers=w.$.fn&&w.$.fn.jquery;break}remote.fwv=vers||"N/A"}logData.demo=!!w.isMbscDemo;logData.fw=remote.fw;logData.fwv=remote.fwv;logData.theme=comp.s.theme;logData.trialCode=remote.apiKey;logData.v=comp._v.version;jsonp$1("log",null,logData,(function(){logData={}}))}),5e3)}function showMessage(notification){if(notification&&doc){var byId=doc.getElementById("trial-message");if(!byId){var div_1=doc.createElement("div");div_1.setAttribute("id","trial-message");div_1.setAttribute("style","position: absolute;width: 100%; bottom: 0;left: 0; padding: 10px;box-sizing: border-box;");div_1.setAttribute("class","mbsc-font");var innerDiv=doc.createElement("div");innerDiv.setAttribute("style","padding: 15px 25px; max-width: 400px; margin: 0 auto 10px auto; border-radius: 16px; line-height: 25px; background: #cacaca59; font-size: 15px; color: #151515;");innerDiv.innerHTML=notification.message+" ";var button=doc.createElement("a");button.innerHTML=notification.button.text;button.setAttribute("style","color: #FF4080;font-weight: 600;");button.setAttribute("href","https://mobiscroll.com/pricing?ref=trialapp");innerDiv.appendChild(button);div_1.appendChild(innerDiv);doc.body.appendChild(div_1);setTimeout((function(){doc.body.removeChild(div_1)}),6e3)}}}function jsonp$1(method,inst,data,callback,uniqueId,attempts){if(!win||!doc){callback({});return}var script=doc.createElement("script");var unique="mbsc_jsonp_"+(uniqueId?uniqueId:++id$1);unique=win[unique]?"mbsc_jsonp_"+ ++id$1:unique;var att=attempts||1;function onError(){if(win&&win[unique]){win[unique](null,true)}if(method==="remote"){if(att<4){jsonp$1(method,inst,data,callback,uniqueId,att+1)}else if(!trialError){trialError=true;sendError()}}}win[unique]=function(resp,error){clearTimeout(timer);script.parentNode.removeChild(script);delete win[unique];resp=resp?JSON.parse(resp,(function(key,value){if(typeof value!=="string"){return value}if(value.substring(0,9)==="function_"&&inst){return inst[value.replace("function_","")]}if(value.match(ISO_8601_FULL)){return makeDate(value)}return value})):{};if(method==="remote"){textParam.txt=resp.__e;delete resp.__e}if(!error){callback(resp)}};var timer=setTimeout(onError,6e3);script.onerror=onError;script.src=remote.apiUrl+remote.apiKey+"/"+method+"?callback="+unique+"&data="+encodeURIComponent(JSON.stringify(data));doc.body.appendChild(script)}function sendError(){var sessionID=doc.cookie.replace(/(?:(?:^|.*;\s*)ASP.NET_SessionId\s*=\s*([^;]*).*$)|^.*$/,"$1");doc.cookie="mobiscrollClientError=1; expires="+new Date((new Date).getTime()+1e3*60*60*24).toUTCString()+"; path=/; SameSite=Strict";try{win.name=(win.name||"")+";mobiscrollClientError"}catch(e){}jsonp$1("error",null,{sessionID:sessionID,trialCode:remote.apiKey},(function(){doc.cookie="mobiscrollClientError=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";try{win.name=(win.name||"").replace(/;mobiscrollClientError/g,"")}catch(e){}}))}if(doc&&(doc.cookie.replace(/(?:(?:^|.*;\s*)mobiscrollClientError\s*=\s*([^;]*).*$)|^.*$/,"$1")||/mobiscrollClientError/.test(win.name||""))){doc.addEventListener("DOMContentLoaded",(function(){sendError()}))}var getText=new Function("textParam,p",function(){function getKey(encryptKey){var a=encryptKey[0];for(var i=0;i<16;++i){if(a*i%16==1){return[i,encryptKey[1]]}}}function affine(enc,str,a,b){var alfb="0123456789abcdef";var len=str.length;var newstr="";for(var i=0;i<len;++i){newstr+=alfb[((a*alfb.indexOf(str[i])-a*b)%16+16)%16]}return newstr}function decrypt(str,encryptKey){var decryptKey=getKey(encryptKey);var decryptedStr=affine(0,str,decryptKey[0],decryptKey[1]);var len=decryptedStr.length;var arr=[];for(var i=0;i<len;i+=2){arr.push(decryptedStr[i]+decryptedStr[i+1])}return arr}var a=decrypt("7c7a797b7ce5707c58e17ae1eda67ee1e43d313b7ae57c757ae6a0cde17ce0a67ae1e6ecefeda0a934cde17ce0a6ede170a038a6383ea478a9aeaea17ce5707c58e17ae1eda67c707c3fa734ece97ea8737c79e4e53daaa7abee75e6e37ce9efe6a0e5a97b7ee17aa87c3de5a6e4e5e6e77ce0a4e6a47a3b77e0e9e4e5a038a13d3d7ca97b7a3dcde17ce0a6eee4efef7aa0cde17ce0a67ae1e6ecefeda0a9a27ca93b7cad3d313be63de55b7c5d3be55b7c5d3de55b7a5d3be55b7a5d3de67d7ae57c757ae6a8e57da05ba778efe9e67ce57aade57ee5e67c7332e6efe6e5a7a4a7ece97378e4e17932eae4efe3eba1e9ed78ef7a7ce1e67ca7a4a778ef73e97ce9efe632e1ea73efe4757ce5a1e9ed78ef7a7ce1e67ca7a4a77cef783238a1e9ed78ef7a7ce1e67ca7a4a7e4e5ee7c3238a1e9ed78ef7a7ce1e67ca7a4a7eaef7c7cefed3238a1e9ed78ef7a7ce1e67ca7a4a77ae9e7e07c3238a1e9ed78ef7a7ce1e67ca7a4a7ede17ae7e9e63238a1e9ed78ef7a7ce1e67ca7a4a778e1ecece9e6e73238a1e9ed78ef7a7ce1e67ca7a4a7eeefe67cad73e972e532307870a1e9ed78ef7a7ce1e67ca7a4a7e4e9e6e5ade0e5e9e7e07c32313a7870a7a4a77ce5707cade1e4e9e7e632e3e5e67ce57aa7a4a7ef78e1e3e97c7932a7aba0cde17ce0a6eee4efef7aa0cde17ce0a67ae1e6ecefeda0a9a23a38a9af313838ab38a630a9aba7a1e9ed78ef7a7ce1e67ca75da9a6e2efe9e6a0a73ba7a9aba7aa3654753838353c54753838353a547538383c39547538383c31547538383ce334afece97e36a732a7a7a97de3e17ce3e0a0e5a97b7ae57c757ae6a8a7a77d2",[9,8]);var l=a.length;var b="";for(var c=0;c<l;c++){b+=String.fromCharCode(parseInt(a[c],16))}return b}());var version="5.34.2";var guid$7=0;var BREAKPOINTS={large:992,medium:768,small:576,xlarge:1200,xsmall:0};var isDark;if(isDarkQuery){isDark=isDarkQuery.matches;isDarkQuery.addListener((function(ev){isDark=ev.matches;globalChanges.next()}))}var BaseComponent=/*#__PURE__*/function(_super){__extends(BaseComponent,_super);function BaseComponent(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.s={};_this.state={};_this._mbsc=true;_this._v={version:"5.34.2"};_this._uid=++guid$7;_this._textParamMulti={};_this.__getText=getText;_this._proxyHook=function(args){_this._hook(args.type,args)};return _this}Object.defineProperty(BaseComponent.prototype,"__getTextParam",{get:function(){return textParam.val},enumerable:false,configurable:true});Object.defineProperty(BaseComponent.prototype,"textParam",{get:function(){if(this._textParam===undefined){this._textParam=this.__getText(textParam,.15)}return this._safeHtml(this._textParam)},enumerable:false,configurable:true});BaseComponent.prototype.textParamMulti=function(key){if(this._textParamMulti[key]===undefined){this._textParamMulti[key]=this.__getText(textParam,.15)}return this._safeHtml(this._textParamMulti[key])};Object.defineProperty(BaseComponent.prototype,"nativeElement",{get:function(){return this._el},enumerable:false,configurable:true});BaseComponent.prototype.destroy=function(){};BaseComponent.prototype._hook=function(name,args){var s=this.s;args.inst=this;args.type=name;if(s[name]){return s[name](args,this)}this._emit(name,args)};BaseComponent.prototype._baseInit=function(){var _this=this;var self=this.constructor;if(self.defaults){this._optChange=globalChanges.subscribe((function(){_this.forceUpdate()}));var modules=this.props.modules;if(modules){for(var _i=0,modules_1=modules;_i<modules_1.length;_i++){var module=modules_1[_i];if(module.init){module.init(this)}}}}this._hook("onInit",{})};BaseComponent.prototype._baseDestroy=function(){if(this._optChange!==UNDEFINED){globalChanges.unsubscribe(this._optChange)}this._hook("onDestroy",{})};BaseComponent.prototype._render=function(s,state){return};BaseComponent.prototype._willUpdate=function(){this._merge();this._render(this.s,this.state)};BaseComponent.prototype._resp=function(s){var resp=s.responsive;var ret;var br=-1;var width=this.state.width;if(width===UNDEFINED){width=375}if(resp&&width){for(var _i=0,_a=Object.keys(resp);_i<_a.length;_i++){var key=_a[_i];var value=resp[key];var breakpoint=value.breakpoint||BREAKPOINTS[key];if(width>=breakpoint&&breakpoint>br){ret=value;br=breakpoint}}}return ret};BaseComponent.prototype._merge=function(){var self=this.constructor;var defaults=self.defaults;var context=this._opt||{};var props={};var s;var themeDef;this._prevS=this.s||{};if(defaults){for(var prop in this.props){if(this.props[prop]!==UNDEFINED){props[prop]=this.props[prop]}}var locale=props.locale||context.locale||options.locale||{};var calendarSystem=props.calendarSystem||locale.calendarSystem||context.calendarSystem||options.calendarSystem;var themeName=props.theme||context.theme||options.theme;var themeVariant=props.themeVariant||context.themeVariant||options.themeVariant;if(themeName==="auto"||!themeName){themeName=autoDetect.theme||""}if((themeVariant==="dark"||isDark&&(themeVariant==="auto"||!themeVariant))&&themes[themeName+"-dark"]){themeName+="-dark"}props.theme=themeName;themeDef=themes[themeName];var theme=themeDef&&themeDef[self._name];s=__assign(__assign(__assign(__assign(__assign(__assign(__assign({},defaults),theme),locale),options),context),calendarSystem),props);var resp=this._resp(s);this._respProps=resp;if(resp){s=__assign(__assign({},s),resp)}}else{s=__assign({},this.props);themeDef=themes[s.theme]}var baseTheme=themeDef&&themeDef.baseTheme;s.baseTheme=baseTheme;this.s=s;this._className=s.cssClass||s.class||s.className||"";this._rtl=" mbsc-"+(s.rtl?"rtl":"ltr");this._theme=" mbsc-"+s.theme+(baseTheme?" mbsc-"+baseTheme:"");this._touchUi=s.touchUi==="auto"||s.touchUi===UNDEFINED?touchUi:s.touchUi;this._hb=os==="ios"&&(s.theme==="ios"||baseTheme==="ios")?" mbsc-hb":""};BaseComponent.defaults=UNDEFINED;BaseComponent._name="";BaseComponent.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:BaseComponent,deps:null,target:i0.ɵɵFactoryTarget.Directive});BaseComponent.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:BaseComponent,selector:"[mbsc-bc]",usesInheritance:true,ngImport:i0});return BaseComponent}(Base);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:BaseComponent,decorators:[{type:Directive,args:[{selector:"[mbsc-bc]"}]}]});var WEEK_DAYNAMES={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"};var WEEK_DAYS={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6};var RULE_KEY_MAP={byday:"weekDays",bymonth:"month",bymonthday:"day",bysetpos:"pos",dtstart:"from",freq:"repeat",wkst:"weekStart"};function addMultiDayEvent(obj,item,s,overwrite,isList){var start=makeDate(item.start,item.allDay?UNDEFINED:s);var end=makeDate(item.end,item.allDay?UNDEFINED:s);var duration=end-start;if(overwrite){item.start=start;item.end=end}start=getDateOnly(start);end=getDateOnly(addDays(getEndDate(s,item.allDay,start,end,isList),1));while(start<end||!duration){addToList(obj,start,item);start=addDays(start,1);duration=1}}function addToList(obj,d,data){var key=getDateStr(d);if(!obj[key]){obj[key]=[];obj[key].date=getDateOnly(d,true)}obj[key].push(data)}function getExceptionDateMap(dtStart,start,end,s,exception,exceptionRule){var map={};if(exception){var exceptionDates=getExceptionList(exception);for(var _i=0,exceptionDates_1=exceptionDates;_i<exceptionDates_1.length;_i++){var e=exceptionDates_1[_i];map[getDateStr(makeDate(e))]=true}}if(exceptionRule){var exceptionDateList=getOccurrences(exceptionRule,dtStart,dtStart,start,end,s);for(var _a=0,exceptionDateList_1=exceptionDateList;_a<exceptionDateList_1.length;_a++){var ex=exceptionDateList_1[_a];map[getDateStr(ex.d)]=true}}return map}function getDateFromItem(item){return isString(item)||item.getTime||item.toDate?item:item.start||item.date}function getTzOpt(s,event,dataAsDisplay){var origStart=event.original?event.original.start:event.start;var allDay=event.allDay||!origStart;var tz=s.timezonePlugin;var dataTimezone=event.timezone||s.dataTimezone||s.displayTimezone;return tz&&!allDay?{dataTimezone:dataTimezone,displayTimezone:dataAsDisplay?dataTimezone:s.displayTimezone,timezonePlugin:tz}:UNDEFINED}function parseRule(ruleStr){var rule={};var pairs=ruleStr.split(";");for(var _i=0,pairs_1=pairs;_i<pairs_1.length;_i++){var pair=pairs_1[_i];var values=pair.split("=");var key=values[0].trim().toLowerCase();var value=values[1].trim();rule[RULE_KEY_MAP[key]||key]=value}return rule}function getRule(rule){return isString(rule)?parseRule(rule):__assign({},rule)}function updateRecurringRule(recurringRule,newStart,oldStart){var updatedRule=getRule(recurringRule);var newStartDate=makeDate(newStart);var oldStartDate=makeDate(oldStart);var dayDelta=getDayDiff(oldStartDate,newStartDate);var repeat=(updatedRule.repeat||"").toLowerCase();var updateArray=function(values,oldValue,newValue){var newValues=values.filter((function(value){return value!==oldValue}));if(newValues.indexOf(newValue)===-1){newValues.push(newValue)}return newValues};var updateNumber=function(values,oldValue,newValue){var oldValues=isArray(values)?values:((values||"")+"").split(",").map((function(nr){return+nr}));var newValues=updateArray(oldValues,oldValue,newValue);return newValues.length>1?newValues:newValues[0]};var updateWeekDays=function(){if(updatedRule.weekDays){var oldWeekDays=updatedRule.weekDays.split(",");var oldWeekDay=WEEK_DAYNAMES[oldStartDate.getDay()];var newWeekDay=WEEK_DAYNAMES[newStartDate.getDay()];var newWeekDays=updateArray(oldWeekDays,oldWeekDay,newWeekDay);updatedRule.weekDays=newWeekDays.join()}};if(repeat==="weekly"){updateWeekDays()}else if(repeat==="monthly"){if(updatedRule.pos===UNDEFINED){updatedRule.day=updateNumber(updatedRule.day,oldStartDate.getDate(),newStartDate.getDate())}else{updateWeekDays()}}else if(repeat==="yearly"){if(updatedRule.pos===UNDEFINED){updatedRule.month=updateNumber(updatedRule.month,oldStartDate.getMonth()+1,newStartDate.getMonth()+1);updatedRule.day=updateNumber(updatedRule.day,oldStartDate.getDate(),newStartDate.getDate())}else{updateWeekDays()}}if(updatedRule.from){updatedRule.from=addDays(makeDate(updatedRule.from),dayDelta)}if(updatedRule.until){updatedRule.until=addDays(makeDate(updatedRule.until),dayDelta)}return updatedRule}function updateRecurringEvent(originalRecurringEvent,oldEventOccurrence,newEvent,updatedEvent,updateMode,timezone,timezonePlugin){var retUpdatedEvent=__assign({},originalRecurringEvent);var retNewEvent=null;var newStart=newEvent&&newEvent.start;var newEnd=newEvent&&newEvent.end;var newRule;var oldStart=oldEventOccurrence&&oldEventOccurrence.start;var originalRule=getRule(originalRecurringEvent.recurring);switch(updateMode){case"following":if(updatedEvent){if(updatedEvent.recurring){newRule=getRule(updatedEvent.recurring)}retNewEvent=__assign({},updatedEvent);delete retNewEvent.id}else if(newStart&&oldStart){newRule=updateRecurringRule(originalRule,newStart,oldStart);retNewEvent=__assign({},newEvent)}originalRule.until=formatDatePublic("YYYY-MM-DDTHH:mm:ss",new Date(+makeDate(oldStart)-1));if(originalRule.count){var oldNr=oldEventOccurrence&&oldEventOccurrence.nr||0;if(newRule){newRule.count=originalRule.count-oldNr}originalRule.count=oldNr}if(newStart&&newRule){newRule.from=newStart}if(retNewEvent&&newRule){retNewEvent.recurring=newRule}retUpdatedEvent.recurring=originalRule;break;case"all":if(updatedEvent){newStart=updatedEvent.start;newEnd=updatedEvent.end;retUpdatedEvent=__assign({},updatedEvent)}else if(newEvent&&newStart&&newEnd&&oldStart){retUpdatedEvent.allDay=newEvent.allDay;retUpdatedEvent.recurring=updateRecurringRule(originalRule,newStart,oldStart)}if(newStart&&newEnd){var tzOpt=timezone&&timezonePlugin?{displayTimezone:timezone,timezonePlugin:timezonePlugin}:UNDEFINED;var tzOpt1=retUpdatedEvent.allDay?UNDEFINED:tzOpt;var tzOpt2=originalRecurringEvent.allDay?UNDEFINED:tzOpt;var start=makeDate(newStart,tzOpt1);var end=makeDate(newEnd,tzOpt1);var origStart=originalRecurringEvent.start;var origEnd=originalRecurringEvent.end;var allDayChange=originalRecurringEvent.allDay&&!retUpdatedEvent.allDay;var origStartDate=origStart&&makeDate(origStart,tzOpt2);var oldStartDate=oldStart&&makeDate(oldStart,tzOpt2);var duration=end-start;var delta=oldStartDate?start-oldStartDate:0;var updatedStart=origStartDate&&oldStartDate?createDate$1(tzOpt1,+origStartDate+delta):start;var updatedEnd=createDate$1(tzOpt1,+updatedStart+duration);if(isTime(origStart)||!origStart&&allDayChange){retUpdatedEvent.start=formatDatePublic("HH:mm",start)}else if(origStart){retUpdatedEvent.start=tzOpt1?updatedStart.toISOString():updatedStart}if(isTime(origEnd)||!origEnd&&allDayChange){retUpdatedEvent.end=formatDatePublic("HH:mm",end)}else if(origEnd){retUpdatedEvent.end=tzOpt1?updatedEnd.toISOString():updatedEnd}}break;default:{var originalException=originalRecurringEvent.recurringException;var exception=isArray(originalException)?__spreadArray([],originalException,true):originalException?[originalException]:[];if(oldStart){exception.push(oldStart)}retUpdatedEvent.recurringException=exception;retNewEvent=updatedEvent||newEvent;break}}return{updatedEvent:retUpdatedEvent,newEvent:retNewEvent}}function getNextOccurrence(list,from,s,displayFormat){var closest=null;for(var _i=0,list_1=list;_i<list_1.length;_i++){var item=list_1[_i];if(item.recurring){var dtStart=makeDate(item.start||item.date);var firstOccurrence=getOccurrences(item.recurring,dtStart,dtStart,from,UNDEFINED,s,item.reccurringException,item.recurringExceptionRule,"first");if(!closest||firstOccurrence<closest){closest=firstOccurrence}}else if(item.start&&item.end){var start=makeDate(item.start,s,displayFormat);var end=makeDate(item.end,s,displayFormat);if(end>from){if(start<=from){closest=from}else{closest=closest&&closest<start?closest:start}}}else{var exactDate=makeDate(getDateFromItem(item),s,displayFormat);if(exactDate>from&&(!closest||exactDate<closest)){closest=exactDate}}}return closest}function getLatestOccurrence(list,from,s,displayFormat){var latest=from;list.sort((function(a,b){var d1=makeDate(getDateFromItem(a),s,displayFormat);var d2=makeDate(getDateFromItem(b),s,displayFormat);return d1-d2}));for(var _i=0,list_2=list;_i<list_2.length;_i++){var item=list_2[_i];if(item.recurring){var dtStart=makeDate(item.start||item.date);var latestOccurrence=getOccurrences(item.recurring,dtStart,dtStart,from,UNDEFINED,s,item.reccurringException,item.recurringExceptionRule,"last");if(latestOccurrence>latest){latest=latestOccurrence}}else if(item.start&&item.end){var start=makeDate(item.start,s,displayFormat);var end=makeDate(item.end,s,displayFormat);if(end>latest&&getDayDiff(latest,start)<=1){latest=end}}else{var exactDate=makeDate(getDateFromItem(item),s,displayFormat);if(exactDate>latest&&getDayDiff(latest,exactDate)<=1){latest=exactDate}}}return latest}function getExceptionList(exception){if(exception){if(isArray(exception)){return exception}if(isString(exception)){return exception.split(",")}return[exception]}return[]}function getOccurrences(rule,dtStart,origStart,start,end,s,exception,exceptionRule,returnOccurrence){if(isString(rule)){rule=parseRule(rule)}var getYear=s.getYear;var getMonth=s.getMonth;var getDay=s.getDay;var getDate=s.getDate;var getMaxDays=s.getMaxDayOfMonth;var freq=(rule.repeat||"").toLowerCase();var interval=rule.interval||1;var count=rule.count;var from=rule.from?makeDate(rule.from):dtStart||(interval!==1||count!==UNDEFINED?new Date:start);var fromDate=getDateOnly(from);var fromYear=getYear(from);var fromMonth=getMonth(from);var fromDay=getDay(from);var defDate=rule.from?from:dtStart||new Date;var defMonth=getMonth(defDate)+1;var defDay=getDay(defDate);var origHours=origStart?origStart.getHours():0;var origMinutes=origStart?origStart.getMinutes():0;var origSeconds=origStart?origStart.getSeconds():0;var until=rule.until?makeDate(rule.until):Infinity;var occurredBefore=from<start;var rangeStart=occurredBefore?start:getDateOnly(from);var firstOnly=returnOccurrence==="first";var lastOnly=returnOccurrence==="last";var rangeEnd=firstOnly||lastOnly||!end?until:until<end?until:end;var countOrInfinity=count===UNDEFINED?Infinity:count;var weekDays=(rule.weekDays||WEEK_DAYNAMES[defDate.getDay()]).split(",");var weekStart=WEEK_DAYS[(rule.weekStart||"MO").trim().toUpperCase()];var rDay=rule.day;var rMonth=rule.month;var days=isArray(rDay)?rDay.length?rDay:[defDay]:((rDay||defDay)+"").split(",");var months=isArray(rMonth)?rMonth.length?rMonth:[defMonth]:((rMonth||defMonth)+"").split(",");var occurrences=[];var hasPos=rule.pos!==UNDEFINED;var pos=hasPos?+rule.pos:1;var weekDayValues=[];var exceptionDateMap=end?getExceptionDateMap(dtStart,start,end,s,exception,exceptionRule):{};var first;var iterator;var repeat=true;var i=0;var nr=0;var closest=null;var latest=start;for(var _i=0,weekDays_1=weekDays;_i<weekDays_1.length;_i++){var weekDay=weekDays_1[_i];weekDayValues.push(WEEK_DAYS[weekDay.trim().toUpperCase()])}var handleOccurrence=function(){if(!end){exceptionDateMap=getExceptionDateMap(iterator,iterator,addDays(iterator,1),s,exception,exceptionRule)}if(!exceptionDateMap[getDateStr(iterator)]&&iterator>=rangeStart){if(firstOnly){closest=!closest||iterator<closest?iterator:closest;repeat=false}else if(lastOnly){var diff=getDayDiff(latest,iterator);latest=iterator>latest&&diff<=1?iterator:latest;repeat=diff<=1}else{occurrences.push({d:iterator,i:nr})}}nr++};var handlePos=function(monthFirstDay,monthLastDay){var matches=[];for(var _i=0,weekDayValues_1=weekDayValues;_i<weekDayValues_1.length;_i++){var weekDay=weekDayValues_1[_i];var startWeekDay=getFirstDayOfWeek(monthFirstDay,{firstDay:weekDay});for(var d=startWeekDay;d<monthLastDay;d.setDate(d.getDate()+7)){if(d.getMonth()===monthFirstDay.getMonth()){matches.push(+d)}}}matches.sort();var match=matches[pos<0?matches.length+pos:pos-1];iterator=match?new Date(match):monthLastDay;iterator=getDate(getYear(iterator),getMonth(iterator),getDay(iterator),origHours,origMinutes,origSeconds);if(iterator>=from){if(iterator<=rangeEnd&&nr<countOrInfinity){if(match){handleOccurrence()}}else{repeat=false}}};switch(freq){case"daily":nr=count&&occurredBefore?floor(getDayDiff(from,start)/interval):0;while(repeat){iterator=getDate(fromYear,fromMonth,fromDay+nr*interval,origHours,origMinutes,origSeconds);if(iterator<=rangeEnd&&nr<countOrInfinity){handleOccurrence()}else{repeat=false}}break;case"weekly":{var sortedDays=weekDayValues;var fromFirstWeekDay=getFirstDayOfWeek(from,{firstDay:weekStart});var fromWeekDay_1=fromFirstWeekDay.getDay();sortedDays.sort((function(a,b){a=a-fromWeekDay_1;a=a<0?a+7:a;b=b-fromWeekDay_1;b=b<0?b+7:b;return a-b}));while(repeat){for(var _a=0,sortedDays_1=sortedDays;_a<sortedDays_1.length;_a++){var weekDay=sortedDays_1[_a];first=addDays(fromFirstWeekDay,weekDay<weekStart?weekDay-weekStart+7:weekDay-weekStart);iterator=getDate(getYear(first),getMonth(first),getDay(first)+i*7*interval,origHours,origMinutes,origSeconds);if(iterator<=rangeEnd&&nr<countOrInfinity){if(iterator>=fromDate){handleOccurrence()}}else{repeat=false}}i++}break}case"monthly":while(repeat){var maxDays=getMaxDays(fromYear,fromMonth+i*interval);if(hasPos){var monthFirstDay=getDate(fromYear,fromMonth+i*interval,1);var monthLastDay=getDate(fromYear,fromMonth+i*interval+1,1);handlePos(monthFirstDay,monthLastDay)}else{for(var _b=0,days_1=days;_b<days_1.length;_b++){var d=days_1[_b];var day=+d;iterator=getDate(fromYear,fromMonth+i*interval,day<0?maxDays+day+1:day,origHours,origMinutes,origSeconds);if(iterator<=rangeEnd&&nr<countOrInfinity){if(maxDays>=day&&iterator>=fromDate){handleOccurrence()}}else{repeat=false}}}i++}break;case"yearly":while(repeat){for(var _c=0,months_1=months;_c<months_1.length;_c++){var m=months_1[_c];var month=+m;var maxDays=getMaxDays(fromYear+i*interval,month-1);if(hasPos){var monthFirstDay=getDate(fromYear+i*interval,month-1,1);var monthLastDay=getDate(fromYear+i*interval,month,1);handlePos(monthFirstDay,monthLastDay)}else{for(var _d=0,days_2=days;_d<days_2.length;_d++){var d=days_2[_d];var day=+d;iterator=getDate(fromYear+i*interval,month-1,day<0?maxDays+day+1:day,origHours,origMinutes,origSeconds);if(iterator<=rangeEnd&&nr<countOrInfinity){if(maxDays>=day&&iterator>=fromDate){handleOccurrence()}}else{repeat=false}}}}i++}break}return firstOnly?closest:lastOnly?latest:occurrences}function getEventMap(list,start,end,s,overwrite,isList){var obj={};if(!list){return UNDEFINED}for(var _i=0,list_3=list;_i<list_3.length;_i++){var item=list_3[_i];var tzOpt=getTzOpt(s,item,true);var tzOptDisplay=getTzOpt(s,item);var d=getDateFromItem(item);var dt=makeDate(d,tzOptDisplay);if(item.recurring){var dtStart=isString(d)&&ISO_8601_TIME.test(d)?null:makeDate(d);var origStart=createDate$1(tzOpt,dt);var oEnd=item.end?makeDate(item.end,tzOpt):origStart;var origEnd=item.end==="00:00"?addDays(oEnd,1):oEnd;var duration=+origEnd-+origStart;var dayLength=origStart&&origEnd?getDayDiff(origStart,origEnd)+1:1;var from=addDays(start,-Math.max(1,dayLength));var until=addDays(end,1);var dates=getOccurrences(item.recurring,dtStart,origStart,from,until,s,item.recurringException,item.recurringExceptionRule);for(var _a=0,dates_1=dates;_a<dates_1.length;_a++){var occurrence=dates_1[_a];var date=occurrence.d;var clone=__assign({},item);if(item.start){clone.start=createDate$1(tzOpt,date.getFullYear(),date.getMonth(),date.getDate(),origStart.getHours(),origStart.getMinutes(),origStart.getSeconds())}else{clone.allDay=true;clone.start=createDate$1(UNDEFINED,date.getFullYear(),date.getMonth(),date.getDate())}if(item.end){if(item.allDay){var endDay=addDays(date,getDayDiff(origStart,origEnd));clone.end=new Date(endDay.getFullYear(),endDay.getMonth(),endDay.getDate(),origEnd.getHours(),origEnd.getMinutes(),origEnd.getSeconds())}else{clone.end=createDate$1(tzOpt,+clone.start+duration)}}clone.nr=occurrence.i;clone.occurrenceId=clone.id+"_"+getDateStr(clone.start);clone.original=item;if(clone.start&&clone.end){addMultiDayEvent(obj,clone,s,overwrite,isList)}else{addToList(obj,date,clone)}}}else if(item.start&&item.end){addMultiDayEvent(obj,item,s,overwrite,isList)}else if(dt){addToList(obj,dt,item)}}return obj}var labelGuid=1;var MULTI_YEAR_VIEW="multi-year";var YEAR_VIEW="year";var MONTH_VIEW="month";var PAGE_VIEW="page";var PAGE_WIDTH=296;var calendarViewDefaults=/*#__PURE__*/extend(dateTimeLocale,{dateText:"Date",eventText:"event",eventsText:"events",moreEventsText:"{count} more",nextPageText:"Next page",prevPageText:"Previous page",showEventTooltip:true,showToday:true,timeText:"Time"});function getFirstPageDay(pageIndex,s){var refDate=s.refDate?makeDate(s.refDate):REF_DATE;var pageType=s.showCalendar?s.calendarType:s.eventRange;var pageSize=(s.showCalendar?pageType==="year"?1:pageType==="week"?s.weeks:s.size:s.eventRangeSize)||1;var getDate=s.getDate;var ref=pageType==="week"?getFirstDayOfWeek(refDate,s):refDate;var year=s.getYear(ref);var month=s.getMonth(ref);var day=s.getDay(ref);switch(pageType){case"year":return getDate(year+pageIndex*pageSize,0,1);case"week":return getDate(year,month,day+7*pageSize*pageIndex);case"day":return getDate(year,month,day+pageSize*pageIndex);default:return getDate(year,month+pageIndex*pageSize,1)}}function getPageIndex(d,s){var refDate=s.refDate?makeDate(s.refDate):REF_DATE;var getYear=s.getYear;var getMonth=s.getMonth;var pageType=s.showCalendar?s.calendarType:s.eventRange;var pageSize=(s.showCalendar?pageType==="year"?1:pageType==="week"?s.weeks:s.size:s.eventRangeSize)||1;var diff;switch(pageType){case"year":diff=getYear(d)-getYear(refDate);break;case"week":diff=getDayDiff(getFirstDayOfWeek(refDate,s),getFirstDayOfWeek(d,s))/7;break;case"day":diff=getDayDiff(refDate,d);break;case"month":diff=getMonth(d)-getMonth(refDate)+(getYear(d)-getYear(refDate))*12;break;default:return UNDEFINED}return floor(diff/pageSize)}function getYearsIndex(d,s){var refDate=s.refDate?makeDate(s.refDate):REF_DATE;return floor((s.getYear(d)-s.getYear(refDate))/12)}function getYearIndex(d,s){var refDate=s.refDate?makeDate(s.refDate):REF_DATE;return s.getYear(d)-s.getYear(refDate)}function getMonthIndex(d,s){var refDate=s.refDate?makeDate(s.refDate):REF_DATE;return s.getMonth(d)-s.getMonth(refDate)+(s.getYear(d)-s.getYear(refDate))*12}function getPageNr(pages,width){return pages==="auto"?Math.max(1,Math.min(3,Math.floor(width?width/PAGE_WIDTH:1))):pages?+pages:1}function getLabels(s,labelsObj,start,end,maxLabels,days,allDayOnly,firstWeekDay,isMultiRow,noOuterDays,showLabelCount,moreEventsText,moreEventsPluralText,exactDisplay){labelsObj=labelsObj||{};var dayLabels={};var max=maxLabels===-1?Infinity:maxLabels;var eventDays={};var eventRowPos={};var eventRows=[];var day=start;var uid=0;var rowEnd=end;while(day<end){var dateKey=getDateStr(day);var weekDay=day.getDay();var monthDay=s.getDay(day);var nextMonth=noOuterDays?s.getDate(s.getYear(day),s.getMonth(day)+1,1):UNDEFINED;var isRowStart=isMultiRow&&(weekDay===firstWeekDay||monthDay===1&&noOuterDays)||+day===+start;var firstDay=getFirstDayOfWeek(day,s);var events=sortEvents(labelsObj[dateKey]||[],s);var row=0;var displayed=0;var i=0;if(isRowStart){eventDays={};eventRowPos={};eventRows=[];rowEnd=isMultiRow?addDays(firstDay,days):end;if(nextMonth&&nextMonth<rowEnd){rowEnd=nextMonth}}if(allDayOnly){events=events.filter((function(ev){return ev.allDay}))}var eventsNr=events.length;var data=[];if(showLabelCount){if(eventsNr){data.push([{id:"count_"+ +day,count:eventsNr}])}}else{while(row<max&&i<eventsNr){var event_1=events[i];var allDay=event_1.allDay||!event_1.start;var tzOpt=getTzOpt(s,event_1);var startTime=makeDate(event_1.start||event_1.date,tzOpt);var eventEnd=event_1.end?makeDate(event_1.end,tzOpt):startTime;var endTime=getEndDate(s,allDay,startTime,eventEnd,!exactDisplay);var endDayNext=addDays(getDateOnly(endTime),1);var labelEnd=endTime<rowEnd?endDayNext:rowEnd;var startStr=startTime?", "+s.fromText+": "+formatDate("DDDD, MMMM D, YYYY",startTime,s):"";var endStr=endTime?", "+s.toText+": "+formatDate("DDDD, MMMM D, YYYY",endTime,s):"";var isExact=exactDisplay&&!allDay;var startTimeStamp=isExact?+startTime:+getDateOnly(addTimezone(s,startTime));var endTimeStamp=isExact?+eventEnd+(+eventEnd===+startTime?1:0):+addTimezone(s,endDayNext)-1;if(event_1.id===UNDEFINED){event_1.id="mbsc_"+labelGuid++}var id=event_1.occurrenceId||event_1.id;var startOffset=isExact&&isSameDay(day,startTime)?getDayMilliseconds(startTime)/ONE_DAY*100:0;var endOffset=isExact&&endTime<rowEnd?100-(getDayMilliseconds(endTime)+1)/ONE_DAY*100:0;var width=getDayDiff(day,labelEnd)*100-startOffset-endOffset;var prevRowPos=eventRowPos[id];var prevEventDays=eventDays[id]||[];var processedLabel={endTime:endTimeStamp,event:event_1,id:id,isExact:isExact,label:(event_1.title||event_1.text||"")+startStr+endStr,lastDay:nextMonth,position:{left:(s.rtl?UNDEFINED:startOffset)+"%",right:(s.rtl?startOffset:UNDEFINED)+"%",width:width+"%"},showText:isSameDay(day,startTime)||isRowStart,startTime:startTimeStamp};if(prevRowPos!==UNDEFINED){for(var j=0;j<=prevRowPos;j++){if(!data[j]){data[j]=[]}}data[prevRowPos].push(processedLabel);prevEventDays.push(dateKey);displayed++}else{var j=0;var overlap=true;while(j<=eventRows.length&&overlap){overlap=false;var k=0;var eventRow=eventRows[j]||[];while(k<eventRow.length&&!overlap){var ev=eventRow[k];if(ev.startTime<endTimeStamp&&ev.endTime>startTimeStamp){overlap=true}k++}if(!data[j]&&j<max){data[j]=[]}if(!overlap&&j<max){if(!eventRows[j]){eventRows[j]=[]}data[j].push(processedLabel);eventRows[j].push(processedLabel);eventRowPos[id]=j;eventDays[id]=[dateKey];displayed++}j++}}if(!exactDisplay){row=data.reduce((function(filled,d){return filled+(d.length?1:0)}),0)}i++}if(displayed<eventsNr){var last=max-1;var nr=eventsNr-displayed+data[last].length;var moreText=moreEventsText||"";var text=(nr>1?moreEventsPluralText||moreText:moreText).replace(/{count}/,nr+"");var event_2=data[last][0];var prevEventDays=event_2?eventDays[event_2.id]||[]:[];data[last]=[{id:"more_"+ ++uid,more:text,label:text}];for(var _i=0,prevEventDays_1=prevEventDays;_i<prevEventDays_1.length;_i++){var d=prevEventDays_1[_i];var prevLabels=dayLabels[d];if(prevLabels){var prevMore=prevLabels.data[last][0].more;if(!prevMore){var prevMoreNr=prevLabels.data[last].length;var prevMoreTxt=(prevMoreNr>1?moreEventsPluralText||moreText:moreText).replace(/{count}/,prevMoreNr+"");prevLabels.data[last]=[{id:"more_"+ ++uid,more:prevMoreTxt,label:prevMoreTxt}]}}}}}dayLabels[dateKey]={data:data,events:events};day=getDateOnly(addDays(day,1))}return dayLabels}function sortEvents(events,s){function compareEvents(a,b){var start1=makeDate(a.start||a.date,s);var start2=makeDate(b.start||a.date,s);var text1=a.title||a.text;var text2=b.title||b.text;var hasOrder=a.order!==UNDEFINED&&b.order!==UNDEFINED;var weight1=hasOrder?a.order:!start1?0:+start1*(a.allDay?1:10);var weight2=hasOrder?b.order:!start2?0:+start2*(b.allDay?1:10);if(weight1===weight2){return text1>text2?1:-1}return weight1-weight2}return events&&events.slice(0).sort(s.eventOrder||compareEvents)}function computeEventResize(eventResize,calendarResize,resourceResize){if(eventResize===false||resourceResize===false||!calendarResize){return false}return true}function computeEventDragInTime(eventDragInTime,resourceDragInTime,calendarDragInTime){if(eventDragInTime===false||resourceDragInTime===false||calendarDragInTime===false){return false}return true}function computeEventDragBetweenResources(eventDragBetweenResources,resourceDragBetweenResources,calendarDragBetweenResources){if(eventDragBetweenResources===false||resourceDragBetweenResources===false||calendarDragBetweenResources===false){return false}return true}function computeEventDragBetweenSlots(eventDragBetweenSlot,resourceDragBetweenSlots,slotDragBetweenSlot,calendarDragBetweenSlots){if(eventDragBetweenSlot===false||resourceDragBetweenSlots===false||slotDragBetweenSlot===false||calendarDragBetweenSlots===false){return false}return true}var ANIMATION_START="animationstart";var BLUR="blur";var CHANGE="change";var CLICK="click";var CONTEXTMENU="contextmenu";var DOUBLE_CLICK="dblclick";var FOCUS="focus";var FOCUS_IN="focusin";var INPUT="input";var KEY_DOWN="keydown";var MOUSE_DOWN="mousedown";var MOUSE_MOVE="mousemove";var MOUSE_UP="mouseup";var MOUSE_OVER="mousedown";var MOUSE_ENTER="mouseenter";var MOUSE_LEAVE="mouseleave";var MOUSE_WHEEL="mousewheel";var RESIZE="resize";var SCROLL="scroll";var TOUCH_START="touchstart";var TOUCH_MOVE="touchmove";var TOUCH_END="touchend";var TOUCH_CANCEL="touchcancel";var WHEEL="wheel";var BACKSPACE=8;var TAB=9;var ENTER=13;var ESC=27;var SPACE=32;var PAGE_UP=33;var PAGE_DOWN=34;var END=35;var HOME=36;var LEFT_ARROW=37;var UP_ARROW=38;var RIGHT_ARROW=39;var DOWN_ARROW=40;var DELETE=46;var markup='<div class="mbsc-resize"><div class="mbsc-resize-i mbsc-resize-x"></div></div>'+'<div class="mbsc-resize"><div class="mbsc-resize-i mbsc-resize-y"></div></div>';var observer;var count=0;function resizeObserver(el,callback,zone){var expand;var expandChild;var helper;var hiddenRafId;var rafId;var shrink;var stopCheck;var lastCheck=0;function reset(){expandChild.style.width="100000px";expandChild.style.height="100000px";expand.scrollLeft=1e5;expand.scrollTop=1e5;shrink.scrollLeft=1e5;shrink.scrollTop=1e5}function checkHidden(){var now=+new Date;hiddenRafId=0;if(!stopCheck){if(now-lastCheck>200&&!expand.scrollTop&&!expand.scrollLeft){lastCheck=now;reset()}if(!hiddenRafId){hiddenRafId=raf(checkHidden)}}}function onScroll(){if(!rafId){rafId=raf(onResize)}}function onResize(){rafId=0;reset();callback()}if(win&&win.ResizeObserver){if(!observer){observer=new win.ResizeObserver((function(entries){if(!rafId){rafId=raf((function(){for(var _i=0,entries_1=entries;_i<entries_1.length;_i++){var entry=entries_1[_i];if(entry.target.__mbscResize){entry.target.__mbscResize()}}rafId=0}))}}))}count++;el.__mbscResize=function(){if(zone){zone.run(callback)}else{callback()}};observer.observe(el)}else{helper=doc&&doc.createElement("div")}if(helper){helper.innerHTML=markup;helper.dir="ltr";shrink=helper.childNodes[1];expand=helper.childNodes[0];expandChild=expand.childNodes[0];el.appendChild(helper);listen(expand,"scroll",onScroll);listen(shrink,"scroll",onScroll);if(zone){zone.runOutsideAngular((function(){raf(checkHidden)}))}else{raf(checkHidden)}}return{detach:function(){if(observer){count--;delete el.__mbscResize;observer.unobserve(el);if(!count){observer=UNDEFINED}}else{if(helper){unlisten(expand,"scroll",onScroll);unlisten(shrink,"scroll",onScroll);el.removeChild(helper);rafc(rafId);helper=UNDEFINED}stopCheck=true}}}}var activeModal;var EDITABLE="input,select,textarea,button";var ALLOW_ENTER='textarea,button,input[type="button"],input[type="submit"]';var FOCUSABLE=EDITABLE+',[tabindex="0"]';var MAX_WIDTH=600;var KEY_CODES={enter:ENTER,esc:ESC,space:SPACE};var needsFixed=isBrowser&&/(iphone|ipod)/i.test(userAgent)&&majorVersion>=7&&majorVersion<15;function processButtons(inst,buttons){var s=inst.s;var processedButtons=[];var predefinedButtons={cancel:{cssClass:"mbsc-popup-button-close",name:"cancel",text:s.cancelText},close:{cssClass:"mbsc-popup-button-close",name:"close",text:s.closeText},ok:{cssClass:"mbsc-popup-button-primary",keyCode:ENTER,name:"ok",text:s.okText},set:{cssClass:"mbsc-popup-button-primary",keyCode:ENTER,name:"set",text:s.setText}};if(buttons&&buttons.length){buttons.forEach((function(btn){var button=isString(btn)?predefinedButtons[btn]||{text:btn}:btn;if(!button.handler||isString(button.handler)){if(isString(button.handler)){button.name=button.handler}button.handler=function(domEvent){inst._onButtonClick({domEvent:domEvent,button:button})}}processedButtons.push(button)}));return processedButtons}return UNDEFINED}function getPrevActive(modal,i){if(i===void 0){i=0}var prevModal=modal._prevModal;if(prevModal&&prevModal!==modal&&i<10){if(prevModal.isVisible()){return prevModal}return getPrevActive(prevModal,i+1)}return UNDEFINED}var PopupBase=/*#__PURE__*/function(_super){__extends(PopupBase,_super);function PopupBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._lastFocus=+new Date;_this._setActive=function(el){_this._active=el};_this._setContent=function(el){_this._content=el};_this._setLimitator=function(el){_this._limitator=el};_this._setPopup=function(el){_this._popup=el};_this._setWrapper=function(el){_this._wrapper=el};_this._onOverlayClick=function(){if(_this._isOpen&&_this.s.closeOnOverlayClick&&!_this._preventClose){_this._close("overlay")}};_this._onDocClick=function(ev){if(!_this.s.showOverlay&&ev.target!==_this.s.focusElm&&activeModal===_this){_this._onOverlayClick()}_this._preventClose=false};_this._onMouseDown=function(ev){if(!_this.s.showOverlay){_this._target=ev.target}};_this._onMouseUp=function(ev){if(_this._target&&_this._popup&&_this._popup.contains(_this._target)&&!_this._popup.contains(ev.target)){_this._preventClose=true}_this._target=false};_this._onPopupClick=function(){if(!_this.s.showOverlay){_this._preventClose=true}};_this._onAnimationEnd=function(ev){if(ev.target===_this._popup){if(_this._isClosing){_this._onClosed();_this._isClosing=false;if(_this.state.isReady){_this.setState({isReady:false})}else{_this.forceUpdate()}}if(_this._isOpening){_this._onOpened();_this._isOpening=false;_this.forceUpdate()}}};_this._onButtonClick=function(_a){var domEvent=_a.domEvent,button=_a.button;_this._hook("onButtonClick",{domEvent:domEvent,button:button});if(/cancel|close|ok|set/.test(button.name)){_this._close(button.name)}};_this._onFocus=function(ev){var now=+new Date;if(activeModal===_this&&ev.target.nodeType&&_this._ctx.contains(ev.target)&&_this._popup&&!_this._popup.contains(ev.target)&&now-_this._lastFocus>100&&ev.target!==_this.s.focusElm){_this._lastFocus=now;_this._active.focus()}};_this._onKeyDown=function(ev){var s=_this.s;var keyCode=ev.keyCode;var focusElm=s.focusElm&&!s.focusOnOpen?s.focusElm:UNDEFINED;if(keyCode===SPACE&&!matches(ev.target,EDITABLE)||_this._lock&&(keyCode===UP_ARROW||keyCode===DOWN_ARROW)){ev.preventDefault()}if(s.focusTrap&&keyCode===TAB){var all=_this._popup.querySelectorAll(FOCUSABLE);var focusable_1=[];var end_1=-1;var target=0;var current_1=-1;var targetElm=UNDEFINED;forEach(all,(function(elm){if(!elm.disabled&&(elm.offsetHeight||elm.offsetWidth)){focusable_1.push(elm);end_1++;if(elm===_this._doc.activeElement){current_1=end_1}}}));if(ev.shiftKey){target=end_1;end_1=0}if(current_1===end_1){targetElm=focusElm||focusable_1[target]}else if(ev.target===focusElm){targetElm=focusable_1[target]}if(targetElm){targetElm.focus();ev.preventDefault()}}};_this._onContentScroll=function(ev){if(_this._lock&&(ev.type!==TOUCH_MOVE||ev.touches[0].touchType!=="stylus")){ev.preventDefault()}};_this._onScroll=function(ev){var s=_this.s;if(s.closeOnScroll){_this._close("scroll")}else if(_this._hasContext||s.display==="anchored"){_this.position()}};_this._onWndKeyDown=function(ev){var s=_this.s;var keyCode=ev.keyCode;if(activeModal===_this&&keyCode!==UNDEFINED){_this._hook("onKeyDown",{keyCode:keyCode});if(s.closeOnEsc&&keyCode===ESC){_this._close("esc")}if(keyCode===ENTER&&matches(ev.target,ALLOW_ENTER)&&!ev.shiftKey){return}if(_this._buttons){for(var _i=0,_a=_this._buttons;_i<_a.length;_i++){var button=_a[_i];var buttonKeyCodes=isArray(button.keyCode)?button.keyCode:[button.keyCode];for(var _b=0,buttonKeyCodes_1=buttonKeyCodes;_b<buttonKeyCodes_1.length;_b++){var key=buttonKeyCodes_1[_b];if(!button.disabled&&key!==UNDEFINED&&(key===keyCode||KEY_CODES[key]===keyCode)){button.handler(ev);return}}}}}};_this._onResize=function(){var wrapper=_this._wrapper;var hasContext=_this._hasContext;if(!wrapper){return}_this._vpWidth=Math.min(wrapper.clientWidth,hasContext?Infinity:_this._win.innerWidth);_this._vpHeight=Math.min(wrapper.clientHeight,hasContext?Infinity:_this._win.innerHeight);_this._maxWidth=_this._limitator.offsetWidth;_this._maxHeight=_this.s.maxHeight!==UNDEFINED||_this._vpWidth<768||_this._vpHeight<650?_this._limitator.offsetHeight:600;_this._round=_this.s.touchUi===false||_this._popup.offsetWidth<_this._vpWidth&&_this._vpWidth>_this._maxWidth;var args={isLarge:_this._round,maxPopupHeight:_this._maxHeight,maxPopupWidth:_this._maxWidth,target:wrapper,windowHeight:_this._vpHeight,windowWidth:_this._vpWidth};if(_this._hook("onResize",args)!==false&&!args.cancel){_this.position()}};return _this}PopupBase.prototype.open=function(){if(!this._isOpen){this.setState({isOpen:true})}};PopupBase.prototype.close=function(){this._close()};PopupBase.prototype.isVisible=function(){return!!this._isOpen};PopupBase.prototype.position=function(){if(!this._isOpen){return}var s=this.s;var state=this.state;var wrapper=this._wrapper;var popup=this._popup;var hasContext=this._hasContext;var isLarge=this._round;var anchor=s.anchor;var anchorAlign=s.anchorAlign;var rtl=s.rtl;var scrollTop=getScrollTop(this._scrollCont);var scrollLeft=getScrollLeft(this._scrollCont);var viewportWidth=this._vpWidth;var viewportHeight=this._vpHeight;var maxWidth=this._maxWidth;var maxHeight=this._maxHeight;var popupWidth=Math.min(popup.offsetWidth,maxWidth);var popupHeight=Math.min(popup.offsetHeight,maxHeight);var showArrow=s.showArrow;this._lock=s.scrollLock&&this._content.scrollHeight<=this._content.clientHeight;if(hasContext){wrapper.style.top=scrollTop+"px";wrapper.style.left=scrollLeft+"px"}var skip=this._hook("onPosition",{isLarge:isLarge,maxPopupHeight:maxHeight,maxPopupWidth:maxWidth,target:this._wrapper,windowHeight:viewportHeight,windowWidth:viewportWidth})===false;if(s.display==="anchored"&&!skip){var ctxLeft=0;var ctxTop=0;var left=constrain(state.modalLeft||0,8,viewportWidth-popupWidth-8);var top_1=state.modalTop||8;var bubblePos="bottom";var arrowPos={};var arrowHeight=showArrow?16:4;var fullWidth=wrapper.offsetWidth;var fullHeight=wrapper.offsetHeight;var widthOffset=(fullWidth-viewportWidth)/2;var heightOffset=(fullHeight-viewportHeight)/2;if(hasContext){var ctxBox=this._ctx.getBoundingClientRect();ctxTop=ctxBox.top;ctxLeft=ctxBox.left}if(anchor&&contains(this._ctx,anchor)){var box=anchor.getBoundingClientRect();var anchorTop=box.top-ctxTop;var anchorLeft=box.left-ctxLeft;var anchorWidth=anchor.offsetWidth;var anchorHeight=anchor.offsetHeight;if(anchorAlign==="start"&&!rtl||anchorAlign==="end"&&rtl){left=anchorLeft}else if(anchorAlign==="end"&&!rtl||anchorAlign==="start"&&rtl){left=anchorLeft+anchorWidth-popupWidth}else{left=anchorLeft-(popupWidth-anchorWidth)/2}left=constrain(left,8,viewportWidth-popupWidth-8);top_1=anchorTop+anchorHeight+arrowHeight;arrowPos={left:constrain(anchorLeft+anchorWidth/2-left-widthOffset,30,popupWidth-30)+"px"};if(top_1+popupHeight+arrowHeight>viewportHeight){if(anchorTop-popupHeight-arrowHeight>0){bubblePos="top";top_1=anchorTop-popupHeight-arrowHeight}else if(!s.disableLeftRight){var leftPos=anchorLeft-popupWidth-8>0;var rightPos=anchorLeft+anchorWidth+popupWidth+8<=viewportWidth;if(leftPos||rightPos){top_1=constrain(anchorTop-(popupHeight-anchorHeight)/2,8,viewportHeight-popupHeight-8);if(top_1+popupHeight+8>viewportHeight){top_1=Math.max(viewportHeight-popupHeight-8,0)}arrowPos={top:constrain(anchorTop+anchorHeight/2-top_1-heightOffset,30,popupHeight-30)+"px"};bubblePos=leftPos?"left":"right";left=leftPos?anchorLeft-popupWidth:anchorLeft+anchorWidth}}}}else{showArrow=false}if(bubblePos==="top"||bubblePos==="bottom"){if(top_1+popupHeight+arrowHeight>viewportHeight){top_1=Math.max(viewportHeight-popupHeight-arrowHeight,0);showArrow=false}}this.setState({arrowPos:arrowPos,bubblePos:bubblePos,height:viewportHeight,isLarge:isLarge,isReady:true,modalLeft:left,modalTop:top_1,showArrow:showArrow,width:viewportWidth})}else{this.setState({height:viewportHeight,isLarge:isLarge,isReady:true,showArrow:showArrow,width:viewportWidth})}};PopupBase.prototype._render=function(s,state){if(s.display==="bubble"){s.display="anchored"}var animation=s.animation;var display=s.display;var prevProps=this._prevS;var hasPos=display==="anchored";var isModal=display!=="inline";var isFullScreen=s.fullScreen&&isModal;var isOpen=isModal?s.isOpen===UNDEFINED?state.isOpen:s.isOpen:false;if(isOpen&&(s.windowWidth!==prevProps.windowWidth||s.display!==prevProps.display||s.showArrow!==prevProps.showArrow||s.touchUi!==prevProps.touchUi||s.anchor!==prevProps.anchor&&s.display==="anchored")){this._shouldPosition=true}this._limits={maxHeight:addPixel(s.maxHeight),maxWidth:addPixel(s.maxWidth)};this._style={height:isFullScreen?"100%":addPixel(s.height),left:hasPos&&state.modalLeft?state.modalLeft+"px":"",maxHeight:addPixel(this._maxHeight||s.maxHeight),maxWidth:addPixel(this._maxWidth||s.maxWidth),top:hasPos&&state.modalTop?state.modalTop+"px":"",width:isFullScreen?"100%":addPixel(s.width)};this._hasContext=s.context!=="body"&&s.context!==UNDEFINED;this._needsLock=needsFixed&&!this._hasContext&&display!=="anchored"&&s.scrollLock;this._isModal=isModal;this._flexButtons=display==="center"||!this._touchUi&&!isFullScreen&&(display==="top"||display==="bottom");if(animation!==UNDEFINED&&animation!==true){this._animation=isString(animation)?animation:""}else{switch(display){case"bottom":this._animation="slide-up";break;case"top":this._animation="slide-down";break;default:this._animation="pop"}}if(s.buttons){if(s.buttons!==prevProps.buttons){this._buttons=processButtons(this,s.buttons)}}else{this._buttons=UNDEFINED}if(s.headerText!==prevProps.headerText){this._headerText=s.headerText?this._safeHtml(s.headerText):UNDEFINED}if(s.context!==prevProps.context){this._contextChanged=true}if(isOpen&&!this._isOpen){this._onOpen()}if(!isOpen&&this._isOpen){this._onClose()}this._isOpen=isOpen;this._isVisible=isOpen||this._isClosing};PopupBase.prototype._updated=function(){var _this=this;var s=this.s;var wrapper=this._wrapper;if(doc&&(this._contextChanged||!this._ctx)){this._ctx=getContext(s.context,doc);this._contextChanged=false;if(this._justOpened){ngSetTimeout(this,(function(){_this.forceUpdate()}));return}}if(!wrapper){return}if(this._justOpened){var ctx=this._ctx;var hasContext=this._hasContext;var doc_1=this._doc=getDocument(wrapper);var win=this._win=getWindow(wrapper);var activeElm_1=doc_1.activeElement;if(!this._hasWidth&&s.responsive){var viewportWidth_1=Math.min(wrapper.clientWidth,hasContext?Infinity:win.innerWidth);var viewportHeight_1=Math.min(wrapper.clientHeight,hasContext?Infinity:win.innerHeight);this._hasWidth=true;if(viewportWidth_1!==this.state.width||viewportHeight_1!==this.state.height){ngSetTimeout(this,(function(){_this.setState({height:viewportHeight_1,width:viewportWidth_1})}));return}}this._scrollCont=hasContext?ctx:win;this._observer=resizeObserver(wrapper,this._onResize,this._zone);this._prevFocus=s.focusElm||activeElm_1;ctx.__mbscModals=(ctx.__mbscModals||0)+1;if(this._needsLock){if(!ctx.__mbscIOSLock){var scrollTop=getScrollTop(this._scrollCont);var scrollLeft=getScrollLeft(this._scrollCont);ctx.style.left=-scrollLeft+"px";ctx.style.top=-scrollTop+"px";ctx.__mbscScrollLeft=scrollLeft;ctx.__mbscScrollTop=scrollTop;ctx.classList.add("mbsc-popup-open-ios");ctx.parentElement.classList.add("mbsc-popup-open-ios")}ctx.__mbscIOSLock=(ctx.__mbscIOSLock||0)+1}if(hasContext){ctx.classList.add("mbsc-popup-ctx")}if(s.focusTrap){listen(win,FOCUS_IN,this._onFocus)}if(s.focusElm&&!s.focusOnOpen){listen(s.focusElm,KEY_DOWN,this._onKeyDown)}listen(this._scrollCont,TOUCH_MOVE,this._onContentScroll,{passive:false});listen(this._scrollCont,WHEEL,this._onContentScroll,{passive:false});listen(this._scrollCont,MOUSE_WHEEL,this._onContentScroll,{passive:false});setTimeout((function(){if(s.focusOnOpen&&activeElm_1){activeElm_1.blur()}if(!hasAnimation||!_this._animation){_this._onOpened()}listen(doc_1,MOUSE_DOWN,_this._onMouseDown);listen(doc_1,MOUSE_UP,_this._onMouseUp);listen(doc_1,CLICK,_this._onDocClick)}));this._hook("onOpen",{target:this._wrapper})}if(this._shouldPosition){ngSetTimeout(this,(function(){_this._onResize()}))}this._justOpened=false;this._justClosed=false;this._shouldPosition=false};PopupBase.prototype._destroy=function(){if(this._isOpen){this._onClosed();this._unlisten();if(activeModal===this){activeModal=getPrevActive(this)}}};PopupBase.prototype._onOpen=function(){var _this=this;if(hasAnimation&&this._animation){this._isOpening=true;this._isClosing=false}this._justOpened=true;this._preventClose=false;if(this.s.setActive&&activeModal!==this){setTimeout((function(){_this._prevModal=activeModal;activeModal=_this}))}};PopupBase.prototype._onClose=function(){var _this=this;if(hasAnimation&&this._animation){this._isClosing=true;this._isOpening=false}else{setTimeout((function(){_this._onClosed();_this.setState({isReady:false})}))}this._hasWidth=false;this._unlisten()};PopupBase.prototype._onOpened=function(){var s=this.s;if(s.focusOnOpen){var activeElm=s.activeElm;var active=activeElm?isString(activeElm)?this._popup.querySelector(activeElm)||this._active:activeElm:this._active;if(active&&active.focus){active.focus()}}listen(this._win,KEY_DOWN,this._onWndKeyDown);listen(this._scrollCont,SCROLL,this._onScroll)};PopupBase.prototype._onClosed=function(){var _this=this;var ctx=this._ctx;var prevFocus=this._prevFocus;var shouldFocus=this.s.focusOnClose&&prevFocus&&prevFocus.focus&&prevFocus!==this._doc.activeElement;if(ctx.__mbscModals){ctx.__mbscModals--}this._justClosed=true;if(this._needsLock){if(ctx.__mbscIOSLock){ctx.__mbscIOSLock--}if(!ctx.__mbscIOSLock){ctx.classList.remove("mbsc-popup-open-ios");ctx.parentElement.classList.remove("mbsc-popup-open-ios");ctx.style.left="";ctx.style.top="";setScrollLeft(this._scrollCont,ctx.__mbscScrollLeft||0);setScrollTop(this._scrollCont,ctx.__mbscScrollTop||0)}}if(this._hasContext&&!ctx.__mbscModals){ctx.classList.remove("mbsc-popup-ctx")}this._hook("onClosed",{focus:shouldFocus});if(shouldFocus){prevFocus.focus()}setTimeout((function(){if(activeModal===_this){activeModal=getPrevActive(_this)}}))};PopupBase.prototype._unlisten=function(){unlisten(this._win,KEY_DOWN,this._onWndKeyDown);unlisten(this._scrollCont,SCROLL,this._onScroll);unlisten(this._scrollCont,TOUCH_MOVE,this._onContentScroll,{passive:false});unlisten(this._scrollCont,WHEEL,this._onContentScroll,{passive:false});unlisten(this._scrollCont,MOUSE_WHEEL,this._onContentScroll,{passive:false});unlisten(this._doc,MOUSE_DOWN,this._onMouseDown);unlisten(this._doc,MOUSE_UP,this._onMouseUp);unlisten(this._doc,CLICK,this._onDocClick);if(this.s.focusTrap){unlisten(this._win,FOCUS_IN,this._onFocus)}if(this.s.focusElm){unlisten(this.s.focusElm,KEY_DOWN,this._onKeyDown)}if(this._observer){this._observer.detach();this._observer=null}};PopupBase.prototype._close=function(source){if(this._isOpen){if(this.s.isOpen===UNDEFINED){this.setState({isOpen:false})}this._hook("onClose",{source:source})}};PopupBase.defaults={buttonVariant:"flat",cancelText:"Cancel",closeOnEsc:true,closeOnOverlayClick:true,closeText:"Close",contentPadding:true,display:"center",focusOnClose:true,focusOnOpen:true,focusTrap:true,maxWidth:MAX_WIDTH,okText:"Ok",scrollLock:true,setActive:true,setText:"Set",showArrow:true,showOverlay:true};PopupBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:PopupBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});PopupBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:PopupBase,selector:"[mbsc-popup-b]",usesInheritance:true,ngImport:i0});return PopupBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:PopupBase,decorators:[{type:Directive,args:[{selector:"[mbsc-popup-b]"}]}]});function getIonInput(el,cb,nr){if(nr===void 0){nr=0}if(nr>10){delete el.__mbscTimer;cb(el)}else{clearTimeout(el.__mbscTimer);el.__mbscTimer=setTimeout((function(){if(el.getInputElement){el.getInputElement().then((function(inp){if(inp){delete el.__mbscTimer;cb(inp)}else{getIonInput(el,cb,nr+1)}}))}else{getIonInput(el,cb,nr+1)}}),10)}}function isIonInput(el){return el.getInputElement||el.tagName&&el.tagName.toLowerCase()==="ion-input"}function getNativeElement(input,callback){if(input){if(isIonInput(input)){getIonInput(input,callback)}else if(input.vInput){callback(input.vInput.nativeElement)}else if(input._el){callback(input._el)}else if(input.instance&&input.instance._el){callback(input.instance._el)}else if(input.nodeType===1){callback(input)}else if(isString(input)){var inputElement=doc.querySelector(input);if(inputElement){callback(inputElement)}}}}function initPickerElement(el,inst,handleChange,handleClick){if(!el||el.nodeType!==1){return noop}var setReadOnly=function(){if((inst.s.showOnClick||inst.s.showOnFocus)&&isInput&&!inst._allowTyping){input.readOnly=true}};var onClick=function(ev){var s=inst.s;setReadOnly();if(handleClick){handleClick(ev)}if(s.showOnClick&&!s.disabled&&(!inst._popup._isVisible||el!==inst._popup._prevFocus)){setTimeout((function(){inst._focusElm=el;inst._anchor=s.anchor||el;inst.open()}))}};var onMouseDown=function(ev){if(inst.s.showOnClick){if(inst.s.showOnFocus){inst._preventShow=true}if(!inst._allowTyping){ev.preventDefault()}}};var onKeyDown=function(ev){if(inst.s.showOnClick){if(inst._isOpen){if(ev.keyCode===ENTER&&inst._allowTyping){ev.stopPropagation()}}else{if(ev.keyCode===SPACE){ev.preventDefault()}if(ev.keyCode===ENTER||ev.keyCode===SPACE){onClick(ev)}}}};var onFocus=function(ev){setReadOnly();if(inst.s.showOnFocus){if(inst._preventShow){inst._preventShow=false}else{onClick(ev)}}};var onBlur=function(){if(isInput){input.readOnly=readOnly}};var onChange=function(ev){if(handleChange){handleChange(ev)}};var onWinFocus=function(){if(win.document.activeElement===el){setReadOnly();inst._preventShow=true}};var win=getWindow(el);var isInput=matches(el,"input,select");var input=el;var readOnly;if(isInput){input.autocomplete="off";readOnly=input.readOnly}listen(el,CLICK,onClick);listen(el,MOUSE_DOWN,onMouseDown);listen(el,KEY_DOWN,onKeyDown);listen(el,FOCUS,onFocus);listen(el,BLUR,onBlur);listen(el,CHANGE,onChange);listen(win,FOCUS,onWinFocus);return function(){if(isInput){input.readOnly=readOnly}unlisten(el,CLICK,onClick);unlisten(el,MOUSE_DOWN,onMouseDown);unlisten(el,KEY_DOWN,onKeyDown);unlisten(el,FOCUS,onFocus);unlisten(el,BLUR,onBlur);unlisten(el,CHANGE,onChange);unlisten(win,FOCUS,onWinFocus)}}var PickerBase=/*#__PURE__*/function(_super){__extends(PickerBase,_super);function PickerBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._nullSupport=true;_this._onInputChange=function(ev,val){var value=ev.detail||(val!==UNDEFINED?val:ev.target.value);if(value!==_this._tempValueText&&!_this._preventChange){_this._readValue(value,true);_this._valueTextChange=value!==_this._tempValueText;var newValue=isEmpty(value)?null:_this._get(_this._tempValueRep);_this.value=newValue;_this._valueChange(newValue)}_this._preventChange=false};_this._onResize=function(args){_this._hook("onResize",args)};_this._onWrapperResize=function(){if(_this._wrapper){_this._onResize({windowWidth:_this._wrapper.offsetWidth})}};_this._onPopupClose=function(args){if(/cancel|esc|overlay|scroll/.test(args.source)){_this._hook("onCancel",{value:_this.value,valueText:_this._valueText})}_this.close()};_this._onPopupClosed=function(args){if(args.focus){_this._preventShow=true}_this._hook("onClosed",args);_this._onClosed()};_this._onPopupKey=function(args){if(args.keyCode===13){_this._onEnterKey(args)}};_this._onPopupOpen=function(args){args.value=_this.value;args.valueText=_this._valueText;_this._hook("onOpen",args)};_this._onButtonClick=function(_a){var domEvent=_a.domEvent,button=_a.button;if(button.name==="set"){_this.set()}if(_this._popup){_this._popup._onButtonClick({domEvent:domEvent,button:button})}};_this._setInput=function(inp){_this._el=inp&&inp.nativeElement?inp.nativeElement:inp};_this._setPopup=function(popup){_this._popup=popup};_this._setWrapper=function(wrapper){_this._wrapper=wrapper};_this._shouldValidate=function(s,prevS){return false};_this._valueEquals=function(v1,v2){return v1===v2};_this._copy=function(value){return value};_this._format=function(value){return value};_this._get=function(value){return value};_this._parse=function(valueText,fromInput){return valueText};return _this}PickerBase.prototype.open=function(){if(this._inst){this._inst.open();return}if(this.s.isOpen===UNDEFINED){this.setState({isOpen:true})}};PickerBase.prototype.close=function(){if(this.s.display==="inline"){return}if(this._inst){this._inst.close();return}var args={value:this.value,valueText:this._valueText};if(this.s.isOpen===UNDEFINED){this.setState({isOpen:false})}this._hook("onClose",args)};PickerBase.prototype.set=function(){this._valueRep=this._copy(this._tempValueRep);this._valueText=this._tempValueText;this._value=this.value=this._get(this._valueRep);this._valueChange(this.value)};PickerBase.prototype.position=function(){if(this._inst){this._inst.position();return}if(this._popup){this._popup.position()}};PickerBase.prototype.isVisible=function(){if(this._inst){return this._inst.isVisible()}return!!this._popup&&this._popup.isVisible()};PickerBase.prototype.getVal=function(){return this._nullSupport&&isEmpty(this._value)?this.s.selectMultiple?[]:null:this._get(this._valueRep)};PickerBase.prototype.setVal=function(value){this.value=value;this.setState({value:value})};PickerBase.prototype.getTempVal=function(){return this._get(this._tempValueRep)};PickerBase.prototype.setTempVal=function(value){this._tempValueSet=true;this._tempValueRep=this._parse(value);this._setOrUpdate(true)};PickerBase.prototype._change=function(value){};PickerBase.prototype._render=function(s,state){var _this=this;var props=this.props||{};var resp=this._respProps||{};var ctx=this._opt||{};var prevS=this._prevS;if(!this._touchUi){s.display=resp.display||props.display||ctx.display||options.display||"anchored";s.showArrow=resp.showArrow||props.showArrow||false}if(s.display==="bubble"){s.display="anchored"}this._scrollLock=s.scrollLock;var isOpen=s.isOpen!==UNDEFINED?s.isOpen:state.isOpen;var modelValue=s.modelValue!==UNDEFINED?s.modelValue:s.value;var value=modelValue!==UNDEFINED?modelValue:state.value===UNDEFINED?s.defaultValue:state.value;this._showInput=s.showInput!==UNDEFINED?s.showInput:s.display!=="inline"&&s.element===UNDEFINED;if(!this._buttons||s.buttons!==prevS.buttons||s.display!==prevS.display||s.setText!==prevS.setText||s.cancelText!==prevS.cancelText||s.closeText!==prevS.closeText||s.touchUi!==prevS.touchUi){this._buttons=processButtons(this,s.buttons||(s.display!=="inline"&&(s.display!=="anchored"||this._touchUi)?["cancel","set"]:[]));this._live=true;if(this._buttons&&this._buttons.length){for(var _i=0,_a=this._buttons;_i<_a.length;_i++){var b=_a[_i];if(b.name==="ok"||b.name==="set"){this._live=false}}}}this._onRender(s);var valueChange=!this._valueEquals(value,this._value);var needParse=valueChange||this._tempValueRep===UNDEFINED||this._shouldValidate(s,prevS);if(needParse||s.defaultSelection!==prevS.defaultSelection||s.invalid!==prevS.invalid||s.valid!==prevS.valid){if(needParse){this._readValue(value)}else{this._validateTemp(value)}var newValue_1=this._get(this._tempValueRep);var validationChange_1=!this._valueEquals(value,newValue_1)&&(!this._nullSupport||!isEmpty(value));this._setHeader();clearTimeout(this._handler);this._handler=setTimeout((function(){_this.value=value;if(validationChange_1){_this._valueChange(newValue_1)}if(!_this._valueEquals(_this._tempValue,newValue_1)&&_this._inst===UNDEFINED){_this._hook("onTempChange",{value:newValue_1})}}))}if(s.headerText!==prevS.headerText){this._setHeader()}if(isOpen&&!this._isOpen){if(!this._tempValueSet||this._live){var tempValue=this._get(this._tempValueRep);var parsedValue_1=this._get(this._valueRep);this._tempValueRep=this._copy(this._valueRep);this._tempValueText=this._format(this._tempValueRep);this._tempValue=tempValue;this._setHeader();if(!this._valueEquals(tempValue,parsedValue_1)){setTimeout((function(){_this._hook("onTempChange",{value:parsedValue_1})}))}}this._onOpen()}this._allowTyping=s.inputTyping&&!touchUi&&!this._touchUi;this._anchorAlign=s.anchorAlign||(this._touchUi?"center":"start");this._cssClass="mbsc-picker "+(s.cssClass||"");this._isOpen=isOpen;this._maxWidth=s.maxWidth;this._valueTextChange=this._valueTextChange||this._oldValueText!==this._valueText;this._oldValueText=this._valueText;this._value=value;this._shouldInitInput=this._shouldInitInput||prevS.display===UNDEFINED||s.display==="inline"&&prevS.display!=="inline"||s.display!=="inline"&&prevS.display==="inline"||s.element!==prevS.element};PickerBase.prototype._updated=function(){var _this=this;var s=this.s;var input=this._input;if(this._shouldInitInput&&!this._inst){this._unlisten();if(this._wrapper&&s.display==="inline"){this._observer=resizeObserver(this._wrapper,this._onWrapperResize,this._zone)}getNativeElement(s.element||this._el,(function(el){_this._el=el;if(s.display!=="inline"){_this._resetEl=initPickerElement(el,_this,_this._onInputChange)}if(matches(el,"input,select")){_this._input=el;_this._write(el)}}))}if(this._valueTextChange&&input){this._write(input)}setTimeout((function(){if(s.responsive&&s.display!=="inline"&&win&&_this.state.width===UNDEFINED){_this._onResize({windowWidth:win.innerWidth})}}));this._shouldInitInput=false;this._valueTextChange=false;this._anchor=s.anchor||this._focusElm||s.element||this._el};PickerBase.prototype._writeValue=function(elm,text,value){var oldValue=elm.value;elm.value=text;return oldValue!==text};PickerBase.prototype._destroy=function(){this._unlisten();this._shouldInitInput=true};PickerBase.prototype._setHeader=function(){var headerText=this.s.headerText;this._headerText=headerText?headerText.replace(/\{value\}/i,this._tempValueText||"&nbsp;"):UNDEFINED};PickerBase.prototype._setOrUpdate=function(preventChange){var value=this._get(this._tempValueRep);this._tempValue=value;this._tempValueText=this._format(this._tempValueRep);this._setHeader();if(!preventChange){this._hook("onTempChange",{value:value})}if(this._live){this.set()}else{this.forceUpdate()}};PickerBase.prototype._validate=function(){};PickerBase.prototype._onRender=function(s){};PickerBase.prototype._onClosed=function(){};PickerBase.prototype._onOpen=function(){};PickerBase.prototype._onEnterKey=function(args){this.set();this.close()};PickerBase.prototype._valueChange=function(value){if(this.s.value===UNDEFINED){this.setState({value:value})}this._change(value);this._hook("onChange",{value:value,valueText:this._tempValueText})};PickerBase.prototype._readValue=function(value,fromInput){this._tempValueRep=this._parse(value,fromInput);this._validateTemp(value)};PickerBase.prototype._validateTemp=function(value){this._validate();this._tempValueText=this._format(this._tempValueRep);this._valueRep=this._copy(this._tempValueRep);this._valueText=!isEmpty(value)?this._tempValueText:""};PickerBase.prototype._unlisten=function(){if(this._resetEl){this._resetEl();this._resetEl=UNDEFINED}if(this._observer){this._observer.detach();this._observer=UNDEFINED}};PickerBase.prototype._write=function(input){var _this=this;var value=this._value;var changed=this._writeValue(input,this._valueText||"",value);if(changed){setTimeout((function(){_this._preventChange=true;trigger(input,INPUT);trigger(input,CHANGE)}))}var mbscInput=input.__mbscFormInst;if(mbscInput){mbscInput.setOptions({pickerMap:this._valueMap,pickerValue:value})}};PickerBase.defaults={cancelText:"Cancel",closeText:"Close",focusOnClose:os!=="android",okText:"Ok",setText:"Set",showOnFocus:touchUi};PickerBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:PickerBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});PickerBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:PickerBase,selector:"[mbsc-p-b]",usesInheritance:true,ngImport:i0});return PickerBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:PickerBase,decorators:[{type:Directive,args:[{selector:"[mbsc-p-b]"}]}]});function isInvalid(s,d,invalids,valids,min,max){var key=getDateStr(d);if(min&&+d<min||max&&+d>max){return true}if(valids&&valids[key]){return false}var invalidsForDay=invalids&&invalids[key];if(invalidsForDay){for(var _i=0,invalidsForDay_1=invalidsForDay;_i<invalidsForDay_1.length;_i++){var invalid=invalidsForDay_1[_i];var start=invalid.start,end=invalid.end,allDay=invalid.allDay;if(start&&end&&!allDay){var endDate=getEndDate(s,allDay,start,end);var dayStart=getDayStart(s,d);var dayEnd=getDayEnd(s,endDate);if(!isSameDay(start,end)&&(+start===+dayStart||+endDate===+dayEnd||!isSameDay(d,start)&&!isSameDay(d,end)&&d>start&&d<end)){return invalid}}else{return invalid}}}return false}function getClosestValidDate(d,s,min,max,invalids,valids,dir){var next;var prev;var nextInvalid=true;var prevInvalid=true;var up=0;var down=0;if(+d<min){d=createDate$1(s,min)}if(+d>max){d=createDate$1(s,max)}var year=s.getYear(d);var month=s.getMonth(d);var start=s.getDate(year,month-1,1);var end=s.getDate(year,month+2,1);var from=+start>min?+start:min;var until=+end<max?+end:max;if(!invalids){valids=getEventMap(s.valid,start,end,s,true,true);invalids=getEventMap(s.invalid,start,end,s,true,true)}if(!isInvalid(s,d,invalids,valids,min,max)){return d}next=d;prev=d;while(nextInvalid&&+next<until&&up<100){next=addDays(next,1);nextInvalid=isInvalid(s,next,invalids,valids,min,max);up++}while(prevInvalid&&+prev>from&&down<100){prev=addDays(prev,-1);prevInvalid=isInvalid(s,prev,invalids,valids,min,max);down++}if(nextInvalid&&prevInvalid){return d}if(dir===1&&!nextInvalid){return next}if(dir===-1&&!prevInvalid){return prev}if(isSameMonth(d,next,s)&&!nextInvalid){return next}if(isSameMonth(d,prev,s)&&!prevInvalid){return prev}return prevInvalid||down>=up&&!nextInvalid?next:prev}var modules={};var RANGE_SEPARATOR=" - ";var CALENDAR_CTRL=["calendar"];var INVALID_ALL=[{recurring:{repeat:"daily"}}];function notActive(active){return active==="start"?"end":"start"}function getPresetRange(timestamp,s){var date=new Date(timestamp);var firstSelectDay=s.firstSelectDay!==UNDEFINED?s.firstSelectDay:s.firstDay;var start=getFirstDayOfWeek(date,s,firstSelectDay);var end=new Date(start.getFullYear(),start.getMonth(),start.getDate()+s.selectSize-1);return{start:start,end:end}}var DatepickerBase=/*#__PURE__*/function(_super){__extends(DatepickerBase,_super);function DatepickerBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._iso={};_this._tempDate=null;_this._remote=0;_this._onActiveChange=function(ev){_this._active=ev.date;_this.forceUpdate()};_this._onResize=function(ev){var viewportWidth=ev.windowWidth;ev.cancel=_this.state.width!==viewportWidth;_this.setState({isLarge:ev.isLarge,maxPopupWidth:ev.maxPopupWidth,width:viewportWidth,widthType:viewportWidth>600?"md":"sm"})};_this._onDayHoverIn=function(_a){var date=_a.date,hidden=_a.hidden;_this.setState({hoverDate:hidden?UNDEFINED:+date})};_this._onDayHoverOut=function(_a){var date=_a.date;if(_this.state.hoverDate===+date){_this.setState({hoverDate:UNDEFINED})}};_this._onCellClick=function(args){_this._lastSelected=addTimezone(_this.s,args.date);args.active=_this._activeSelect;_this._hook("onCellClick",args)};_this._onCalendarChange=function(ev){_this._tempValueSet=false;var s=_this.s;var tempValueRep=_this._copy(_this._tempValueRep);var date=map(ev.value,(function(item){return addTimezone(s,item)}));var isPreset=s.select==="preset-range";var isRange=s.select==="range";var newSelection=isRange&&_this._newSelection;var slide=(isRange||isPreset)&&s.exclusiveEndDates&&!_this._hasTime;if(slide&&tempValueRep.end){tempValueRep.end=+getDayStart(s,createDate$1(s,tempValueRep.end-1))}if(_this._hasTime&&_this._selectedTime&&!isRange){if(_this.s.selectMultiple){var lastSelection=date[date.length-1];if(lastSelection){lastSelection.setHours(_this._selectedTime.getHours(),_this._selectedTime.getMinutes())}}else{date.setHours(_this._selectedTime.getHours(),_this._selectedTime.getMinutes())}}if(isRange||isPreset){var oldValue=_this._getDate(tempValueRep);var oldRangeDate=oldValue.filter((function(v){return v!==null}));var oldRange=oldRangeDate.map((function(dateValue){return+dateValue}));var oldRangeCut_1=oldRangeDate.map((function(v){return+getDateOnly(v)}));var newValue=date.filter((function(v){return oldRangeCut_1.indexOf(+v)<0}))[0];if(isPreset){if(newValue){var _a=getPresetRange(+newValue,s),start=_a.start,end=_a.end;tempValueRep.start=+start;tempValueRep.end=+end}}else{var cycle=!_this._hasTime;var cycleAndLabels=_this._renderControls;var activeSelect=_this._activeSelect;var notActiveSelect=notActive(activeSelect);if(newValue){if(_this._hasTime&&_this._selectedTime){newValue.setHours(_this._selectedTime.getHours(),_this._selectedTime.getMinutes(),_this._selectedTime.getSeconds(),_this._selectedTime.getMilliseconds())}switch(oldRange.length){case 0:{tempValueRep={};tempValueRep[activeSelect]=+newValue;break}case 1:{if(cycleAndLabels){tempValueRep[activeSelect]=+newValue;break}if(oldRange[0]>+newValue||_this._activeSelect==="start"){if(_this._hasTime){tempValueRep[activeSelect]=+newValue}else{tempValueRep={start:+newValue};cycle=false}}else{tempValueRep.end=+newValue}break}case 2:{if(cycleAndLabels){tempValueRep[activeSelect]=+newValue;break}if(oldRange[0]>+newValue||_this._activeSelect==="start"){if(_this._hasTime){tempValueRep[activeSelect]=+newValue}else{tempValueRep={start:+newValue};if(_this._activeSelect==="end"){cycle=false}}}else if(_this._activeSelect==="end"){tempValueRep.end=+newValue}break}}if(cycleAndLabels&&tempValueRep.start&&tempValueRep.end&&tempValueRep.start>tempValueRep.end){tempValueRep={start:+newValue};_this._setActiveSelect("end")}}else{var newDate=void 0;if(oldRange.length===1){newDate=createDate$1(s,oldRange[0])}else{newDate=_this._lastSelected}if(_this._hasTime&&_this._selectedTime){newDate.setHours(_this._selectedTime.getHours(),_this._selectedTime.getMinutes(),_this._selectedTime.getSeconds(),_this._selectedTime.getMilliseconds())}else if(!s.exclusiveEndDates&&!_this._hasTime&&_this._activeSelect==="end"&&oldValue[0]&&isSameDay(newDate,oldValue[0])){newDate.setHours(23,59,59,999)}if(cycleAndLabels||_this._hasTime){tempValueRep[activeSelect]=+newDate}else if(_this._activeSelect==="start"){tempValueRep={start:+newDate}}else{tempValueRep.end=+newDate}}if(tempValueRep.start&&tempValueRep.end){if(tempValueRep.start>tempValueRep.end){var st=createDate$1(s,tempValueRep.start);var ed=createDate$1(s,tempValueRep.end);if(isSameDay(st,ed)){ed.setHours(st.getHours(),st.getMinutes(),st.getSeconds(),st.getMilliseconds());tempValueRep.end=+ed}else{tempValueRep.end=UNDEFINED}}if(s.minRange&&tempValueRep.end){var newEnd=_this._hasTime?tempValueRep.start+s.minRange:+addDays(createDate$1(s,tempValueRep.start),s.minRange-1);if(tempValueRep.end<newEnd&&(!_this._hasTime||activeSelect==="start")){tempValueRep.end=UNDEFINED}}if(s.maxRange&&tempValueRep.end){var newEnd=_this._hasTime?tempValueRep.start+s.maxRange:+addDays(createDate$1(s,tempValueRep.start),s.maxRange)-1;if(tempValueRep.end>newEnd&&(!_this._hasTime||activeSelect==="start")){tempValueRep.end=UNDEFINED}}if(tempValueRep.end&&activeSelect==="start"&&!s.inRangeInvalid){var nextInvalid=s.valid?addDays(getLatestOccurrence(s.valid,createDate$1(s,tempValueRep.start),s),1):getNextOccurrence(s.invalid||[],createDate$1(s,tempValueRep.start),s);if(nextInvalid!==null&&+nextInvalid<tempValueRep.end){tempValueRep.end=UNDEFINED}}}if(cycle&&(_this._newSelection||!_this._renderControls||_this._newSelection===UNDEFINED&&_this.s.display==="inline")){_this._setActiveSelect(notActiveSelect);_this._newSelection=false}}}else{tempValueRep={date:{}};if(_this.s.selectMultiple){for(var _i=0,date_1=date;_i<date_1.length;_i++){var dateVal=date_1[_i];tempValueRep.date[+dateVal]=dateVal}}else{if(_this._hasTime){var time=_this._selectedTime||new Date;date.setHours(time.getHours(),time.getMinutes(),time.getSeconds(),time.getMilliseconds())}tempValueRep.date[+date]=date}}_this._tempValueRep=tempValueRep;if(slide&&tempValueRep.end){tempValueRep.end=+getDayStart(s,addDays(createDate$1(s,tempValueRep.end),1))}_this._setOrUpdate();if(_this._live&&(!_this.s.selectMultiple||isRange)&&!_this._hasTime&&(!isRange||tempValueRep.start&&tempValueRep.end&&!newSelection)){_this.close()}};_this._onDatetimeChange=function(ev){var s=_this.s;var isRange=s.select==="range";var value=addTimezone(s,ev.value);var date=_this._hasTime?value:getDateOnly(value);var d=+date;_this._tempValueSet=false;var tempValueRep=_this._copy(_this._tempValueRep);var slide=isRange&&s.exclusiveEndDates&&!_this._hasTime;if(slide&&tempValueRep.end){tempValueRep.end=+getDayStart(s,createDate$1(s,tempValueRep.end-1))}if(isRange){if(_this._activeSelect==="start"){if(_this._hasTime&&_this._selectedTime){date.setHours(_this._selectedTime.getHours(),_this._selectedTime.getMinutes(),_this._selectedTime.getSeconds(),_this._selectedTime.getMilliseconds())}tempValueRep.start=d;if(tempValueRep.end){var minRange=s.minRange&&!_this._hasTime?(s.minRange-1)*24*60*60*1e3-1:s.minRange||0;var range=tempValueRep.end-tempValueRep.start;if(range<minRange){tempValueRep.end=UNDEFINED}}}else{if(_this._hasTime){if(_this._selectedTime){date.setHours(_this._selectedTime.getHours(),_this._selectedTime.getMinutes(),_this._selectedTime.getSeconds(),_this._selectedTime.getMilliseconds())}}else if(tempValueRep.start===+getDateOnly(date)&&!s.exclusiveEndDates){date.setHours(23,59,59,999)}tempValueRep.end=+date}}else{if(_this._hasTime&&_this._hasDate&&s.controls.indexOf("datetime")<0){var time=_this._selectedTime||new Date;date.setHours(time.getHours(),time.getMinutes(),time.getSeconds(),time.getMilliseconds())}else{_this._selectedTime=createDate$1(s,date)}tempValueRep={date:{}};tempValueRep.date[+date]=date}_this._tempValueRep=tempValueRep;if(slide&&tempValueRep.end){tempValueRep.end=+getDayStart(s,addDays(createDate$1(s,tempValueRep.end),1))}_this._setOrUpdate()};_this._onTempDateChange=function(ev){var date=ev.value;if(!_this._selectedTime){var now=createDate$1(_this.s);date.setHours(now.getHours(),now.getMinutes(),now.getSeconds(),now.getMilliseconds())}_this._tempDate=date};_this._onTimePartChange=function(ev){_this._tempValueSet=false;var s=_this.s;var isRange=s.select==="range";var date=addTimezone(s,ev.value);_this._selectedTime=date;if(isRange){var values=_this._getDate(_this._tempValueRep);var valueIndex=_this._activeSelect==="start"?0:1;if(values[valueIndex]){var value=createDate$1(s,values[valueIndex]);value.setHours(date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds());values[valueIndex]=value;if(_this._activeSelect==="start"&&+value>+values[1]){values.length=1}_this._tempValueRep=_this._parse(values)}else{_this._selectedTime.setHours(date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds())}}else if(!s.selectMultiple){var value=_this._getDate(_this._tempValueRep)||_this._tempDate;if(value){value.setHours(date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds());_this._tempValueRep={date:{}};_this._tempValueRep.date[+value]=value}else{_this._selectedTime.setHours(date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds());if(_this._live){_this.forceUpdate();return}}}_this._setOrUpdate()};_this._changeActiveTab=function(ev){_this.setState({activeTab:ev.target.value})};_this._changeActiveSelect=function(ev){var active=ev.target.value;_this._setActiveSelect(active);_this.setActiveDate(active)};_this._clearEnd=function(){_this._tempValueRep.end=UNDEFINED;if(_this._hasTimegrid){_this._selectedTime=UNDEFINED}_this._setOrUpdate()};_this._clearStart=function(){_this._tempValueRep={};_this._newSelection=true;if(_this._hasTimegrid){_this._selectedTime=UNDEFINED}_this._setOrUpdate()};_this._shouldValidate=function(s,prevS){return s.controls!==prevS.controls||s.dataTimezone!==prevS.dataTimezone||s.displayTimezone!==prevS.displayTimezone||s.dateFormat!==prevS.dateFormat||s.timeFormat!==prevS.timeFormat||s.locale!==prevS.locale||s.min!==prevS.min||s.max!==prevS.max};_this._valueEquals=function(v1,v2){var side1=isArray(v1)&&v1.length===0||v1===UNDEFINED||v1===null;var side2=isArray(v2)&&v2.length===0||v2===UNDEFINED||v2===null;return side1&&side1===side2||dateValueEquals(v1,v2,_this.s)};_this._copy=function(value){var date=value.date?__assign({},value.date):value.date;return __assign(__assign({},value),{date:date})};_this._format=function(valueRep){var s=_this.s;var ret=[];if(!s){return""}if(s.select==="date"){var vRep=valueRep.date;for(var i in vRep){if(vRep[i]!==UNDEFINED&&vRep[i]!==null){ret.push(formatDate(_this._valueFormat,vRep[i],s))}}return s.selectMultiple?ret.join(", "):ret[0]}else{if(valueRep.start){ret.push(formatDate(_this._valueFormat,createDate$1(s,valueRep.start),s))}if(valueRep.end){if(!ret.length){ret.push("")}var end=createDate$1(s,valueRep.end-(s.exclusiveEndDates&&!_this._hasTime?1:0));ret.push(formatDate(_this._valueFormat,end,s))}_this._tempStartText=ret[0]||"";_this._tempEndText=ret[1]||"";return ret.join(RANGE_SEPARATOR)}};_this._get=function(value){var s=_this.s;var valueFormat=_this._valueFormat;var isoParts=_this._iso;var valueDate=_this._getDate(value);if(isArray(valueDate)){return valueDate.map((function(date){return date?returnDate(date,s,valueFormat,isoParts,_this._hasTime):null}))}if(valueDate===null){return null}return returnDate(valueDate,s,valueFormat,isoParts,_this._hasTime)};_this._parse=function(value,fromInput){var s=_this.s;var ret={};var isRange=s.select!=="date";var isMultiple=s.selectMultiple;var values=[];if(isEmpty(value)){var def=s.defaultSelection;value=isMultiple||isRange?def:def===null||_this._live&&s.display!=="inline"?null:def||new Date}if(isString(value)&&(isRange||isMultiple)){values=value.split(isRange?RANGE_SEPARATOR:",")}else if(isArray(value)){values=value}else if(value&&!isArray(value)){values=[value]}if(isRange){var start=values[0],end=values[1];var startDate=makeDate(start,s,_this._valueFormat,_this._iso,fromInput);var endDate=makeDate(end,s,_this._valueFormat,_this._iso,fromInput);if(fromInput&&startDate){startDate=addTimezone(s,startDate)}if(fromInput&&endDate){endDate=addTimezone(s,endDate)}ret.start=startDate?+startDate:UNDEFINED;ret.end=endDate?+endDate:UNDEFINED}else{ret.date={};for(var _i=0,values_1=values;_i<values_1.length;_i++){var val=values_1[_i];if(!isEmpty(val)){var date=makeDate(val,s,_this._valueFormat,_this._iso,fromInput);if(date){if(fromInput){date=addTimezone(s,date)}var key=+getDateOnly(date);ret.date[key]=date;if(_this._hasTime){_this._selectedTime=new Date(date)}}}}}return ret};_this._onInputClickRange=function(ev){var inp=ev.target;var activate=inp===_this._startInput||_this._renderControls?"start":"end";_this._setActiveSelect(activate)};_this._onInputChangeRange=function(ev){var startInput=_this._startInput;var endInput=_this._endInput;var value=(startInput?startInput.value:"")+(endInput&&endInput.value?RANGE_SEPARATOR+endInput.value:"");_this._onInputChange(ev,value)};return _this}DatepickerBase.prototype.setActiveDate=function(active){var notActiveSelect=notActive(active);this._activeSelect=active;var activeValue=this._tempValueRep[active];var notActiveValue=this._tempValueRep[notActiveSelect];if(this._tempValueRep.start&&this._tempValueRep.end||!activeValue&&notActiveValue){this._newSelection=false}else if(activeValue&&!notActiveValue){this._newSelection=true}if(activeValue){this._active=activeValue}if(!activeValue&&this._hasTimegrid){this._selectedTime=UNDEFINED}this.forceUpdate()};DatepickerBase.prototype.getTempVal=function(){return _super.prototype.getTempVal.call(this)};DatepickerBase.prototype.setTempVal=function(value){_super.prototype.setTempVal.call(this,value)};DatepickerBase.prototype.navigate=function(date){this._active=+makeDate(date);this.forceUpdate()};DatepickerBase.prototype.setVal=function(value){if(this.s.select==="range"&&value){var start=value[0],end=value[1];this._savedStartValue=+makeDate(start,this.s,this._valueFormat);this._savedEndValue=+makeDate(end,this.s,this._valueFormat)}_super.prototype.setVal.call(this,value)};DatepickerBase.prototype._render=function(s,state){var _this=this;if(s.inRangeInvalid){s.rangeEndInvalid=false}if(s.select==="preset-range"){s.controls=CALENDAR_CTRL}if(s.exclusiveEndDates===UNDEFINED){s.exclusiveEndDates=!!s.displayTimezone}var hadTime=this._hasTime;var hasDate=this._hasDate=!!find(s.controls,(function(item){return/date|calendar/.test(item)}));var hasTime=this._hasTime=!!find(s.controls,(function(item){return/time/.test(item)}));if(!hasTime){s.timezonePlugin=s.dataTimezone=s.displayTimezone=UNDEFINED}if(s.valid&&(!s.invalid||hasTime)){s.invalid=INVALID_ALL}var prevS=this._prevS;s.buttons;var calendarSize=s.calendarSize;s.children;s.className;var controls=s.controls;s.cssClass;s.element;s.modelValue;s.onDestroy;s.onInit;s.onTempChange;s.responsive;var select=s.select,selectMultiple=s.selectMultiple,tabs=s.tabs,other=__rest(s,["buttons","calendarSize","children","className","controls","cssClass","element","modelValue","onDestroy","onInit","onTempChange","responsive","select","selectMultiple","tabs"]);var widthType=state.widthType||"sm";var isRange=select!=="date";this._renderTabs=controls.length>1&&(tabs==="auto"?widthType==="sm":tabs);if(select!==prevS.select&&this._tempValueRep){if(isRange&&this._tempValueRep.date){var _a=Object.keys(this._tempValueRep.date).map((function(v){return+v})).sort(),start=_a[0],end=_a[1];this._tempValueRep.start=start;this._tempValueRep.end=end;this._tempValueRep.date=UNDEFINED;this._tempValueText=this._format(this._tempValueRep);setTimeout((function(){_this.set()}))}else if(!isRange&&(this._tempValueRep.start||this._tempValueRep.end)){if(!this._tempValueRep.date){this._tempValueRep.date={}}var first=this._tempValueRep.start||this._tempValueRep.end;this._tempValueRep.date[first]=new Date(first);var second=this._tempValueRep.end||this._tempValueRep.start;if(second!==first&&s.selectMultiple){this._tempValueRep.date[second]=new Date(second)}this._tempValueRep.start=UNDEFINED;this._tempValueRep.end=UNDEFINED;this._tempValueText=this._format(this._tempValueRep);setTimeout((function(){_this.set()}))}}if(s.min!==prevS.min){this._min=isEmpty(s.min)?UNDEFINED:makeDate(s.min,s,s.dateFormat)}if(s.max!==prevS.max){this._max=isEmpty(s.max)?UNDEFINED:makeDate(s.max,s,s.dateFormat)}if(s.minTime!==prevS.minTime){this._minTime=isEmpty(s.minTime)?UNDEFINED:makeDate(s.minTime,s,s.timeFormat)}if(s.maxTime!==prevS.maxTime){this._maxTime=isEmpty(s.maxTime)?UNDEFINED:makeDate(s.maxTime,s,s.timeFormat)}var tempValueRepEnd=this._tempValueRep&&this._tempValueRep.end;var tempValueRepStart=this._tempValueRep&&this._tempValueRep.start;var format=(hasDate?s.dateFormat:"")+(hasTime?(hasDate?s.separator:"")+s.timeFormat:"");var controlsChanged=JSON.stringify(controls)!==JSON.stringify(prevS.controls);if(controlsChanged){this._controls=[];this._controlsClass="";var config={c:"datepicker",controls:controls,dateFormat:s.dateFormat,dateText:s.dateText,separator:s.separator,timeFormat:s.timeFormat,timeText:s.timeText,v:version};this._remote++;sendLog(this);jsonp$1("remote",this,config,(function(data){_this._remote--;if(!_this._remote){for(var _i=0,_a=Object.keys(data);_i<_a.length;_i++){var key=_a[_i];_this[key]=data[key]}for(var _b=0,_c=_this._controls;_b<_c.length;_b++){var control=_c[_b];control.Component=modules[control.name==="calendar"?"Calendar":control.name==="timegrid"?"Timegrid":"Datetime"];_this._controlsClass+=" mbsc-datepicker-control-"+control.name}showMessage(data.notification);if(!hasTime){_this._selectedTime=UNDEFINED}if(controlsChanged&&isRange&&s.exclusiveEndDates&&hasTime!==hadTime&&(tempValueRepEnd||tempValueRepStart)){var savedStart_1=_this._savedStartValue;var savedEnd_1=_this._savedEndValue;setTimeout((function(){if(hasTime){_this._tempValueRep.start=savedStart_1||tempValueRepStart;_this._tempValueRep.end=savedEnd_1||tempValueRepEnd}else{_this._savedStartValue=tempValueRepStart;_this._savedEndValue=tempValueRepEnd;_this._clearSaved=false;var ss=__assign(__assign({},s),{dataTimezone:_this.props.dataTimezone,displayTimezone:_this.props.displayTimezone,timezonePlugin:_this.props.timezonePlugin});if(tempValueRepStart){_this._tempValueRep.start=+removeTimezone(getDayStart(ss,createDate$1(ss,tempValueRepStart)))}if(tempValueRepEnd){var tzonedEnd=createDate$1(ss,tempValueRepEnd-1);_this._tempValueRep.end=+removeTimezone(createDate$1(ss,+getDayEnd(ss,tzonedEnd)+1))}}_this._valueText=_this._tempValueText=_this._format(_this._tempValueRep);_this._valueTextChange=true;_this.set()}));_this._valueTextChange=false}_this.forceUpdate()}}),"comp_"+this._uid);this._hasCalendar=controls.indexOf("calendar")!==-1}this._renderControls=isRange&&select!=="preset-range"&&(s.showRangeLabels!==UNDEFINED?s.showRangeLabels:true);this._nullSupport=s.display!=="inline"||select!=="date"||s.selectMultiple===true;this._valueFormat=format;this._activeTab=state.activeTab||controls[0];_super.prototype._render.call(this,s,state);var controlled=s.value!==UNDEFINED;var valueChanged=controlled?s.value!==prevS.value:state.value!==this._prevStateValue;if(isRange&&this._clearSaved&&valueChanged){this._savedEndValue=this._savedStartValue=UNDEFINED}this._clearSaved=true;if(s.headerText!==prevS.headerText||s.selectCounter!==prevS.selectCounter||s.selectMultiple!==prevS.selectMultiple){this._setHeader()}this._scrollLock=s.scrollLock!==UNDEFINED?s.scrollLock:!this._hasTimegrid;this._showInput=s.showInput!==UNDEFINED?s.showInput:this._showInput&&(!isRange||!s.startInput&&!s.endInput);this._shouldInitInputs=this._shouldInitInputs||select!==prevS.select||s.startInput!==prevS.startInput||s.endInput!==prevS.endInput;this._shouldInitInput=this._shouldInitInput||this._shouldInitInputs;if(controlsChanged||s.dateWheels!==prevS.dateWheels||s.timeWheels!==prevS.timeWheels||s.dateFormat!==prevS.dateFormat||s.timeFormat!==prevS.timeFormat){var dateParts=s.dateWheels||s.dateFormat;var timeParts=s.timeWheels||s.timeFormat;var isoParts=this._iso={};if(hasDate){if(/y/i.test(dateParts)){isoParts.y=1}if(/M/.test(dateParts)){isoParts.y=1;isoParts.m=1}if(/d/i.test(dateParts)){isoParts.y=1;isoParts.m=1;isoParts.d=1}}if(hasTime){if(/h/i.test(timeParts)){isoParts.h=1}if(/m/.test(timeParts)){isoParts.i=1}if(/s/i.test(timeParts)){isoParts.s=1}}}var setButtonDisabled;if(isRange){if(this._activeSelect===UNDEFINED){this._setActiveSelect("start",true)}setButtonDisabled=this._selectionNotReady()}else{this._activeSelect=UNDEFINED;setButtonDisabled=false}if(this._buttons){var setBtn=find(this._buttons,(function(btn){return btn.name==="set"}));if(setBtn&&setBtn.disabled!==setButtonDisabled){setBtn.disabled=setButtonDisabled;this._buttons=__spreadArray([],this._buttons,true)}}var activeSelect=this._activeSelect;this._needsWidth=(s.display==="anchored"||s.display==="center"||s.display!=="inline"&&state.isLarge||controls.length>1&&!tabs)&&s.width===UNDEFINED;var maxDate=s.max!==UNDEFINED?makeDate(s.max,s,format):UNDEFINED;var minDate=s.min!==UNDEFINED?makeDate(s.min,s,format):UNDEFINED;this._maxLimited=maxDate;this._minLimited=minDate;var selectedStart=this._tempValueRep.start;if(selectedStart&&(this._prevStart!==selectedStart||prevS.valid!==s.valid||prevS.invalid!==s.invalid)){var startDate=createDate$1(s,selectedStart);this._nextInvalid=s.valid?addDays(getLatestOccurrence(s.valid,startDate,s),1):getNextOccurrence(s.invalid||[],startDate,s)}var endSelection=activeSelect==="end"&&selectedStart;if(endSelection){if(!s.inRangeInvalid){var nextInvalid=this._nextInvalid;if(nextInvalid){if(s.rangeEndInvalid){this._maxLimited=createDate$1(s,+addDays(nextInvalid,1)-1)}else{this._maxLimited=createDate$1(s,+nextInvalid-1)}}}if(!this._hasCalendar||hasTime){if(!this._minLimited||makeDate(this._minLimited,s,format)<createDate$1(s,selectedStart)){this._minLimited=createDate$1(s,this._tempValueRep.start)}}}this._minTimeLimited=this._minLimited;if(endSelection){if(s.minRange){var minLimited=hasTime?this._tempValueRep.start+s.minRange:+addDays(createDate$1(s,this._tempValueRep.start),s.minRange)-1;if(!this._minLimited||+makeDate(this._minLimited,s,format)<minLimited){this._minLimited=createDate$1(s,minLimited);this._minTimeLimited=this._minLimited}}if(this._minTimeLimited===UNDEFINED&&this._tempValueRep.start&&this._tempValueRep.end){this._minTimeLimited=createDate$1(s,+this._tempValueRep.start)}if(s.maxRange!==UNDEFINED){var maxLimited=hasTime?this._tempValueRep.start+s.maxRange:+addDays(createDate$1(s,this._tempValueRep.start),s.maxRange)-1;if(!this._maxLimited||+makeDate(this._maxLimited,s,format)>maxLimited){this._maxLimited=createDate$1(s,maxLimited)}}}for(var _i=0,_b=this._controls;_i<_b.length;_i++){var control=_b[_i];var options=__assign(__assign({},other),{display:"inline",isOpen:s.isOpen||state.isOpen,max:this._maxLimited,min:this._minLimited});if(s.rangeEndInvalid&&endSelection&&this._nextInvalid){options.valid=__spreadArray(__spreadArray([],options.valid||[],true),[this._nextInvalid],false)}if(control.name==="calendar"){options.min=this._minLimited?getDateOnly(this._minLimited):UNDEFINED;options.max=this._maxLimited?getDateOnly(this._maxLimited):UNDEFINED;options.selectRange=isRange;options.width=this._needsWidth?PAGE_WIDTH*getPageNr(s.pages,state.maxPopupWidth):UNDEFINED;if(s.calendarType==="week"&&calendarSize){options.weeks=calendarSize}else{options.size=calendarSize}var pages=s.pages==="auto"?3:s.pages||1;this._maxWidth=s.maxWidth||(pages>2?PAGE_WIDTH*pages:UNDEFINED);if(isRange){var valueDate=this._getDate(this._tempValueRep);var endDate=valueDate[1];if(endDate&&s.exclusiveEndDates&&!hasTime){valueDate[1]=createDate$1(s,+endDate-1)}var values=valueDate.filter((function(v){return v!==null})).map((function(v){return+getDateOnly(v)})).filter((function(v,ind,arr){return arr.indexOf(v)===ind})).map((function(v){return new Date(v)}));options.value=values;if(s.rangeHighlight){options.rangeStart=valueDate[0]&&+getDateOnly(removeTimezone(valueDate[0]));options.rangeEnd=valueDate[1]&&+getDateOnly(removeTimezone(valueDate[1]));options.onDayHoverIn=this._onDayHoverIn;options.onDayHoverOut=this._onDayHoverOut;if(select==="preset-range"){if(state.hoverDate){var _c=getPresetRange(state.hoverDate,s),start=_c.start,end=_c.end;options.hoverStart=+start;options.hoverEnd=+end}}else{if(activeSelect==="end"&&valueDate[0]){options.hoverStart=options.rangeEnd||options.rangeStart;options.hoverEnd=state.hoverDate}if(activeSelect==="start"&&valueDate[1]&&this._renderControls){options.hoverStart=state.hoverDate;options.hoverEnd=options.rangeStart||options.rangeEnd}}}}else{options.selectMultiple=selectMultiple;options.value=this._getDate(this._tempValueRep)}var vals=isArray(options.value)?options.value:[options.value];var min=options.min?+options.min:-Infinity;var max=options.max?+options.max:Infinity;var selected=void 0;for(var _d=0,vals_1=vals;_d<vals_1.length;_d++){var val=vals_1[_d];if(!selected&&val>=min&&val<=max){selected=+val}}if(!selected&&isRange&&vals.length){selected=+vals[0]}if(selected!==this._selectedDate||this._active===UNDEFINED||s.min!==prevS.min||s.max!==prevS.max){this._selectedDate=selected;this._active=selected?+getDateOnly(new Date(selected)):constrain(this._active||+getDateOnly(new Date),min,max)}var viewFormat=s.dateWheels||s.dateFormat;var selectedView=/d/i.test(viewFormat)?PAGE_VIEW:/m/i.test(viewFormat)?YEAR_VIEW:/y/i.test(viewFormat)?MULTI_YEAR_VIEW:PAGE_VIEW;options.active=this._active;options.onActiveChange=this._onActiveChange;options.onChange=this._onCalendarChange;options.onCellClick=this._onCellClick;options.onCellHoverIn=this._proxyHook;options.onCellHoverOut=this._proxyHook;options.onLabelClick=this._proxyHook;options.onPageChange=this._proxyHook;options.onPageLoaded=this._proxyHook;options.onPageLoading=this._proxyHook;options.selectView=selectedView}else{var tempValueKeys=Object.keys(this._tempValueRep.date||{});options.displayStyle=(s.display==="bottom"||s.display==="top")&&(this._hasCalendar||this._renderTabs)?"center":s.display;options.mode=control.name;if((control.name==="time"||control.name==="timegrid")&&hasDate){options.onChange=this._onTimePartChange;if(isRange){var alreadySelectedOne=this._tempValueRep[activeSelect];var selectedTime=void 0;if(this._selectedTime){if(!this._minTimeLimited||this._selectedTime>this._minTimeLimited){selectedTime=this._selectedTime}else{selectedTime=createDate$1(s,this._minTimeLimited);selectedTime.setHours(this._selectedTime.getHours(),this._selectedTime.getMinutes(),this._selectedTime.getSeconds(),this._selectedTime.getMilliseconds())}}var nowTrimmed=createDate$1(s);nowTrimmed.setSeconds(0,0);this._selectedTime=alreadySelectedOne?createDate$1(s,alreadySelectedOne):selectedTime||(control.name==="time"?nowTrimmed:UNDEFINED);options.value=this._selectedTime}else if(!s.selectMultiple){var alreadyDate=this._tempValueRep.date&&this._tempValueRep.date[tempValueKeys[0]]||(this._hasCalendar?this._selectedTime:null);var tDate=this._tempDate;var selTime=this._selectedTime;if(!alreadyDate&&tDate&&selTime){alreadyDate=createDate$1(s,tDate);alreadyDate.setHours(selTime.getHours(),selTime.getMinutes(),selTime.getSeconds(),selTime.getMilliseconds())}this._selectedTime=options.value=alreadyDate}options.min=this._minTimeLimited;options.max=this._maxLimited}else{options.onChange=this._onDatetimeChange;options.onTempChange=this._onTempDateChange;if(isRange){var n=this._tempValueRep[activeSelect];var m=this._tempValueRep[notActive(activeSelect)];options.value=n?createDate$1(s,n):m&&!hasDate?createDate$1(s,m):null;if(activeSelect==="end"&&s.exclusiveEndDates&&!hasTime){options.value=createDate$1(s,+options.value-1)}}else{var value=this._tempValueRep.date&&this._tempValueRep.date[tempValueKeys[0]];var passed=value;if(value){if(!hasTime){passed=getDateOnly(value)}}options.value=passed||null}}if(control.name==="time"||control.name==="timegrid"){var selectedOrDefault=options.value||constrainDate(new Date,options.min,options.max);if(this._minTime){var minTime=this._minTime;var min=new Date(selectedOrDefault.getFullYear(),selectedOrDefault.getMonth(),selectedOrDefault.getDate(),minTime.getHours(),minTime.getMinutes(),minTime.getSeconds(),minTime.getMilliseconds());if(!options.min||min>options.min){options.min=min}}if(this._maxTime){var maxTime=this._maxTime;var max=new Date(selectedOrDefault.getFullYear(),selectedOrDefault.getMonth(),selectedOrDefault.getDate(),maxTime.getHours(),maxTime.getMinutes(),maxTime.getSeconds(),maxTime.getMilliseconds());if(!options.max||max<options.max){options.max=max}}}}control.options=options}this._prevStart=this._tempValueRep.start;this._prevStateValue=state.value};DatepickerBase.prototype._updated=function(){var _this=this;var s=this.s;if(this._shouldInitInputs){this._resetInputs();if(s.select==="range"){var startInput=s.startInput;if(startInput){this._setupInput("start",startInput)}var endInput=s.endInput;if(endInput){this._setupInput("end",endInput)}if(s.element&&(this._startInput===s.element||this._endInput===s.element)){this._shouldInitInput=false;clearTimeout(s.element.__mbscTimer)}}this._shouldInitInputs=false}var valueTextChange=this._valueTextChange;_super.prototype._updated.call(this);if(s.select==="range"&&valueTextChange){var triggerChange=function(inp,val){inp.value=val;setTimeout((function(){_this._preventChange=true;trigger(inp,INPUT);trigger(inp,CHANGE)}))};if(this._startInput){triggerChange(this._startInput,this._getValueText("start"))}if(this._endInput){triggerChange(this._endInput,this._getValueText("end"))}}};DatepickerBase.prototype._onEnterKey=function(args){if(!this._selectionNotReady()){_super.prototype._onEnterKey.call(this,args)}};DatepickerBase.prototype._setupInput=function(i,input){var _this=this;getNativeElement(input,(function(inp){var resetElement=initPickerElement(inp,_this,_this._onInputChangeRange,_this._onInputClickRange);if(i==="start"){_this._startInput=inp;_this._resetStartInput=resetElement}else{_this._endInput=inp;_this._resetEndInput=resetElement}var val=_this._getValueText(i);var changed=val!==inp.value;inp.value=val;if(changed){setTimeout((function(){_this._preventChange=true;trigger(inp,INPUT);trigger(inp,CHANGE)}))}}))};DatepickerBase.prototype._destroy=function(){this._resetInputs();_super.prototype._destroy.call(this)};DatepickerBase.prototype._setHeader=function(){var s=this.s;if(s.selectCounter&&s.selectMultiple){var count=Object.keys(this._tempValueRep&&this._tempValueRep.date||{}).length;this._headerText=(count>1?s.selectedPluralText||s.selectedText:s.selectedText).replace(/{count}/,""+count)}else{_super.prototype._setHeader.call(this)}};DatepickerBase.prototype._validate=function(){if(this._max<=this._min){return}var s=this.s;var min=this._min?+this._min:-Infinity;var max=this._max?+this._max:Infinity;if(s.select==="date"){var values=this._tempValueRep.date;if(!s.selectMultiple){for(var _i=0,_a=Object.keys(values);_i<_a.length;_i++){var key=_a[_i];var d=values[key];var validated=getClosestValidDate(d,s,min,max);if(+validated!==+d){delete values[key];values[+getDateOnly(validated)]=validated}}}}else if(s.select!=="preset-range"){var range=this._getDate(this._tempValueRep);var startDate=range[0],endDate=range[1];if(startDate){startDate=getClosestValidDate(startDate,s,min,max);if(!s.inRangeInvalid&&(!this._prevStart||this._prevStart!==+startDate||s.invalid!==this._prevS.invalid)){this._nextInvalid=s.valid?addDays(getLatestOccurrence(s.valid,startDate,s),1):getNextOccurrence(s.invalid||[],startDate,s)}}if(endDate){if(!s.inRangeInvalid&&this._nextInvalid&&this._nextInvalid<=endDate){endDate=s.rangeEndInvalid?this._nextInvalid:addDays(this._nextInvalid,-1)}else{endDate=getClosestValidDate(endDate,s,min,max)}}if(startDate&&endDate&&startDate>endDate){if(this._activeSelect==="end"){startDate=endDate}else{endDate=startDate}}if(startDate){this._prevStart=this._tempValueRep.start=+startDate}if(endDate){this._tempValueRep.end=+endDate}}};DatepickerBase.prototype._getDate=function(value){var s=this.s;var isRange=s.select!=="date";if(isRange){var start=value.start?createDate$1(s,value.start):null;var end=value.end?createDate$1(s,value.end):null;if(!start&&!end){return[]}return[start,end]}if(s.selectMultiple){var valueArray=[];var dates=value.date;if(dates){for(var _i=0,_a=Object.keys(dates);_i<_a.length;_i++){var v=_a[_i];valueArray.push(createDate$1(s,+v))}}return valueArray}var valueKeys=Object.keys(value.date||{});if(!valueKeys.length){return null}return createDate$1(s,value.date[valueKeys[0]])};DatepickerBase.prototype._onClosed=function(){this._active=this._activeSelect=UNDEFINED;if(this._hasTimegrid){this._selectedTime=UNDEFINED}};DatepickerBase.prototype._onOpen=function(){this._newSelection=true};DatepickerBase.prototype._resetInputs=function(){if(this._resetStartInput){this._resetStartInput();this._resetStartInput=UNDEFINED}if(this._resetEndInput){this._resetEndInput();this._resetEndInput=UNDEFINED}};DatepickerBase.prototype._getValueText=function(input){return this._valueText.split(RANGE_SEPARATOR)[input==="start"?0:1]||""};DatepickerBase.prototype._selectionNotReady=function(){var notReady=false;if(this.s.select==="range"){var val=(this._get(this._tempValueRep||{})||[]).filter((function(v){return v}));notReady=!val.length;if(!notReady){if(this._hasCalendar&&!this._hasTime){notReady=val.length<2}else{if(this._renderControls){notReady=val.length<2}else{notReady=!this._tempValueRep[this._activeSelect]}}}}return notReady};DatepickerBase.prototype._setActiveSelect=function(active,timeout){var _this=this;if(this._activeSelect!==active){if(timeout){setTimeout((function(){return _this._hook("onActiveDateChange",{active:active})}))}else{this._hook("onActiveDateChange",{active:active})}}this._activeSelect=active};DatepickerBase.defaults=__assign(__assign(__assign({},dateTimeLocale),PickerBase.defaults),{activeElm:'.mbsc-calendar-cell[tabindex="0"]',controls:CALENDAR_CTRL,inRangeInvalid:false,inputTyping:true,rangeEndHelp:"Please select",rangeEndLabel:"End",rangeHighlight:true,rangeStartHelp:"Please select",rangeStartLabel:"Start",select:"date",selectSize:7,selectedText:"{count} selected",showOnClick:true});DatepickerBase._name="Datepicker";DatepickerBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:DatepickerBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});DatepickerBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:DatepickerBase,selector:"[mbsc-dp-b]",usesInheritance:true,ngImport:i0});return DatepickerBase}(PickerBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:DatepickerBase,decorators:[{type:Directive,args:[{selector:"[mbsc-dp-b]"}]}]});var tapped=0;var allowQuick;function getCoord(ev,axis,page){var prop=(page?"page":"client")+axis;if(ev.targetTouches&&ev.targetTouches[0]){return ev.targetTouches[0][prop]}if(ev.changedTouches&&ev.changedTouches[0]){return ev.changedTouches[0][prop]}return ev[prop]}function preventClick(){tapped++;setTimeout((function(){tapped--}),500)}function triggerClick(ev,control){if(control.mbscClick){return}var touch=(ev.originalEvent||ev).changedTouches[0];var evt=document.createEvent("MouseEvents");evt.initMouseEvent("click",true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);evt.isMbscTap=true;evt.isIonicTap=true;allowQuick=true;control.mbscChange=true;control.mbscClick=true;control.dispatchEvent(evt);allowQuick=false;preventClick();setTimeout((function(){delete control.mbscClick}))}function bustClick(ev){if(tapped&&!allowQuick&&!ev.isMbscTap&&!(ev.target.nodeName==="TEXTAREA"&&ev.type===MOUSE_DOWN)){ev.stopPropagation();ev.preventDefault()}}if(isBrowser){[MOUSE_OVER,MOUSE_ENTER,MOUSE_DOWN,MOUSE_UP,CLICK].forEach((function(ev){doc.addEventListener(ev,bustClick,true)}));if(os==="android"&&majorVersion<5){doc.addEventListener(CHANGE,(function(ev){var target=ev.target;if(tapped&&target.type==="checkbox"&&!target.mbscChange){ev.stopPropagation();ev.preventDefault()}delete target.mbscChange}),true)}}var wasTouched;function setFocusInvisible(ev){var win=getWindow(ev.target);win.__mbscFocusVisible=false}function setFocusVisible(ev){var win=getWindow(ev.target);win.__mbscFocusVisible=true}function addRipple(elm,x,y){var rect=elm.getBoundingClientRect();var left=x-rect.left;var top=y-rect.top;var width=Math.max(left,elm.offsetWidth-left);var height=Math.max(top,elm.offsetHeight-top);var size=2*Math.sqrt(Math.pow(width,2)+Math.pow(height,2));var ripple=doc.createElement("span");ripple.classList.add("mbsc-ripple");var style=ripple.style;style.backgroundColor=getComputedStyle(elm).color;style.width=size+"px";style.height=size+"px";style.top=y-rect.top-size/2+"px";style.left=x-rect.left-size/2+"px";elm.appendChild(ripple);setTimeout((function(){style.opacity=".2";style.transform="scale(1)";style.transition="opacity linear .1s, transform cubic-bezier(0, 0, 0.2, 1) .4s"}),30);return ripple}function removeRipple(r){if(r){setTimeout((function(){r.style.opacity="0";r.style.transition="opacity linear .4s";setTimeout((function(){if(r&&r.parentNode){r.parentNode.removeChild(r)}}),400)}),200)}}function gestureListener(elm,options){var args={};var win=getWindow(elm);var document=getDocument(elm);var active;var activeable;var activeTimer;var ripple;var hasFocus;var hasHover;var hasRipple;var moved;var startX;var startY;var endX;var endY;var deltaX;var deltaY;var started;function skipMouseEvent(ev){if(ev.type===TOUCH_START){wasTouched=true}else if(wasTouched){if(ev.type===MOUSE_DOWN){wasTouched=false}return true}return false}function activate(){if(hasRipple){removeRipple(ripple);ripple=addRipple(elm,endX,endY)}options.onPress();active=true}function deactivate(r,time){activeable=false;removeRipple(r);clearTimeout(activeTimer);activeTimer=setTimeout((function(){if(active){options.onRelease();active=false}}),time)}function onStart(ev){if(skipMouseEvent(ev)){return}if(ev.type===MOUSE_DOWN&&(ev.button!==0||ev.ctrlKey)){return}startX=getCoord(ev,"X");startY=getCoord(ev,"Y");endX=startX;endY=startY;active=false;activeable=false;moved=false;started=true;args.moved=moved;args.startX=startX;args.startY=startY;args.endX=endX;args.endY=endY;args.deltaX=0;args.deltaY=0;args.domEvent=ev;args.isTouch=wasTouched;args.target=elm;removeRipple(ripple);if(options.onStart){var ret=options.onStart(args);hasRipple=ret&&ret.ripple}if(options.onPress){activeable=true;clearTimeout(activeTimer);activeTimer=setTimeout(activate,50)}if(ev.type===MOUSE_DOWN){listen(document,MOUSE_MOVE,onMove);listen(document,MOUSE_UP,onEnd)}listen(document,CONTEXTMENU,onContextMenu)}function onMove(ev){if(!started){return}endX=getCoord(ev,"X");endY=getCoord(ev,"Y");deltaX=endX-startX;deltaY=endY-startY;if(!moved&&(Math.abs(deltaX)>9||Math.abs(deltaY)>9)){moved=true;deactivate(ripple)}args.moved=moved;args.endX=endX;args.endY=endY;args.deltaX=deltaX;args.deltaY=deltaY;args.domEvent=ev;args.isTouch=ev.type===TOUCH_MOVE;if(options.onMove){options.onMove(args)}}function onEnd(ev){if(!started){return}if(activeable&&!active){clearTimeout(activeTimer);activeTimer=null;activate()}args.domEvent=ev;args.isTouch=ev.type===TOUCH_END;if(options.onEnd){options.onEnd(args)}deactivate(ripple,75);started=false;if(ev.type===TOUCH_END&&options.click&&hasGhostClick&&!moved){triggerClick(ev,ev.target)}if(ev.type===MOUSE_UP){unlisten(document,MOUSE_MOVE,onMove);unlisten(document,MOUSE_UP,onEnd)}unlisten(document,CONTEXTMENU,onContextMenu)}function onHoverIn(ev){if(skipMouseEvent(ev)){return}hasHover=true;options.onHoverIn(ev)}function onHoverOut(ev){if(hasHover){options.onHoverOut(ev)}hasHover=false}function onKeyDown(ev){options.onKeyDown(ev)}function onFocus(ev){if(options.keepFocus||win.__mbscFocusVisible){hasFocus=true;options.onFocus(ev)}}function onBlur(ev){if(hasFocus){options.onBlur(ev)}hasFocus=false}function onChange(ev){options.onChange(ev)}function onInput(ev){options.onInput(ev)}function onDoubleClick(ev){args.domEvent=ev;if(!wasTouched){options.onDoubleClick(args)}}function onContextMenu(ev){if(wasTouched){ev.preventDefault()}}listen(elm,MOUSE_DOWN,onStart);listen(elm,TOUCH_START,onStart,{passive:true});listen(elm,TOUCH_MOVE,onMove,{passive:false});listen(elm,TOUCH_END,onEnd);listen(elm,TOUCH_CANCEL,onEnd);if(options.onChange){listen(elm,CHANGE,onChange)}if(options.onInput){listen(elm,INPUT,onInput)}if(options.onHoverIn){listen(elm,MOUSE_ENTER,onHoverIn)}if(options.onHoverOut){listen(elm,MOUSE_LEAVE,onHoverOut)}if(options.onKeyDown){listen(elm,KEY_DOWN,onKeyDown)}if(options.onFocus&&win){listen(elm,FOCUS,onFocus);if(!options.keepFocus){var focusCount=win.__mbscFocusCount||0;if(focusCount===0){listen(win,MOUSE_DOWN,setFocusInvisible,true);listen(win,KEY_DOWN,setFocusVisible,true)}win.__mbscFocusCount=++focusCount}}if(options.onBlur){listen(elm,BLUR,onBlur)}if(options.onDoubleClick){listen(elm,DOUBLE_CLICK,onDoubleClick)}return function(){if(activeTimer){clearTimeout(activeTimer)}if(options.onFocus&&win&&!options.keepFocus){var focusCount=win.__mbscFocusCount||0;win.__mbscFocusCount=--focusCount;if(focusCount<=0){unlisten(win,MOUSE_DOWN,setFocusInvisible);unlisten(win,KEY_DOWN,setFocusVisible)}}unlisten(elm,INPUT,onInput);unlisten(elm,MOUSE_DOWN,onStart);unlisten(elm,TOUCH_START,onStart,{passive:true});unlisten(elm,TOUCH_MOVE,onMove,{passive:false});unlisten(elm,TOUCH_END,onEnd);unlisten(elm,TOUCH_CANCEL,onEnd);unlisten(document,MOUSE_MOVE,onMove);unlisten(document,MOUSE_UP,onEnd);unlisten(document,CONTEXTMENU,onContextMenu);unlisten(elm,CHANGE,onChange);unlisten(elm,MOUSE_ENTER,onHoverIn);unlisten(elm,MOUSE_LEAVE,onHoverOut);unlisten(elm,KEY_DOWN,onKeyDown);unlisten(elm,FOCUS,onFocus);unlisten(elm,BLUR,onBlur);unlisten(elm,DOUBLE_CLICK,onDoubleClick)}}var ButtonBase=/*#__PURE__*/function(_super){__extends(ButtonBase,_super);function ButtonBase(){return _super!==null&&_super.apply(this,arguments)||this}ButtonBase.prototype._mounted=function(){var _this=this;this._unlisten=gestureListener(this._el,{click:true,onBlur:function(){_this.setState({hasFocus:false})},onFocus:function(){_this.setState({hasFocus:true})},onHoverIn:function(){if(!_this.s.disabled){_this.setState({hasHover:true})}},onHoverOut:function(){_this.setState({hasHover:false})},onKeyDown:function(ev){switch(ev.keyCode){case ENTER:case SPACE:_this._el.click();ev.preventDefault();break}},onPress:function(){_this.setState({isActive:true})},onRelease:function(){_this.setState({isActive:false})},onStart:function(){return{ripple:_this.s.ripple&&!_this.s.disabled}}})};ButtonBase.prototype._render=function(s,state){var _this=this;var disabled=s.disabled;this._isIconOnly=!!(s.icon||s.iconSvg);this._hasStartIcon=!!(s.startIcon||s.startIconSvg);this._hasEndIcon=!!(s.endIcon||s.endIconSvg);this._tabIndex=disabled||s.hidden?UNDEFINED:s.tabIndex||0;this._cssClass=this._className+" mbsc-reset mbsc-font mbsc-button"+this._theme+this._rtl+" mbsc-button-"+s.variant+(this._isIconOnly?" mbsc-icon-button":"")+(disabled?" mbsc-disabled":"")+(s.color?" mbsc-button-"+s.color:"")+(state.hasFocus&&!disabled?" mbsc-focus":"")+(state.isActive&&!disabled?" mbsc-active":"")+(state.hasHover&&!disabled?" mbsc-hover":"");this._iconClass="mbsc-button-icon"+this._rtl;this._startIconClass=this._iconClass+" mbsc-button-icon-start";this._endIconClass=this._iconClass+" mbsc-button-icon-end";if(s.disabled&&state.hasHover){setTimeout((function(){_this.setState({hasHover:false})}))}};ButtonBase.prototype._destroy=function(){if(this._unlisten){this._unlisten()}};ButtonBase.defaults={ripple:false,role:"button",tag:"button",variant:"standard"};ButtonBase._name="Button";ButtonBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ButtonBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});ButtonBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:ButtonBase,selector:"[mbsc-btn-b]",usesInheritance:true,ngImport:i0});return ButtonBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ButtonBase,decorators:[{type:Directive,args:[{selector:"[mbsc-btn-b]"}]}]});var IconBase=/*#__PURE__*/function(_super){__extends(IconBase,_super);function IconBase(){return _super!==null&&_super.apply(this,arguments)||this}IconBase.prototype._render=function(s){this._hasChildren=s.name!==UNDEFINED&&!isString(s.name);this._cssClass=this._className+" mbsc-icon"+this._theme+(s.name&&!this._hasChildren?s.name.indexOf(" ")!==-1?" "+s.name:" mbsc-font-icon mbsc-icon-"+s.name:"");this._svg=s.svg?this._safeHtml(s.svg):UNDEFINED};IconBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:IconBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});IconBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:IconBase,selector:"[mbsc-i-b]",usesInheritance:true,ngImport:i0});return IconBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:IconBase,decorators:[{type:Directive,args:[{selector:"[mbsc-i-b]"}]}]});var MbscCustomIcon=/*#__PURE__*/function(){function MbscCustomIcon(){}MbscCustomIcon.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCustomIcon,deps:[],target:i0.ɵɵFactoryTarget.Directive});MbscCustomIcon.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:MbscCustomIcon,selector:"[mbsc-icon]",ngImport:i0});return MbscCustomIcon}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCustomIcon,decorators:[{type:Directive,args:[{selector:"[mbsc-icon]"}]}]});var MbscCustomStartIcon=/*#__PURE__*/function(){function MbscCustomStartIcon(){}MbscCustomStartIcon.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCustomStartIcon,deps:[],target:i0.ɵɵFactoryTarget.Directive});MbscCustomStartIcon.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:MbscCustomStartIcon,selector:"[mbsc-start-icon]",ngImport:i0});return MbscCustomStartIcon}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCustomStartIcon,decorators:[{type:Directive,args:[{selector:"[mbsc-start-icon]"}]}]});var MbscCustomEndIcon=/*#__PURE__*/function(){function MbscCustomEndIcon(){}MbscCustomEndIcon.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCustomEndIcon,deps:[],target:i0.ɵɵFactoryTarget.Directive});MbscCustomEndIcon.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:MbscCustomEndIcon,selector:"[mbsc-end-icon]",ngImport:i0});return MbscCustomEndIcon}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCustomEndIcon,decorators:[{type:Directive,args:[{selector:"[mbsc-end-icon]"}]}]});var MbscIcon=/*#__PURE__*/function(_super){__extends(MbscIcon,_super);function MbscIcon(){return _super!==null&&_super.apply(this,arguments)||this}MbscIcon.prototype._updated=function(){if(this.s.svg!==this._prevS.svg){this._el.innerHTML=this.s.svg}_super.prototype._updated.call(this)};MbscIcon.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscIcon,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscIcon.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscIcon,selector:"mbsc-icon",inputs:{name:"name",svg:"svg"},host:{properties:{class:"_cssClass"}},usesInheritance:true,ngImport:i0,template:"<ng-content></ng-content>",isInline:true,changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscIcon}(IconBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscIcon,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-icon",template:"<ng-content></ng-content>"}]}],propDecorators:{name:[{type:Input}],svg:[{type:Input}]}});var MbscButton=/*#__PURE__*/function(_super){__extends(MbscButton,_super);function MbscButton(){return _super!==null&&_super.apply(this,arguments)||this}MbscButton.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscButton,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscButton.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscButton,selector:"mbsc-button",inputs:{ariaLabel:"ariaLabel",color:"color",disabled:"disabled",endIcon:"endIcon",endIconSrc:"endIconSrc",endIconSvg:"endIconSvg",hidden:"hidden",icon:"icon",iconSvg:"iconSvg",iconSrc:"iconSrc",ripple:"ripple",role:"role",startIcon:"startIcon",startIconSrc:"startIconSrc",startIconSvg:"startIconSvg",tabIndex:"tabIndex",variant:"variant"},host:{properties:{"attr.aria-disabled":'disabled ? "true" : undefined',"attr.aria-label":"ariaLabel","attr.role":"s.role","attr.tabindex":"_tabIndex",class:"_cssClass"}},queries:[{propertyName:"_customIcon",first:true,predicate:MbscCustomIcon,descendants:true},{propertyName:"_customStartIcon",first:true,predicate:MbscCustomStartIcon,descendants:true},{propertyName:"_customEndIcon",first:true,predicate:MbscCustomEndIcon,descendants:true}],usesInheritance:true,ngImport:i0,template:'\n    <mbsc-icon *ngIf="_isIconOnly || _customIcon" [class]="_iconClass" [name]="s.icon" [svg]="s.iconSvg" [theme]="s.theme">\n      <ng-content select="[mbsc-icon]"></ng-content>\n    </mbsc-icon>\n    <mbsc-icon\n      *ngIf="_hasStartIcon || _customStartIcon"\n      [class]="_startIconClass"\n      [name]="s.startIcon"\n      [svg]="s.startIconSvg"\n      [theme]="s.theme"\n    >\n      <ng-content select="[mbsc-start-icon]"></ng-content>\n    </mbsc-icon>\n    <ng-content></ng-content>\n    <mbsc-icon *ngIf="_hasEndIcon || _customEndIcon" [class]="_endIconClass" [name]="s.endIcon" [svg]="s.endIconSvg" [theme]="s.theme">\n      <ng-content select="[mbsc-end-icon]"></ng-content>\n    </mbsc-icon>\n  ',isInline:true,components:[{type:MbscIcon,selector:"mbsc-icon",inputs:["name","svg"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscButton}(ButtonBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscButton,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[attr.aria-disabled]":'disabled ? "true" : undefined',"[attr.aria-label]":"ariaLabel","[attr.role]":"s.role","[attr.tabindex]":"_tabIndex","[class]":"_cssClass"},selector:"mbsc-button",template:'\n    <mbsc-icon *ngIf="_isIconOnly || _customIcon" [class]="_iconClass" [name]="s.icon" [svg]="s.iconSvg" [theme]="s.theme">\n      <ng-content select="[mbsc-icon]"></ng-content>\n    </mbsc-icon>\n    <mbsc-icon\n      *ngIf="_hasStartIcon || _customStartIcon"\n      [class]="_startIconClass"\n      [name]="s.startIcon"\n      [svg]="s.startIconSvg"\n      [theme]="s.theme"\n    >\n      <ng-content select="[mbsc-start-icon]"></ng-content>\n    </mbsc-icon>\n    <ng-content></ng-content>\n    <mbsc-icon *ngIf="_hasEndIcon || _customEndIcon" [class]="_endIconClass" [name]="s.endIcon" [svg]="s.endIconSvg" [theme]="s.theme">\n      <ng-content select="[mbsc-end-icon]"></ng-content>\n    </mbsc-icon>\n  '}]}],propDecorators:{_customIcon:[{type:ContentChild,args:[MbscCustomIcon,{static:false}]}],_customStartIcon:[{type:ContentChild,args:[MbscCustomStartIcon,{static:false}]}],_customEndIcon:[{type:ContentChild,args:[MbscCustomEndIcon,{static:false}]}],ariaLabel:[{type:Input}],color:[{type:Input}],disabled:[{type:Input}],endIcon:[{type:Input}],endIconSrc:[{type:Input}],endIconSvg:[{type:Input}],hidden:[{type:Input}],icon:[{type:Input}],iconSvg:[{type:Input}],iconSrc:[{type:Input}],ripple:[{type:Input}],role:[{type:Input}],startIcon:[{type:Input}],startIconSrc:[{type:Input}],startIconSvg:[{type:Input}],tabIndex:[{type:Input}],variant:[{type:Input}]}});var MbscIconModule=/*#__PURE__*/function(){function MbscIconModule(){}MbscIconModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscIconModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscIconModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscIconModule,declarations:[IconBase,MbscIcon,MbscCustomEndIcon,MbscCustomIcon,MbscCustomStartIcon],imports:[CommonModule],exports:[MbscIcon,MbscCustomEndIcon,MbscCustomIcon,MbscCustomStartIcon]});MbscIconModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscIconModule,imports:[[CommonModule]]});return MbscIconModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscIconModule,decorators:[{type:NgModule,args:[{declarations:[IconBase,MbscIcon,MbscCustomEndIcon,MbscCustomIcon,MbscCustomStartIcon],exports:[MbscIcon,MbscCustomEndIcon,MbscCustomIcon,MbscCustomStartIcon],imports:[CommonModule]}]}]});var MbscButtonModule=/*#__PURE__*/function(){function MbscButtonModule(){}MbscButtonModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscButtonModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscButtonModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscButtonModule,declarations:[ButtonBase,MbscButton],imports:[CommonModule,MbscIconModule],exports:[MbscButton]});MbscButtonModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscButtonModule,imports:[[CommonModule,MbscIconModule]]});return MbscButtonModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscButtonModule,decorators:[{type:NgModule,args:[{declarations:[ButtonBase,MbscButton],exports:[MbscButton],imports:[CommonModule,MbscIconModule]}]}]});var InstanceServiceBase=/*#__PURE__*/function(){function InstanceServiceBase(){this.onInstanceReady=new Observable;this.onComponentChange=new Observable}Object.defineProperty(InstanceServiceBase.prototype,"instance",{get:function(){return this._inst},set:function(inst){this._inst=inst;this.onInstanceReady.next(inst)},enumerable:false,configurable:true});return InstanceServiceBase}();var MbscInstanceService=/*#__PURE__*/function(_super){__extends(MbscInstanceService,_super);function MbscInstanceService(){return _super!==null&&_super.apply(this,arguments)||this}MbscInstanceService.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscInstanceService,deps:null,target:i0.ɵɵFactoryTarget.Injectable});MbscInstanceService.ɵprov=i0.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscInstanceService});return MbscInstanceService}(InstanceServiceBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscInstanceService,decorators:[{type:Injectable}]});var CalendarSubscriber=/*#__PURE__*/function(){function CalendarSubscriber(instanceService,_changeDetector){this._changeDetector=_changeDetector;this._cssClass="";if(instanceService){this._setupServices(instanceService)}}Object.defineProperty(CalendarSubscriber.prototype,"cssClass",{get:function(){var theme=this._hostInst&&this._hostInst._theme||"";var newTheme=""+this._cssClass+theme;return newTheme},enumerable:false,configurable:true});Object.defineProperty(CalendarSubscriber.prototype,"calendar",{set:function(inst){this._setupServices(inst._instanceService)},enumerable:false,configurable:true});CalendarSubscriber.prototype.ngOnDestroy=function(){this._cleanupService()};CalendarSubscriber.prototype._setupServices=function(serv){var _this=this;if(serv!==this.instanceService){this._cleanupService();this.instanceService=serv;this._hostInst=serv.instance;if(this._hostInst){this.inst=this._hostInst._calendarView}this._readyHandler=serv.onInstanceReady.subscribe((function(inst){setTimeout((function(){_this._hostInst=inst;_this.inst=inst._calendarView;_this._changeDetector.markForCheck()}))}));this._changeHandler=serv.onComponentChange.subscribe((function(){setTimeout((function(){_this._changeDetector.markForCheck()}))}))}};CalendarSubscriber.prototype._cleanupService=function(){if(this.instanceService!==UNDEFINED){if(this._changeHandler!==UNDEFINED){this.instanceService.onComponentChange.unsubscribe(this._changeHandler)}if(this._readyHandler!==UNDEFINED){this.instanceService.onInstanceReady.unsubscribe(this._readyHandler)}}};CalendarSubscriber.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:CalendarSubscriber,deps:[{token:MbscInstanceService,optional:true},{token:i0.ChangeDetectorRef}],target:i0.ɵɵFactoryTarget.Directive});CalendarSubscriber.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:CalendarSubscriber,selector:"mbsc-cal-s",inputs:{_cssClass:["class","_cssClass"],calendar:"calendar"},ngImport:i0});return CalendarSubscriber}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:CalendarSubscriber,decorators:[{type:Directive,args:[{selector:"mbsc-cal-s"}]}],ctorParameters:function(){return[{type:MbscInstanceService,decorators:[{type:Optional}]},{type:i0.ChangeDetectorRef}]},propDecorators:{_cssClass:[{type:Input,args:["class"]}],calendar:[{type:Input}]}});var MbscCalendarPrev=/*#__PURE__*/function(_super){__extends(MbscCalendarPrev,_super);function MbscCalendarPrev(){return _super!==null&&_super.apply(this,arguments)||this}MbscCalendarPrev.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarPrev,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscCalendarPrev.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscCalendarPrev,selector:"mbsc-calendar-prev",host:{properties:{class:"cssClass"}},usesInheritance:true,ngImport:i0,template:' <mbsc-button\n    *ngIf="inst"\n    [ariaLabel]="inst.s.prevPageText"\n    class="mbsc-calendar-button"\n    (click)="inst.prevPage()"\n    [disabled]="inst._isPrevDisabled()"\n    [iconSvg]="inst._prevIcon"\n    [theme]="inst.s.theme"\n    [themeVariant]="inst.s.themeVariant"\n    variant="flat"\n  >\n  </mbsc-button>',isInline:true,components:[{type:MbscButton,selector:"mbsc-button",inputs:["ariaLabel","color","disabled","endIcon","endIconSrc","endIconSvg","hidden","icon","iconSvg","iconSrc","ripple","role","startIcon","startIconSrc","startIconSvg","tabIndex","variant"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],encapsulation:i0.ViewEncapsulation.None});return MbscCalendarPrev}(CalendarSubscriber);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarPrev,decorators:[{type:Component,args:[{encapsulation:ViewEncapsulation.None,host:{"[class]":"cssClass"},selector:"mbsc-calendar-prev",template:' <mbsc-button\n    *ngIf="inst"\n    [ariaLabel]="inst.s.prevPageText"\n    class="mbsc-calendar-button"\n    (click)="inst.prevPage()"\n    [disabled]="inst._isPrevDisabled()"\n    [iconSvg]="inst._prevIcon"\n    [theme]="inst.s.theme"\n    [themeVariant]="inst.s.themeVariant"\n    variant="flat"\n  >\n  </mbsc-button>'}]}]});var MbscCalendarNext=/*#__PURE__*/function(_super){__extends(MbscCalendarNext,_super);function MbscCalendarNext(){return _super!==null&&_super.apply(this,arguments)||this}MbscCalendarNext.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarNext,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscCalendarNext.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscCalendarNext,selector:"mbsc-calendar-next",host:{properties:{class:"cssClass"}},usesInheritance:true,ngImport:i0,template:' <mbsc-button\n    *ngIf="inst"\n    [ariaLabel]="inst.s.nextPageText"\n    class="mbsc-calendar-button"\n    (click)="inst.nextPage()"\n    [disabled]="inst._isNextDisabled()"\n    [iconSvg]="inst._nextIcon"\n    [theme]="inst.s.theme"\n    [themeVariant]="inst.s.themeVariant"\n    variant="flat"\n  >\n  </mbsc-button>',isInline:true,components:[{type:MbscButton,selector:"mbsc-button",inputs:["ariaLabel","color","disabled","endIcon","endIconSrc","endIconSvg","hidden","icon","iconSvg","iconSrc","ripple","role","startIcon","startIconSrc","startIconSvg","tabIndex","variant"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],encapsulation:i0.ViewEncapsulation.None});return MbscCalendarNext}(CalendarSubscriber);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarNext,decorators:[{type:Component,args:[{encapsulation:ViewEncapsulation.None,host:{"[class]":"cssClass"},selector:"mbsc-calendar-next",template:' <mbsc-button\n    *ngIf="inst"\n    [ariaLabel]="inst.s.nextPageText"\n    class="mbsc-calendar-button"\n    (click)="inst.nextPage()"\n    [disabled]="inst._isNextDisabled()"\n    [iconSvg]="inst._nextIcon"\n    [theme]="inst.s.theme"\n    [themeVariant]="inst.s.themeVariant"\n    variant="flat"\n  >\n  </mbsc-button>'}]}]});var MbscCalendarToday=/*#__PURE__*/function(_super){__extends(MbscCalendarToday,_super);function MbscCalendarToday(){return _super!==null&&_super.apply(this,arguments)||this}MbscCalendarToday.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarToday,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscCalendarToday.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscCalendarToday,selector:"mbsc-calendar-today",host:{properties:{class:"cssClass"}},usesInheritance:true,ngImport:i0,template:' <mbsc-button\n    *ngIf="inst && (inst.s.showToday || inst.s.headerTemplate)"\n    class="mbsc-calendar-button mbsc-calendar-button-today"\n    [attr.aria-label]="inst.s.todayText"\n    [theme]="inst.s.theme"\n    [themeVariant]="inst.s.themeVariant"\n    variant="flat"\n    (click)="inst._onTodayClick($event)"\n  >\n    {{ inst.s.todayText }}\n  </mbsc-button>',isInline:true,components:[{type:MbscButton,selector:"mbsc-button",inputs:["ariaLabel","color","disabled","endIcon","endIconSrc","endIconSvg","hidden","icon","iconSvg","iconSrc","ripple","role","startIcon","startIconSrc","startIconSvg","tabIndex","variant"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],encapsulation:i0.ViewEncapsulation.None});return MbscCalendarToday}(CalendarSubscriber);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarToday,decorators:[{type:Component,args:[{encapsulation:ViewEncapsulation.None,host:{"[class]":"cssClass"},selector:"mbsc-calendar-today",template:' <mbsc-button\n    *ngIf="inst && (inst.s.showToday || inst.s.headerTemplate)"\n    class="mbsc-calendar-button mbsc-calendar-button-today"\n    [attr.aria-label]="inst.s.todayText"\n    [theme]="inst.s.theme"\n    [themeVariant]="inst.s.themeVariant"\n    variant="flat"\n    (click)="inst._onTodayClick($event)"\n  >\n    {{ inst.s.todayText }}\n  </mbsc-button>'}]}]});var MbscCalendarNav=/*#__PURE__*/function(_super){__extends(MbscCalendarNav,_super);function MbscCalendarNav(){return _super!==null&&_super.apply(this,arguments)||this}MbscCalendarNav.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarNav,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscCalendarNav.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscCalendarNav,selector:"mbsc-calendar-nav",host:{attributes:{"aria-live":"polite"},properties:{class:"cssClass"}},usesInheritance:true,ngImport:i0,template:' <ng-container *ngIf="inst">\n    <mbsc-button\n      #pickerBtn\n      *ngFor="let item of inst._title; trackBy: inst._getKey"\n      [class]="\'mbsc-calendar-button\' + (inst._pageNr > 1 ? \' mbsc-flex-1-1\' : \'\')"\n      (click)="inst._onPickerBtnClick($event)"\n      [theme]="inst.s.theme"\n      [themeVariant]="inst.s.themeVariant"\n      variant="flat"\n    >\n      <ng-container *ngIf="inst._hasPicker || inst._view === inst.PAGE_VIEW">\n        <ng-container *ngIf="!item.title">\n          <span *ngIf="inst._yearFirst" [class]="\'mbsc-calendar-title mbsc-calendar-year\' + inst._theme">\n            {{ item.yearTitle }}\n          </span>\n          <span [class]="\'mbsc-calendar-title mbsc-calendar-month\' + inst._theme">\n            {{ item.monthTitle }}\n          </span>\n          <span *ngIf="!inst._yearFirst" [class]="\'mbsc-calendar-title mbsc-calendar-year\' + inst._theme">\n            {{ item.yearTitle }}\n          </span>\n        </ng-container>\n        <span *ngIf="item.title" [class]="\'mbsc-calendar-title\' + inst._theme">\n          {{ item.title }}\n        </span>\n      </ng-container>\n      <span *ngIf="!inst._hasPicker && inst._view !== inst.PAGE_VIEW" [class]="\'mbsc-calendar-title\' + inst._theme">\n        {{ inst._viewTitle }}\n      </span>\n      <mbsc-icon\n        *ngIf="inst.s.downIcon && inst._pageNr === 1"\n        [svg]="inst._view === inst.PAGE_VIEW ? inst.s.downIcon : inst.s.upIcon"\n        [theme]="inst.s.theme"\n        [themeVariant]="inst.s.themeVariant"\n      >\n      </mbsc-icon>\n    </mbsc-button>\n  </ng-container>',isInline:true,components:[{type:MbscButton,selector:"mbsc-button",inputs:["ariaLabel","color","disabled","endIcon","endIconSrc","endIconSvg","hidden","icon","iconSvg","iconSrc","ripple","role","startIcon","startIconSrc","startIconSvg","tabIndex","variant"]},{type:MbscIcon,selector:"mbsc-icon",inputs:["name","svg"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]}],encapsulation:i0.ViewEncapsulation.None});return MbscCalendarNav}(CalendarSubscriber);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarNav,decorators:[{type:Component,args:[{encapsulation:ViewEncapsulation.None,host:{"[class]":"cssClass","aria-live":"polite"},selector:"mbsc-calendar-nav",template:' <ng-container *ngIf="inst">\n    <mbsc-button\n      #pickerBtn\n      *ngFor="let item of inst._title; trackBy: inst._getKey"\n      [class]="\'mbsc-calendar-button\' + (inst._pageNr > 1 ? \' mbsc-flex-1-1\' : \'\')"\n      (click)="inst._onPickerBtnClick($event)"\n      [theme]="inst.s.theme"\n      [themeVariant]="inst.s.themeVariant"\n      variant="flat"\n    >\n      <ng-container *ngIf="inst._hasPicker || inst._view === inst.PAGE_VIEW">\n        <ng-container *ngIf="!item.title">\n          <span *ngIf="inst._yearFirst" [class]="\'mbsc-calendar-title mbsc-calendar-year\' + inst._theme">\n            {{ item.yearTitle }}\n          </span>\n          <span [class]="\'mbsc-calendar-title mbsc-calendar-month\' + inst._theme">\n            {{ item.monthTitle }}\n          </span>\n          <span *ngIf="!inst._yearFirst" [class]="\'mbsc-calendar-title mbsc-calendar-year\' + inst._theme">\n            {{ item.yearTitle }}\n          </span>\n        </ng-container>\n        <span *ngIf="item.title" [class]="\'mbsc-calendar-title\' + inst._theme">\n          {{ item.title }}\n        </span>\n      </ng-container>\n      <span *ngIf="!inst._hasPicker && inst._view !== inst.PAGE_VIEW" [class]="\'mbsc-calendar-title\' + inst._theme">\n        {{ inst._viewTitle }}\n      </span>\n      <mbsc-icon\n        *ngIf="inst.s.downIcon && inst._pageNr === 1"\n        [svg]="inst._view === inst.PAGE_VIEW ? inst.s.downIcon : inst.s.upIcon"\n        [theme]="inst.s.theme"\n        [themeVariant]="inst.s.themeVariant"\n      >\n      </mbsc-icon>\n    </mbsc-button>\n  </ng-container>'}]}]});var MbscCalendarHeaderModule=/*#__PURE__*/function(){function MbscCalendarHeaderModule(){}MbscCalendarHeaderModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarHeaderModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscCalendarHeaderModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarHeaderModule,declarations:[CalendarSubscriber,MbscCalendarNav,MbscCalendarNext,MbscCalendarPrev,MbscCalendarToday],imports:[CommonModule,MbscButtonModule,MbscIconModule],exports:[MbscCalendarNav,MbscCalendarNext,MbscCalendarPrev,MbscCalendarToday]});MbscCalendarHeaderModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarHeaderModule,imports:[[CommonModule,MbscButtonModule,MbscIconModule]]});return MbscCalendarHeaderModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarHeaderModule,decorators:[{type:NgModule,args:[{declarations:[CalendarSubscriber,MbscCalendarNav,MbscCalendarNext,MbscCalendarPrev,MbscCalendarToday],exports:[MbscCalendarNav,MbscCalendarNext,MbscCalendarPrev,MbscCalendarToday],imports:[CommonModule,MbscButtonModule,MbscIconModule]}]}]});var MbscPickerModule=/*#__PURE__*/function(){function MbscPickerModule(){}MbscPickerModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPickerModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscPickerModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPickerModule,declarations:[PickerBase],imports:[CommonModule]});MbscPickerModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPickerModule,imports:[[CommonModule]]});return MbscPickerModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPickerModule,decorators:[{type:NgModule,args:[{declarations:[PickerBase],imports:[CommonModule]}]}]});var MbscCalendarNavService=/*#__PURE__*/function(){function MbscCalendarNavService(){this.pageSize=0;this._prevS={};this._s={}}MbscCalendarNavService.prototype.options=function(news,forcePageLoading){var s=this._s=__assign(__assign({},this._s),news);var prevS=this._prevS;var getDate=s.getDate;var getYear=s.getYear;var getMonth=s.getMonth;var showCalendar=s.showCalendar;var calendarType=s.calendarType;var startDay=s.startDay;var endDay=s.endDay;var firstWeekDay=s.firstDay;var isWeekView=calendarType==="week";var weeks=showCalendar?isWeekView?s.weeks:6:0;var minDate=s.min!==prevS.min||!this.minDate?!isEmpty(s.min)?makeDate(s.min):-Infinity:this.minDate;var maxDate=s.max!==prevS.max||!this.maxDate?!isEmpty(s.max)?makeDate(s.max):Infinity:this.maxDate;var initialActive=s.activeDate||+new Date;var activeDate=constrain(initialActive,+minDate,+maxDate);var forcePageChange=this.forcePageChange||activeDate!==initialActive&&(activeDate<+this.firstDay||activeDate>=+this.lastDay);var d=new Date(activeDate);var activeChanged=activeDate!==prevS.activeDate;var viewChanged=s.calendarType!==prevS.calendarType||s.eventRange!==prevS.eventRange||s.firstDay!==prevS.firstDay||s.eventRangeSize!==prevS.eventRangeSize||s.refDate!==prevS.refDate||showCalendar!==prevS.showCalendar||s.size!==prevS.size||s.weeks!==prevS.weeks;var pageIndex=forcePageChange||this.pageIndex===UNDEFINED||viewChanged||!this.preventPageChange&&activeChanged&&(activeDate<+this.firstDay||activeDate>=+this.lastDay)?getPageIndex(d,s):this.pageIndex;var size=calendarType==="year"?12:s.size||1;var isGrid=size>1&&!isWeekView;var pageNr=isGrid?1:getPageNr(s.pages,this.pageSize);var isVertical=s.calendarScroll==="vertical"&&s.pages!=="auto"&&(s.pages===UNDEFINED||s.pages===1);var showOuter=s.showOuterDays!==UNDEFINED?s.showOuterDays:!isVertical&&pageNr<2&&(isWeekView||!size||size<2);var pageBuffer=isGrid?0:1;var firstDay=getFirstPageDay(pageIndex,s);var lastDay=getFirstPageDay(pageIndex+pageNr,s);if(!showCalendar&&s.eventRange==="week"&&startDay!==UNDEFINED&&endDay!==UNDEFINED){firstDay=addDays(firstDay,startDay-firstWeekDay+(startDay<firstWeekDay?7:0));lastDay=addDays(firstDay,7*s.eventRangeSize+endDay-startDay+1-(endDay<startDay?0:7))}var firstPageDay=showCalendar&&showOuter?getFirstDayOfWeek(firstDay,s):firstDay;var lastPage=isGrid?getDate(getYear(lastDay),getMonth(lastDay)-1,1):getFirstPageDay(pageIndex+pageNr-1,s);var lastPageDay=showCalendar&&showOuter?addDays(getFirstDayOfWeek(lastPage,s),weeks*7):lastDay;var start=showCalendar?getFirstDayOfWeek(getFirstPageDay(pageIndex-pageBuffer,s),s):firstDay;var last=showCalendar?getFirstDayOfWeek(getFirstPageDay(pageIndex+pageNr+pageBuffer-1,s),s):lastDay;var end=showCalendar?addDays(isGrid?getFirstDayOfWeek(lastPage,s):last,weeks*7):lastDay;var initialRun=this.pageIndex===UNDEFINED;var viewStart=start;var viewEnd=end;if(!showCalendar&&s.resolution==="week"&&(s.eventRange==="year"||s.eventRange==="month")){var length_1=endDay-startDay+1+(endDay<startDay?7:0);if(firstDay.getDay()!==startDay){var weekStart=getFirstDayOfWeek(firstDay,s,startDay);var weekEnd=addDays(weekStart,length_1);viewStart=weekEnd<=firstDay?addDays(weekStart,7):weekStart}if(lastDay.getDay()!==startDay){var weekStart=getFirstDayOfWeek(lastDay,s,startDay);var weekEnd=addDays(weekStart,length_1);viewEnd=weekStart>lastDay?addDays(weekEnd,-7):weekEnd}}var pageChange=false;if(pageIndex!==UNDEFINED){pageChange=+viewStart!==+this.viewStart||+viewEnd!==+this.viewEnd;this.pageIndex=pageIndex}this.firstDay=firstDay;this.lastDay=lastDay;this.firstPageDay=firstPageDay;this.lastPageDay=lastPageDay;this.viewStart=viewStart;this.viewEnd=viewEnd;this.forcePageChange=false;this.preventPageChange=false;this.minDate=minDate;this.maxDate=maxDate;this._prevS=s;this._prevS.activeDate=activeDate;if(pageIndex!==UNDEFINED&&(pageChange||forcePageLoading)){if(pageChange&&!initialRun){this._pageChange()}this._pageLoading(pageChange)}};MbscCalendarNavService.prototype._pageChange=function(){if(this._s.onPageChange){this._s.onPageChange({firstDay:this.firstPageDay,lastDay:this.lastPageDay,month:this._s.calendarType==="month"?this.firstDay:UNDEFINED,type:"onPageChange",viewEnd:this.viewEnd,viewStart:this.viewStart})}};MbscCalendarNavService.prototype._pageLoading=function(viewChanged){if(this._s.onPageLoading){this._s.onPageLoading({firstDay:this.firstPageDay,lastDay:this.lastPageDay,month:this._s.calendarType==="month"?this.firstDay:UNDEFINED,type:"onPageLoading",viewChanged:viewChanged,viewEnd:this.viewEnd,viewStart:this.viewStart})}};return MbscCalendarNavService}();var CalendarBase=/*#__PURE__*/function(_super){__extends(CalendarBase,_super);function CalendarBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._navService=new MbscCalendarNavService;_this._update=0;_this._onDayClick=function(args){var s=_this.s;var date=addTimezone(s,args.date);var d=+date;if(args.disabled){return}if(s.selectMultiple){var tempValueRep=_this._tempValueRep;if(tempValueRep[d]){delete tempValueRep[d]}else if(s.selectMax!==UNDEFINED?Object.keys(tempValueRep).length<s.selectMax:true){tempValueRep[d]=date}_this._tempValueRep=__assign({},tempValueRep)}else{if(!s.selectRange){_this._tempValueRep={}}_this._tempValueRep[d]=date}_this._navService.preventPageChange=s.selectRange;_this._hook("onCellClick",args);_this._hook("onChange",{value:_this._get()})};_this._onTodayClick=function(){var date=new Date;var d=+getDateOnly(date);if(!_this.s.selectRange&&!_this.s.selectMultiple){_this._tempValueRep={};_this._tempValueRep[d]=date;_this._hook("onChange",{value:_this._get()})}};_this._onActiveChange=function(args){_this._navService.forcePageChange=args.pageChange;_this._update++;_this._hook("onActiveChange",args)};_this._setCal=function(cal){_this._calendarView=cal};return _this}CalendarBase.prototype._render=function(s){var valueRep={};var value=s.value;var values=value?isArray(value)?value:[value]:[];for(var _i=0,values_1=values;_i<values_1.length;_i++){var val=values_1[_i];if(val!==null){var date=makeDate(val,s,s.dateFormat);valueRep[+getDateOnly(date)]=date}}this._tempValueRep=valueRep;this._navService.options({activeDate:s.active,calendarType:s.calendarType,firstDay:s.firstDay,getDate:s.getDate,getDay:s.getDay,getMonth:s.getMonth,getYear:s.getYear,max:s.max,min:s.min,onPageChange:s.onPageChange,onPageLoading:s.onPageLoading,pages:s.pages,refDate:s.refDate,showCalendar:true,showOuterDays:s.showOuterDays,size:s.size,weeks:s.weeks})};CalendarBase.prototype._get=function(){var s=this.s;var isRange=s.selectRange;var valueRep=this._tempValueRep;if(s.selectMultiple||isRange){var valueArray=[];for(var _i=0,_a=Object.keys(valueRep);_i<_a.length;_i++){var v=_a[_i];valueArray.push(createDate$1(s,+valueRep[v]))}return valueArray}var valueKeys=Object.keys(valueRep||{});if(!valueKeys.length){return null}return createDate$1(s,valueRep[valueKeys[0]])};CalendarBase.defaults=__assign(__assign({},calendarViewDefaults),{calendarScroll:"horizontal",calendarType:"month",selectedText:"{count} selected",showControls:true,weeks:1});CalendarBase._name="Calendar";CalendarBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:CalendarBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});CalendarBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:CalendarBase,selector:"[mbsc-sc-b]",usesInheritance:true,ngImport:i0});return CalendarBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:CalendarBase,decorators:[{type:Directive,args:[{selector:"[mbsc-sc-b]"}]}]});var CalendarDayBase=/*#__PURE__*/function(_super){__extends(CalendarDayBase,_super);function CalendarDayBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._onClick=function(ev){_this._cellClick("onDayClick",ev)};_this._onRightClick=function(ev){_this._cellClick("onDayRightClick",ev)};_this._onLabelClick=function(args){_this._labelClick("onLabelClick",args)};_this._onLabelDoubleClick=function(args){_this._labelClick("onLabelDoubleClick",args)};_this._onLabelRightClick=function(args){_this._labelClick("onLabelRightClick",args)};_this._onLabelHoverIn=function(args){_this._labelClick("onLabelHoverIn",args)};_this._onLabelHoverOut=function(args){_this._labelClick("onLabelHoverOut",args)};_this._setBtn=function(btn){_this._btn=btn};return _this}CalendarDayBase.prototype._mounted=function(){var _this=this;var allowCreate;var allowStart;var touchTimer;this._unlistenBtn=gestureListener(this._btn,{onBlur:function(){_this.setState({hasFocus:false})},onFocus:function(){_this.setState({hasFocus:true})}});this._unlisten=gestureListener(this._el,{click:true,onDoubleClick:function(args){var s=_this.s;if(s.clickToCreate&&s.clickToCreate!=="single"&&s.labels&&!s.disabled&&s.display){_this._hook("onLabelUpdateStart",args);_this._hook("onLabelUpdateEnd",args)}_this._cellClick("onDayDoubleClick",args.domEvent)},onEnd:function(args){if(allowCreate){args.domEvent.preventDefault();_this._hook("onLabelUpdateEnd",args);allowCreate=false}clearTimeout(touchTimer);allowCreate=false;allowStart=false},onHoverIn:function(ev){var s=_this.s;if(!s.disabled){_this.setState({hasHover:true})}_this._hook("onHoverIn",{date:new Date(s.date),domEvent:ev,hidden:!s.display,outer:s.outer,target:_this._el})},onHoverOut:function(ev){var s=_this.s;_this.setState({hasHover:false});_this._hook("onHoverOut",{date:new Date(s.date),domEvent:ev,hidden:!s.display,outer:s.outer,target:_this._el})},onKeyDown:function(ev){switch(ev.keyCode){case ENTER:case SPACE:ev.preventDefault();_this._onClick(ev);break}},onMove:function(args){if(allowCreate&&_this.s.dragToCreate){args.domEvent.preventDefault();_this._hook("onLabelUpdateMove",args)}else if(allowStart&&_this.s.dragToCreate&&(Math.abs(args.deltaX)>7||Math.abs(args.deltaY)>7)){allowCreate=!args.isTouch;_this._hook("onLabelUpdateStart",args)}else{clearTimeout(touchTimer)}},onStart:function(args){var s=_this.s;args.create=true;if(!s.disabled&&(s.dragToCreate||s.clickToCreate)&&s.labels&&!allowCreate){var label=closest(args.domEvent.target,".mbsc-calendar-text",_this._el);if(!label){if(args.isTouch&&s.dragToCreate){touchTimer=setTimeout((function(){_this._hook("onLabelUpdateStart",args);_this._hook("onLabelUpdateModeOn",args);allowCreate=true}),350)}else if(s.clickToCreate==="single"){_this._hook("onLabelUpdateStart",args);allowCreate=true}else{allowStart=!args.isTouch}}}}})};CalendarDayBase.prototype._render=function(s,state){var now=createDate$1(s);var d=s.date;var colors=s.colors,display=s.display,dragData=s.dragData,hoverEnd=s.hoverEnd,hoverStart=s.hoverStart,labels=s.labels,rangeEnd=s.rangeEnd,rangeStart=s.rangeStart;var date=new Date(d);var dateKey=getDateStr(date);var isToday=isSameDay(now,date);var events=labels&&labels.events;var color=colors&&colors[0];var background=color&&color.background;var highlight=color&&color.highlight;var cellClass="";var highlightClass="";this._draggedLabel=dragData&&dragData.draggedDates&&dragData.draggedDates[dateKey];this._draggedLabelOrig=dragData&&dragData.originDates&&dragData.originDates[dateKey];this._todayClass=isToday?" mbsc-calendar-today":"";this._cellStyles=background&&display?{backgroundColor:background,color:getTextColor(background)}:UNDEFINED;this._circleStyles=highlight?{backgroundColor:highlight,color:getTextColor(color.highlight)}:UNDEFINED;this._ariaLabel=s.type==="day"?(isToday?s.todayText+", ":"")+s.day+", "+s.month+" "+s.text+", "+s.year:s.type==="month"?s.month:"";if(display){if(rangeStart&&d>=rangeStart&&d<=(rangeEnd||rangeStart)||rangeEnd&&d<=rangeEnd&&d>=(rangeStart||rangeEnd)){highlightClass=" mbsc-range-day"+(d===(rangeStart||rangeEnd)?" mbsc-range-day-start":"")+(d===(rangeEnd||rangeStart)?" mbsc-range-day-end":"")}if(hoverStart&&hoverEnd&&d>=hoverStart&&d<=hoverEnd){highlightClass+=" mbsc-range-hover"+(d===hoverStart?" mbsc-range-hover-start mbsc-hover":"")+(d===hoverEnd?" mbsc-range-hover-end mbsc-hover":"")}}if(s.marks){s.marks.forEach((function(e){cellClass+=e.cellCssClass?" "+e.cellCssClass:""}))}if(colors){colors.forEach((function(e){cellClass+=e.cellCssClass?" "+e.cellCssClass:""}))}if(events){events.forEach((function(e){cellClass+=e.cellCssClass?" "+e.cellCssClass:""}))}this._cssClass="mbsc-calendar-cell mbsc-flex-1-0-0 mbsc-calendar-"+s.type+this._theme+this._rtl+this._hb+cellClass+(labels?" mbsc-calendar-day-labels":"")+(colors?" mbsc-calendar-day-colors":"")+(s.outer?" mbsc-calendar-day-outer":"")+(s.hasMarks?" mbsc-calendar-day-marked":"")+(s.disabled?" mbsc-disabled":"")+(display?"":" mbsc-calendar-day-empty")+(s.selected?" mbsc-selected":"")+(state.hasFocus?" mbsc-focus":"")+(state.hasHover&&(d===hoverStart||d===hoverEnd||!hoverStart&&!hoverEnd)?" mbsc-hover":"")+(this._draggedLabel?" mbsc-calendar-day-highlight":"")+highlightClass;this._data={date:date,events:s.events||[],selected:s.selected}};CalendarDayBase.prototype._destroy=function(){if(this._unlistenBtn){this._unlistenBtn()}if(this._unlisten){this._unlisten()}};CalendarDayBase.prototype._cellClick=function(name,domEvent){var s=this.s;if(s.display){this._hook(name,{date:new Date(s.date),disabled:s.disabled,domEvent:domEvent,outer:s.outer,selected:s.selected,source:"calendar",target:this._el})}};CalendarDayBase.prototype._labelClick=function(name,args){var s=this.s;args.date=new Date(s.date);args.labels=s.labels.events;this._hook(name,args)};CalendarDayBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:CalendarDayBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});CalendarDayBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:CalendarDayBase,selector:"[mbsc-calday-b]",usesInheritance:true,ngImport:i0});return CalendarDayBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:CalendarDayBase,decorators:[{type:Directive,args:[{selector:"[mbsc-calday-b]"}]}]});var stateObservables$1={};var CalendarLabelBase=/*#__PURE__*/function(_super){__extends(CalendarLabelBase,_super);function CalendarLabelBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._onClick=function(ev){if(_this._isDrag){ev.stopPropagation()}else{_this._triggerEvent("onClick",ev);var s=_this.s;var observable=stateObservables$1[s.id];if(observable&&s.selected){observable.next({hasFocus:false})}}};_this._onRightClick=function(ev){_this._triggerEvent("onRightClick",ev)};_this._onDocTouch=function(ev){unlisten(_this._doc,TOUCH_START,_this._onDocTouch);unlisten(_this._doc,MOUSE_DOWN,_this._onDocTouch);_this._isDrag=false;_this._hook("onDragModeOff",{domEvent:ev,event:_this.s.event})};_this._updateState=function(args){if(_this.s.showText||_this._hasResizeEnd){_this.setState(args)}};_this._triggerEvent=function(name,ev){_this._hook(name,{domEvent:ev,label:_this.s.event,target:_this._el})};return _this}CalendarLabelBase.prototype._mounted=function(){var _this=this;var opt=this.s;var el=this._el;var id=opt.id;var isPicker=opt.isPicker;var resizeDir;var observable=stateObservables$1[id];if(!observable){observable=new Observable;stateObservables$1[id]=observable}this._unsubscribe=observable.subscribe(this._updateState);this._doc=getDocument(el);this._unlisten=gestureListener(el,{keepFocus:true,onBlur:function(){if(!isPicker){observable.next({hasFocus:false})}},onDoubleClick:function(ev){ev.domEvent.stopPropagation();_this._hook("onDoubleClick",{domEvent:ev.domEvent,label:_this.s.event,target:el})},onEnd:function(ev){if(_this._isDrag){var s=_this.s;var args=__assign({},ev);args.domEvent.preventDefault();args.event=s.event;if(s.resize&&resizeDir){args.resize=true;args.direction=resizeDir}else if(s.drag){args.drag=true}_this._hook("onDragEnd",args);if(!s.isUpdate){_this._isDrag=false}if(el&&args.moved){el.blur()}}clearTimeout(_this._touchTimer);resizeDir=UNDEFINED},onFocus:function(){if(!isPicker){observable.next({hasFocus:true})}},onHoverIn:function(ev){if(_this._isDrag||isPicker){return}observable.next({hasHover:true});_this._triggerEvent("onHoverIn",ev)},onHoverOut:function(ev){observable.next({hasHover:false});_this._triggerEvent("onHoverOut",ev)},onKeyDown:function(ev){var event=_this.s.event;switch(ev.keyCode){case ENTER:case SPACE:el.click();ev.preventDefault();break;case BACKSPACE:case DELETE:if(event&&event.editable!==false){_this._hook("onDelete",{domEvent:ev,event:event,source:"calendar"})}break}},onMove:function(ev){var s=_this.s;var args=__assign({},ev);args.event=s.event;if(resizeDir){args.resize=true;args.direction=resizeDir}else if(s.drag){args.drag=true}else{return}if(!s.event||s.event.editable===false){return}if(_this._isDrag){args.domEvent.preventDefault();_this._hook("onDragMove",args)}else if(Math.abs(args.deltaX)>7||Math.abs(args.deltaY)>7){clearTimeout(_this._touchTimer);if(!args.isTouch){_this._isDrag=true;_this._hook("onDragStart",args)}}},onStart:function(ev){var s=_this.s;var args=__assign({},ev);var target=args.domEvent.target;args.event=s.event;if(s.resize&&target.classList.contains("mbsc-calendar-label-resize")){resizeDir=target.classList.contains("mbsc-calendar-label-resize-start")?"start":"end";args.resize=true;args.direction=resizeDir}else if(s.drag){args.drag=true}else{return}if(!s.event||s.event.editable===false){return}if(_this._isDrag||!args.isTouch){args.domEvent.stopPropagation()}if(_this._isDrag){_this._hook("onDragStart",args)}else if(args.isTouch){_this._touchTimer=setTimeout((function(){_this._hook("onDragModeOn",args);_this._hook("onDragStart",args);_this._isDrag=true}),350)}}});if(this._isDrag){listen(this._doc,TOUCH_START,this._onDocTouch);listen(this._doc,MOUSE_DOWN,this._onDocTouch)}};CalendarLabelBase.prototype._destroy=function(){if(this._el){this._el.blur()}if(this._unsubscribe){var id=this.s.id;var observable=stateObservables$1[id];if(observable){observable.unsubscribe(this._unsubscribe);if(!observable.nr){delete stateObservables$1[id]}}}if(this._unlisten){this._unlisten()}unlisten(this._doc,TOUCH_START,this._onDocTouch);unlisten(this._doc,MOUSE_DOWN,this._onDocTouch)};CalendarLabelBase.prototype._render=function(s,state){var event=s.event;var d=new Date(s.date);var render=s.render||s.renderContent;var start;var end;var isMultiDay=false;var isStart;var isEnd;var isEndStyle;var text;this._isDrag=this._isDrag||s.isUpdate;this._content=UNDEFINED;this._title=s.more||s.count||!s.showEventTooltip?UNDEFINED:htmlToText(event.tooltip||event.title||event.text);this._tabIndex=s.isActiveMonth&&s.showText&&!s.count&&!s.isPicker?0:-1;if(event){var allDay=event.allDay;var tzOpt=allDay?UNDEFINED:s;start=event.start?makeDate(event.start,tzOpt):null;end=event.end?makeDate(event.end,tzOpt):null;var endTime=start&&end&&getEndDate(s,allDay,start,end,!s.isExact);var firstDayOfWeek=getFirstDayOfWeek(d,s);var lastDayOfWeek=addDays(firstDayOfWeek,7);var lastDay=s.lastDay&&s.lastDay<lastDayOfWeek?s.lastDay:lastDayOfWeek;isMultiDay=start&&endTime&&!isSameDay(start,endTime);isStart=!isMultiDay||start&&isSameDay(start,d);isEnd=!isMultiDay||endTime&&isSameDay(endTime,d);isEndStyle=!isMultiDay||(s.showText?endTime<lastDay:isEnd);this._hasResizeStart=s.resize&&isStart;this._hasResizeEnd=s.resize&&isEndStyle;var color=event.color;if(!color&&event.resource&&s.resourcesMap){var resource=s.resourcesMap[isArray(event.resource)?event.resource[0]:event.resource];color=resource&&resource.color}if(s.showText){this._textColor=color?getTextColor(color):UNDEFINED}this._color=s.render||s.template?UNDEFINED:event.textColor&&!color?"transparent":color}if(event&&s.showText&&(render||s.contentTemplate||s.template)){var fillsAllDay=event.allDay||!start||isMultiDay&&!isStart&&!isEnd;this._data={end:!fillsAllDay&&isEnd&&end?formatDate(s.timeFormat,end,s):"",id:event.id,isMultiDay:isMultiDay,original:event,start:!fillsAllDay&&isStart&&start?formatDate(s.timeFormat,start,s):"",title:this._title};if(render){var content=render(this._data);if(isString(content)){text=content}else{this._content=content}}}else{text=s.more||s.count||(s.showText?event.title||event.text||"":"")}if(text!==this._text){this._text=text;this._html=text?this._safeHtml(text):UNDEFINED;this._shouldEnhance=text&&event&&s.showText&&!!render}this._cssClass="mbsc-calendar-text"+this._theme+this._rtl+(state.hasFocus&&!s.inactive&&!s.selected||s.selected&&s.showText?" mbsc-calendar-label-active ":"")+(state.hasHover&&!s.inactive&&!this._isDrag?" mbsc-calendar-label-hover":"")+(s.more?" mbsc-calendar-text-more":s.render||s.template?" mbsc-calendar-custom-label":" mbsc-calendar-label")+(s.inactive?" mbsc-calendar-label-inactive":"")+(s.isUpdate?" mbsc-calendar-label-dragging":"")+(s.hidden?" mbsc-calendar-label-hidden":"")+(isStart?" mbsc-calendar-label-start":"")+(isEndStyle?" mbsc-calendar-label-end":"")+(event&&event.editable===false?" mbsc-readonly-event":"")+(event&&event.cssClass?" "+event.cssClass:"")};CalendarLabelBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:CalendarLabelBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});CalendarLabelBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:CalendarLabelBase,selector:"[mbsc-callbl-b]",usesInheritance:true,ngImport:i0});return CalendarLabelBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:CalendarLabelBase,decorators:[{type:Directive,args:[{selector:"[mbsc-callbl-b]"}]}]});var CalendarViewBase=/*#__PURE__*/function(_super){__extends(CalendarViewBase,_super);function CalendarViewBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.state={height:"sm",pageSize:0,pickerSize:0,width:"sm"};_this._dim={};_this._months=[1,2,3];_this._title=[];_this.PAGE_VIEW=PAGE_VIEW;_this.MONTH_VIEW=MONTH_VIEW;_this.YEAR_VIEW=YEAR_VIEW;_this.MULTI_YEAR_VIEW=MULTI_YEAR_VIEW;_this.nextPage=function(){_this._prevDocClick();switch(_this._view){case MONTH_VIEW:_this._activeMonthChange(1);break;case MULTI_YEAR_VIEW:_this._activeYearsChange(1);break;case YEAR_VIEW:_this._activeYearChange(1);break;default:_this._activeChange(1)}};_this.prevPage=function(){_this._prevDocClick();switch(_this._view){case MONTH_VIEW:_this._activeMonthChange(-1);break;case MULTI_YEAR_VIEW:_this._activeYearsChange(-1);break;case YEAR_VIEW:_this._activeYearChange(-1);break;default:_this._activeChange(-1)}};_this._changeView=function(newView){var s=_this.s;var view=_this._view;var hasPicker=_this._hasPicker;var selectView=s.selectView;var navView=s.navView;var isYearView=s.showCalendar&&s.calendarType==="year";if(!newView){switch(view){case PAGE_VIEW:newView=navView||(isYearView?MULTI_YEAR_VIEW:YEAR_VIEW);break;case MONTH_VIEW:newView=YEAR_VIEW;break;case MULTI_YEAR_VIEW:newView=isYearView||navView===MULTI_YEAR_VIEW?PAGE_VIEW:YEAR_VIEW;break;default:newView=hasPicker&&navView===YEAR_VIEW||selectView===YEAR_VIEW||_this._prevView!==MULTI_YEAR_VIEW?MULTI_YEAR_VIEW:navView===MONTH_VIEW?MONTH_VIEW:PAGE_VIEW}if(selectView===MULTI_YEAR_VIEW||navView===MULTI_YEAR_VIEW){newView=MULTI_YEAR_VIEW}}if(view===PAGE_VIEW){_this._activeMonth=_this._active}var skipAnimation=hasPicker&&newView===selectView;_this._prevView=view;_this.setState({view:newView,viewClosing:skipAnimation?UNDEFINED:view,viewOpening:skipAnimation?UNDEFINED:newView})};_this._onDayHoverIn=function(ev){if(!_this._disableHover){_this._hook("onDayHoverIn",ev);_this._hoverTimer=setTimeout((function(){var key=getDateStr(ev.date);if(_this._labels){ev.labels=_this._labels[key]}if(_this._marked){ev.marked=_this._marked[key]}_this._isHover=true;_this._hook("onCellHoverIn",ev)}),150)}};_this._onDayHoverOut=function(ev){if(!_this._disableHover){_this._hook("onDayHoverOut",ev);clearTimeout(_this._hoverTimer);if(_this._isHover){var key=getDateStr(ev.date);if(_this._labels){ev.labels=_this._labels[key]}if(_this._marked){ev.marked=_this._marked[key]}_this._isHover=false;_this._hook("onCellHoverOut",ev)}}};_this._onLabelClick=function(args){_this._isLabelClick=true;_this._hook("onLabelClick",args)};_this._onDayClick=function(args){_this._shouldFocus=!_this._isLabelClick;_this._prevAnim=false;_this._isLabelClick=false;_this._hook("onDayClick",args)};_this._onTodayClick=function(args){_this._prevAnim=false;_this._hook("onActiveChange",{date:+removeTimezone(createDate$1(_this.s)),today:true});_this._hook("onTodayClick",{})};_this._onNavDayClick=function(args){if(args.disabled){return}var d=args.date;var s=_this.s;var newIndex=getPageIndex(d,s);_this._prevDocClick();_this._changeView(PAGE_VIEW);_this._shouldFocus=true;_this._prevAnim=!_this._hasPicker;_this._hook("onActiveChange",{date:+d,nav:true,pageChange:newIndex!==_this._pageIndex,today:true})};_this._onMonthClick=function(args){if(args.disabled){return}var s=_this.s;var d=new Date(args.date);if(s.selectView===YEAR_VIEW){_this._hook("onDayClick",args)}else{_this._prevDocClick();_this._shouldFocus=true;_this._prevAnim=!_this._hasPicker;_this._activeMonth=+d;if(s.navView===YEAR_VIEW||s.navView===UNDEFINED){var newIndex=getPageIndex(d,s);_this._changeView(PAGE_VIEW);_this._hook("onActiveChange",{date:+d,nav:true,pageChange:newIndex!==_this._pageIndex,today:true})}else{_this._changeView(MONTH_VIEW)}}};_this._onYearClick=function(args){if(args.disabled){return}var d=args.date;var s=_this.s;var view=s.selectView;if(view===MULTI_YEAR_VIEW){_this._hook("onDayClick",args)}else{_this._shouldFocus=true;_this._prevAnim=view===YEAR_VIEW;_this._activeMonth=+d;_this._prevDocClick();if(s.navView===MULTI_YEAR_VIEW||s.calendarType==="year"){var newIndex=getPageIndex(d,s);_this._changeView(PAGE_VIEW);_this._hook("onActiveChange",{date:+d,pageChange:newIndex!==_this._pageIndex,today:true})}else{_this._changeView(YEAR_VIEW)}}};_this._onPageChange=function(args){_this._isSwipeChange=true;_this._activeChange(args.diff)};_this._onMonthPageChange=function(args){_this._activeMonthChange(args.diff)};_this._onYearPageChange=function(args){_this._activeYearChange(args.diff)};_this._onYearsPageChange=function(args){_this._activeYearsChange(args.diff)};_this._onAnimationEnd=function(args){_this._disableHover=false;if(_this._isIndexChange){_this._pageLoaded();_this._isIndexChange=false}};_this._onStart=function(){clearTimeout(_this._hoverTimer)};_this._onGestureStart=function(args){_this._disableHover=true;_this._hook("onGestureStart",args)};_this._onGestureEnd=function(args){_this._prevDocClick()};_this._onPickerClose=function(){_this.setState({view:PAGE_VIEW})};_this._onPickerOpen=function(){var pageHeight=_this._pickerCont.clientHeight;var pageWidth=_this._pickerCont.clientWidth;_this.setState({pickerSize:_this._isVertical?pageHeight:pageWidth})};_this._onPickerBtnClick=function(ev){if(_this._view===PAGE_VIEW){_this._pickerBtn=ev.currentTarget}_this._prevDocClick();_this._changeView()};_this._onDocClick=function(){var view=_this.s.selectView;if(!_this._prevClick&&!_this._hasPicker&&_this._view!==view){_this._changeView(view)}};_this._onViewAnimationEnd=function(){if(_this.state.viewClosing){_this.setState({viewClosing:UNDEFINED})}if(_this.state.viewOpening){_this.setState({viewOpening:UNDEFINED})}};_this._onResize=function(){if(!_this._body||!isBrowser){return}var s=_this.s;var state=_this.state;var showCalendar=s.showCalendar;var body=showCalendar&&_this.__getTextParam?_this._body.querySelector(".mbsc-calendar-body-inner"):_this._body;var totalWidth=_this._el.offsetWidth;var totalHeight=_this._el.offsetHeight;var pageHeight=body.clientHeight;var pageWidth=body.clientWidth;var pageSize=_this._isVertical?pageHeight:pageWidth;var pickerSize=_this._hasPicker?state.pickerSize:pageSize;var ready=showCalendar!==UNDEFINED;var width="sm";var height="sm";var maxLabels=UNDEFINED;var hasScrollY=false;var cellTextHeight=0;var labelHeight=0;if(s.responsiveStyle&&!_this._isGrid){if(pageHeight>300){height="md"}if(pageWidth>767){width="md"}}if(width!==state.width||height!==state.height){_this._shouldCheckSize=true;_this.setState({width:width,height:height})}else{if(_this._labels&&showCalendar&&_this.__getTextParam){var placeholder=body.querySelector(".mbsc-calendar-text");var cell=body.querySelector(".mbsc-calendar-day-inner");var labelsCont=cell.querySelector(".mbsc-calendar-labels");var txtMargin=placeholder?getDimension(placeholder,"marginBottom"):2;var txtHeight=placeholder?placeholder.offsetHeight:18;cellTextHeight=labelsCont.offsetTop;hasScrollY=body.scrollHeight>body.clientHeight;labelHeight=txtHeight+txtMargin;maxLabels=Math.max(1,floor((cell.clientHeight-cellTextHeight)/labelHeight))}_this._hook("onResize",{height:totalHeight,target:_this._el,width:totalWidth});s.navService.pageSize=pageSize;var update=_this._shouldPageLoad?(state.update||0)+1:state.update;_this.setState({cellTextHeight:cellTextHeight,hasScrollY:hasScrollY,labelHeight:labelHeight,maxLabels:maxLabels,pageSize:pageSize,pickerSize:pickerSize,ready:ready,update:update})}};_this._onKeyDown=function(ev){var s=_this.s;var view=_this._view;var active=view===PAGE_VIEW?_this._active:_this._activeMonth;var activeDate=new Date(active);var year=s.getYear(activeDate);var month=s.getMonth(activeDate);var day=s.getDay(activeDate);var getDate=s.getDate;var weeks=s.weeks;var isMonthView=s.calendarType==="month";var newDate;if(view===MULTI_YEAR_VIEW){var newYear=void 0;switch(ev.keyCode){case LEFT_ARROW:newYear=year-1*_this._rtlNr;break;case RIGHT_ARROW:newYear=year+1*_this._rtlNr;break;case UP_ARROW:newYear=year-3;break;case DOWN_ARROW:newYear=year+3;break;case HOME:newYear=_this._getPageYears(_this._yearsIndex);break;case END:newYear=_this._getPageYears(_this._yearsIndex)+11;break;case PAGE_UP:newYear=year-12;break;case PAGE_DOWN:newYear=year+12;break}if(newYear&&_this._minYears<=newYear&&_this._maxYears>=newYear){ev.preventDefault();_this._shouldFocus=true;_this._prevAnim=false;_this._activeMonth=+getDate(newYear,0,1);_this.forceUpdate()}}else if(view===YEAR_VIEW){switch(ev.keyCode){case LEFT_ARROW:newDate=getDate(year,month-1*_this._rtlNr,1);break;case RIGHT_ARROW:newDate=getDate(year,month+1*_this._rtlNr,1);break;case UP_ARROW:newDate=getDate(year,month-3,1);break;case DOWN_ARROW:newDate=getDate(year,month+3,1);break;case HOME:newDate=getDate(year,0,1);break;case END:newDate=getDate(year,11,1);break;case PAGE_UP:newDate=getDate(year-1,month,1);break;case PAGE_DOWN:newDate=getDate(year+1,month,1);break}if(newDate&&_this._minYear<=newDate&&_this._maxYear>=newDate){ev.preventDefault();_this._shouldFocus=true;_this._prevAnim=false;_this._activeMonth=+newDate;_this.forceUpdate()}}else{switch(ev.keyCode){case LEFT_ARROW:newDate=getDate(year,month,day-1*_this._rtlNr);break;case RIGHT_ARROW:newDate=getDate(year,month,day+1*_this._rtlNr);break;case UP_ARROW:newDate=getDate(year,month,day-7);break;case DOWN_ARROW:newDate=getDate(year,month,day+7);break;case HOME:newDate=getDate(year,month,1);break;case END:newDate=getDate(year,month+1,0);break;case PAGE_UP:newDate=ev.altKey?getDate(year-1,month,day):isMonthView?getDate(year,month-1,day):getDate(year,month,day-weeks*7);break;case PAGE_DOWN:newDate=ev.altKey?getDate(year+1,month,day):isMonthView?getDate(year,month+1,day):getDate(year,month,day+weeks*7);break}if(newDate&&_this._minDate<=newDate&&_this._maxDate>=newDate){ev.preventDefault();var newIndex=getPageIndex(newDate,s);_this._shouldFocus=true;_this._prevAnim=false;if(view===MONTH_VIEW){_this._activeMonth=+newDate;_this.forceUpdate()}else{_this._pageChange=s.noOuterChange&&newIndex!==_this._pageIndex;_this._hook("onActiveChange",{date:+newDate,pageChange:_this._pageChange})}}}};_this._setHeader=function(el){_this._headerElement=el};_this._setBody=function(el){_this._body=el};_this._setPickerCont=function(el){_this._pickerCont=el};return _this}CalendarViewBase.prototype._getPageDay=function(pageIndex){return+getFirstPageDay(pageIndex,this.s)};CalendarViewBase.prototype._getPageStyle=function(index,offset,pageIndex,pageNr){var _a;return _a={},_a[(jsPrefix?jsPrefix+"T":"t")+"ransform"]="translate"+this._axis+"("+(index-offset)*100*this._rtlNr+"%)",_a.position=index===pageIndex?"relative":"",_a.width=100/(pageNr||1)+"%",_a};CalendarViewBase.prototype._getPageMonth=function(pageIndex){var s=this.s;var refDate=s.refDate?makeDate(s.refDate):REF_DATE;var year=s.getYear(refDate);var month=s.getMonth(refDate);return+s.getDate(year,month+pageIndex,1)};CalendarViewBase.prototype._getPageYear=function(pageIndex){var s=this.s;var refDate=s.refDate?makeDate(s.refDate):REF_DATE;var year=s.getYear(refDate);return year+pageIndex};CalendarViewBase.prototype._getPageYears=function(pageIndex){var s=this.s;var refDate=s.refDate?makeDate(s.refDate):REF_DATE;var year=s.getYear(refDate);return year+pageIndex*12};CalendarViewBase.prototype._getPickerClass=function(view){var animName;var pickerName=view===this.s.selectView?" mbsc-calendar-picker-main":"";var baseName="mbsc-calendar-picker";var hasPicker=this._hasPicker;var _a=this.state,viewClosing=_a.viewClosing,viewOpening=_a.viewOpening;switch(view){case PAGE_VIEW:animName=hasPicker?"":(viewOpening===PAGE_VIEW?"in-down":"")+(viewClosing===PAGE_VIEW?"out-down":"");break;case MONTH_VIEW:animName=hasPicker&&viewClosing===PAGE_VIEW?"":(viewOpening===MONTH_VIEW?"in-down":"")+(viewClosing===MONTH_VIEW?"out-down":"");break;case MULTI_YEAR_VIEW:animName=hasPicker&&viewClosing===PAGE_VIEW?"":(viewOpening===MULTI_YEAR_VIEW?"in-up":"")+(viewClosing===MULTI_YEAR_VIEW?"out-up":"");break;default:animName=hasPicker&&(viewOpening===PAGE_VIEW||viewClosing===PAGE_VIEW)?"":(viewOpening===YEAR_VIEW?viewClosing===MULTI_YEAR_VIEW?"in-down":"in-up":"")+(viewClosing===YEAR_VIEW?viewOpening===MULTI_YEAR_VIEW?"out-down":"out-up":"")}return baseName+pickerName+(hasAnimation&&animName?" "+baseName+"-"+animName:"")};CalendarViewBase.prototype._isNextDisabled=function(isModalPicker){if(!this._hasPicker||isModalPicker){var view=this._view;if(view===MULTI_YEAR_VIEW){return this._yearsIndex+1>this._maxYearsIndex}if(view===YEAR_VIEW){return this._yearIndex+1>this._maxYearIndex}if(view===MONTH_VIEW){return this._monthIndex+1>this._maxMonthIndex}}return this._pageIndex+1>this._maxIndex};CalendarViewBase.prototype._isPrevDisabled=function(isModalPicker){if(!this._hasPicker||isModalPicker){var view=this._view;if(view===MULTI_YEAR_VIEW){return this._yearsIndex-1<this._minYearsIndex}if(view===YEAR_VIEW){return this._yearIndex-1<this._minYearIndex}if(view===MONTH_VIEW){return this._monthIndex-1<this._minMonthIndex}}return this._pageIndex-1<this._minIndex};CalendarViewBase.prototype._render=function(s,state){var getDate=s.getDate;var getYear=s.getYear;var getMonth=s.getMonth;var showCalendar=s.showCalendar;var calendarType=s.calendarType;var eventRange=s.eventRange;var eventRangeSize=s.eventRangeSize||1;var firstWeekDay=s.firstDay;var isWeekView=calendarType==="week";var isMonthView=calendarType==="month";var isYearView=calendarType==="year";var size=isYearView?12:+(s.size||1);var isGrid=size>1&&!isWeekView;var weeks=showCalendar?isWeekView?s.weeks:6:0;var active=s.activeDate||this._active||+new Date;var activeChanged=active!==this._active;var d=new Date(active);var prevProps=this._prevS;var dateFormat=s.dateFormat;var monthNames=s.monthNames;var yearSuffix=s.yearSuffix;var variableRow=isNumeric(s.labelList)?+s.labelList+1:s.labelList==="all"?-1:0;var labelListingChanged=s.labelList!==prevProps.labelList;var navService=s.navService;var pageIndex=navService.pageIndex;var firstDay=navService.firstDay;var lastDay=navService.lastDay;var start=navService.viewStart;var end=navService.viewEnd;this._minDate=navService.minDate;this._maxDate=navService.maxDate;if(!isEmpty(s.min)){var min=getDateOnly(this._minDate);this._minDate=getDateOnly(min);this._minYear=getDate(getYear(min),getMonth(min),1);this._minYears=getYear(min);this._minIndex=getPageIndex(min,s);this._minYearIndex=getYearIndex(min,s);this._minYearsIndex=getYearsIndex(min,s);this._minMonthIndex=getMonthIndex(min,s)}else{this._minIndex=-Infinity;this._minYears=-Infinity;this._minYearsIndex=-Infinity;this._minYear=-Infinity;this._minYearIndex=-Infinity;this._minMonthIndex=-Infinity}if(!isEmpty(s.max)){var max=this._maxDate;this._maxYear=getDate(getYear(max),getMonth(max)+1,1);this._maxYears=getYear(max);this._maxIndex=getPageIndex(max,s);this._maxYearIndex=getYearIndex(max,s);this._maxYearsIndex=getYearsIndex(max,s);this._maxMonthIndex=getMonthIndex(max,s)}else{this._maxIndex=Infinity;this._maxYears=Infinity;this._maxYearsIndex=Infinity;this._maxYear=Infinity;this._maxYearIndex=Infinity;this._maxMonthIndex=Infinity}var viewChanged=calendarType!==prevProps.calendarType||eventRange!==prevProps.eventRange||firstWeekDay!==prevProps.firstDay||s.eventRangeSize!==prevProps.eventRangeSize||s.refDate!==prevProps.refDate||s.showCalendar!==prevProps.showCalendar||s.weeks!==prevProps.weeks;if(viewChanged&&this._pageIndex!==UNDEFINED){this._prevAnim=true}if(activeChanged){this._activeMonth=active}this._view=state.view||s.selectView;this._yearsIndex=getYearsIndex(new Date(this._activeMonth),s);this._yearIndex=getYearIndex(new Date(this._activeMonth),s);this._monthIndex=getMonthIndex(new Date(this._activeMonth),s);var pageNr=isGrid?1:getPageNr(s.pages,state.pageSize);var isVertical=s.calendarScroll==="vertical"&&s.pages!=="auto"&&(s.pages===UNDEFINED||s.pages===1);var showOuter=s.showOuterDays!==UNDEFINED?s.showOuterDays:!isVertical&&pageNr<2&&(isWeekView||!size||size<2);var monthIndex=dateFormat.search(/m/i);var yearIndex=dateFormat.search(/y/i);if(this._view===MONTH_VIEW){var date=new Date(this._getPageMonth(this._monthIndex));var month=monthNames[getMonth(date)];var year=getYear(date)+yearSuffix;this._viewTitle=yearIndex<monthIndex?year+" "+month:month+" "+year}else if(this._view===YEAR_VIEW){this._viewTitle=this._getPageYear(this._yearIndex)+""}else if(this._view===MULTI_YEAR_VIEW){var startYear=this._getPageYears(this._yearsIndex);this._viewTitle=startYear+" - "+(startYear+11)}if(isGrid){this._monthsMulti=[];if(pageIndex!==UNDEFINED){var columns=floor(state.pageSize*.96/(PAGE_WIDTH*1.1))||1;while(size%columns){columns--}for(var i=0;i<size/columns;++i){var rowItems=[];for(var j=0;j<columns;++j){rowItems.push(+getDate(getYear(firstDay),getMonth(firstDay)+i*columns+j,1))}this._monthsMulti.push(rowItems)}}}if(calendarType!==prevProps.calendarType||s.theme!==prevProps.theme||s.calendarScroll!==prevProps.calendarScroll||s.hasContent!==prevProps.hasContent||s.showCalendar!==prevProps.showCalendar||s.showSchedule!==prevProps.showSchedule||s.showWeekNumbers!==prevProps.showWeekNumbers||s.weeks!==prevProps.weeks||labelListingChanged){this._shouldCheckSize=true}if(prevProps.width!==s.width||prevProps.height!==s.height){this._dim={height:addPixel(s.height),width:addPixel(s.width)}}this._cssClass="mbsc-calendar mbsc-font mbsc-flex-col"+this._theme+this._rtl+(state.ready?"":" mbsc-hidden")+(isGrid?" mbsc-calendar-grid-view":" mbsc-calendar-height-"+state.height+" mbsc-calendar-width-"+state.width)+" "+s.cssClass;this._dayNames=state.width==="sm"||isGrid?s.dayNamesMin:s.dayNamesShort;this._isSwipeChange=false;this._yearFirst=yearIndex<monthIndex;this._pageNr=pageNr;this._variableRow=variableRow;var forcePageLoad=s.pageLoad!==prevProps.pageLoad;var pageChanged=+start!==+this._viewStart||+end!==+this._viewEnd;if(this._pageIndex!==UNDEFINED&&pageChanged){this._isIndexChange=!this._isSwipeChange&&!viewChanged}if(pageIndex!==UNDEFINED){this._pageIndex=pageIndex}if(pageIndex!==UNDEFINED&&(s.marked!==prevProps.marked||s.colors!==prevProps.colors||s.labels!==prevProps.labels||s.invalid!==prevProps.invalid||s.valid!==prevProps.valid||state.maxLabels!==this._maxLabels||pageChanged||labelListingChanged||forcePageLoad)){this._maxLabels=state.maxLabels;this._viewStart=start;this._viewEnd=end;var labelsMap=s.labelsMap||getEventMap(s.labels,start,end,s,false,!s.eventExact);var labels=labelsMap&&getLabels(s,labelsMap,start,end,this._variableRow||this._maxLabels||1,7,false,firstWeekDay,true,!showOuter,s.showLabelCount,s.moreEventsText,s.moreEventsPluralText,s.eventExact);if(labels&&!this._labels){this._shouldCheckSize=true}if(labels&&state.maxLabels||!labels){this._shouldPageLoad=!this._isIndexChange||this._prevAnim||!showCalendar||forcePageLoad||isGrid||!!variableRow}this._labelsLayout=labels;this._labels=labelsMap;this._marked=labelsMap?UNDEFINED:s.marksMap||getEventMap(s.marked,start,end,s,false,true);this._colors=getEventMap(s.colors,start,end,s,false,true);this._valid=getEventMap(s.valid,start,end,s,true,true);this._invalid=getEventMap(s.invalid,start,end,s,true,true)}if(pageChanged||activeChanged||eventRange!==prevProps.eventRange||eventRangeSize!==prevProps.eventRangeSize||s.monthNames!==prevProps.monthNames){this._title=[];var lDay=addDays(lastDay,-1);var titleDate=pageIndex===UNDEFINED?d:firstDay;if(isWeekView){titleDate=d;for(var _i=0,_a=Object.keys(s.selectedDates);_i<_a.length;_i++){var key=_a[_i];if(+key>=+firstDay&&+key<+lastDay){titleDate=new Date(+key);break}}}if(this._pageNr>1){for(var i=0;i<pageNr;i++){var dt=getDate(getYear(firstDay),getMonth(firstDay)+i,1);var yt=getYear(dt)+yearSuffix;var mt=monthNames[getMonth(dt)];this._title.push({yearTitle:yt,monthTitle:mt})}}else{var titleObj={yearTitle:getYear(titleDate)+yearSuffix,monthTitle:monthNames[getMonth(titleDate)]};var titleType=s.showSchedule&&eventRangeSize===1?eventRange:showCalendar?calendarType:eventRange;var agendaOnly=eventRange&&!showCalendar&&(!s.showSchedule||eventRangeSize>1);switch(titleType){case"year":{titleObj.title=getYear(firstDay)+yearSuffix;if(eventRangeSize>1){titleObj.title+=" - "+(getYear(lDay)+yearSuffix)}break}case"month":{if(eventRangeSize>1&&!showCalendar){var monthStart=monthNames[getMonth(firstDay)];var yearStart=getYear(firstDay)+yearSuffix;var titleStart=this._yearFirst?yearStart+" "+monthStart:monthStart+" "+yearStart;var monthEnd=monthNames[getMonth(lDay)];var yearEnd=getYear(lDay)+yearSuffix;var titleEnd=this._yearFirst?yearEnd+" "+monthEnd:monthEnd+" "+yearEnd;titleObj.title=titleStart+" - "+titleEnd}else if(isGrid){titleObj.title=getYear(firstDay)+yearSuffix}break}case"day":case"week":{if(agendaOnly){var dayIndex=dateFormat.search(/d/i);var shortDateFormat=dayIndex<monthIndex?"D MMM, YYYY":"MMM D, YYYY";titleObj.title=formatDate(shortDateFormat,firstDay,s);if(titleType==="week"||eventRangeSize>1){titleObj.title+=" - "+formatDate(shortDateFormat,lDay,s)}}break}}this._title.push(titleObj)}}this._active=active;this._hasPicker=s.hasPicker||isGrid||!isMonthView||!showCalendar||state.width==="md"&&s.hasPicker!==false;this._axis=isVertical?"Y":"X";this._rtlNr=!isVertical&&s.rtl?-1:1;this._weeks=weeks;this._nextIcon=isVertical?s.nextIconV:s.rtl?s.prevIconH:s.nextIconH;this._prevIcon=isVertical?s.prevIconV:s.rtl?s.nextIconH:s.prevIconH;this._mousewheel=s.mousewheel===UNDEFINED?isVertical:s.mousewheel;this._isGrid=isGrid;this._isVertical=isVertical;this._showOuter=showOuter;this._showDaysTop=isVertical||!!variableRow&&size===1};CalendarViewBase.prototype._mounted=function(){this._observer=resizeObserver(this._el,this._onResize,this._zone);this._doc=getDocument(this._el);listen(this._doc,CLICK,this._onDocClick)};CalendarViewBase.prototype._updated=function(){var _this=this;if(this._shouldCheckSize){setTimeout((function(){_this._onResize()}));this._shouldCheckSize=false}else if(this._shouldPageLoad){this._pageLoaded();this._shouldPageLoad=false}if(this._shouldFocus){setTimeout((function(){_this._focusActive();_this._shouldFocus=false}))}if(this.s.instanceService){this.s.instanceService.onComponentChange.next({})}this._pageChange=false;if(this._variableRow&&this.s.showCalendar){var body=this._body.querySelector(".mbsc-calendar-body-inner");var hasScrollY=body.scrollHeight>body.clientHeight;if(hasScrollY!==this.state.hasScrollY){this._shouldCheckSize=true;this.setState({hasScrollY:hasScrollY})}}};CalendarViewBase.prototype._destroy=function(){if(this._observer){this._observer.detach()}unlisten(this._doc,CLICK,this._onDocClick);clearTimeout(this._hoverTimer)};CalendarViewBase.prototype._getActiveCell=function(){var view=this._view;var cont=view===PAGE_VIEW?this._body:this._pickerCont;var cell=view===MULTI_YEAR_VIEW?"year":view===YEAR_VIEW?"month":"cell";return cont&&cont.querySelector(".mbsc-calendar-"+cell+' .mbsc-calendar-cell-text[tabindex="0"]')};CalendarViewBase.prototype._focusActive=function(){var cell=this._getActiveCell();if(cell){cell.focus()}};CalendarViewBase.prototype._pageLoaded=function(){var navService=this.s.navService;this._hook("onPageLoaded",{activeElm:this._getActiveCell(),firstDay:navService.firstPageDay,lastDay:navService.lastPageDay,month:this.s.calendarType==="month"?navService.firstDay:UNDEFINED,viewEnd:navService.viewEnd,viewStart:navService.viewStart})};CalendarViewBase.prototype._activeChange=function(diff){var nextIndex=this._pageIndex+diff;if(diff<0&&this._minIndex<=nextIndex||diff>0&&this._maxIndex>=nextIndex&&this.__getTextParam){this._prevAnim=false;this._pageChange=true;this._hook("onActiveChange",{date:this._getPageDay(nextIndex),dir:diff,pageChange:true})}};CalendarViewBase.prototype._activeMonthChange=function(diff){var nextIndex=this._monthIndex+diff;if(this._minMonthIndex<=nextIndex&&this._maxMonthIndex>=nextIndex){this._prevAnim=false;this._activeMonth=this._getPageMonth(nextIndex);this.forceUpdate()}};CalendarViewBase.prototype._activeYearsChange=function(diff){var nextIndex=this._yearsIndex+diff;if(this._minYearsIndex<=nextIndex&&this._maxYearsIndex>=nextIndex){var newYear=this._getPageYears(nextIndex);this._prevAnim=false;this._activeMonth=+this.s.getDate(newYear,0,1);this.forceUpdate()}};CalendarViewBase.prototype._activeYearChange=function(diff){var nextIndex=this._yearIndex+diff;if(this._minYearIndex<=nextIndex&&this._maxYearIndex>=nextIndex){var newYear=this._getPageYear(nextIndex);this._prevAnim=false;this._activeMonth=+this.s.getDate(newYear,0,1);this.forceUpdate()}};CalendarViewBase.prototype._prevDocClick=function(){var _this=this;this._prevClick=true;setTimeout((function(){_this._prevClick=false}))};CalendarViewBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:CalendarViewBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});CalendarViewBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:CalendarViewBase,selector:"[mbsc-calview-b]",usesInheritance:true,ngImport:i0});return CalendarViewBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:CalendarViewBase,decorators:[{type:Directive,args:[{selector:"[mbsc-calview-b]"}]}]});var MonthViewBase=/*#__PURE__*/function(_super){__extends(MonthViewBase,_super);function MonthViewBase(){return _super!==null&&_super.apply(this,arguments)||this}MonthViewBase.prototype._isActive=function(d){return this.s.isActive&&d===this.s.activeDate};MonthViewBase.prototype._isInvalid=function(d){var s=this.s;var localDate=new Date(d);var timezoneDate=addTimezone(s,localDate);return isInvalid(s,timezoneDate,s.invalid,s.valid,+s.min,+s.max)};MonthViewBase.prototype._isSelected=function(d){var localDate=new Date(d);var timezoneDate=addTimezone(this.s,localDate);return!!this.s.selectedDates[+timezoneDate]};MonthViewBase.prototype._getWeekNr=function(s,date){var d=new Date(date);return""+s.getWeekNumber(s.getDate(d.getFullYear(),d.getMonth(),d.getDate()+(7-s.firstDay+1)%7))};MonthViewBase.prototype._render=function(s){var weeks=s.weeks||6;var firstWeekDay=s.firstDay;var firstDay=new Date(s.firstPageDay);var year=s.getYear(firstDay);var month=s.getMonth(firstDay);var day=s.getDay(firstDay);var weekDay=s.getDate(year,month,day).getDay();var offset=firstWeekDay-weekDay>0?7:0;var row=[];var maxLabels=0;this._rowHeights=[];this._rows=[];this._days=ARRAY7;for(var i=0;i<7*weeks;i++){var curr=s.getDate(year,month,i+firstWeekDay-offset-weekDay+day);var key=getDateStr(curr);var displayMonth=s.getMonth(curr);var outer=displayMonth!==month&&s.calendarType!=="week";var marked=s.marked&&s.marked[key];var marks=marked?s.showSingleMark?[{}]:marked:null;var labels=s.labels&&s.labels[key];var labelCount=labels?labels.data.length:0;var isWeekStart=i%7===0;if(s.variableRow){if(isWeekStart&&outer&&i){break}if(labelCount>maxLabels){maxLabels=labelCount}if(i%7===6){this._rowHeights.push(maxLabels*(s.labelHeight||20)+(s.cellTextHeight||0)+3);maxLabels=0}}if(isWeekStart){row=[];this._rows.push(row)}row.push({colors:s.colors&&s.colors[key],date:+curr,day:s.dayNames[curr.getDay()],display:outer?s.showOuter:true,events:s.events&&s.events[key],labels:labels,marks:marks,month:s.monthNames[displayMonth],monthShort:s.monthNamesShort[displayMonth],outer:outer,text:s.getDay(curr),year:s.getYear(curr)})}};MonthViewBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MonthViewBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});MonthViewBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:MonthViewBase,selector:"[mbsc-mv-b]",usesInheritance:true,ngImport:i0});return MonthViewBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MonthViewBase,decorators:[{type:Directive,args:[{selector:"[mbsc-mv-b]"}]}]});var cloudUpload='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/></svg>';var resizeObservable=new Observable;var resizeSubscribers=0;var resizeTimer;function onWindowResize(){clearTimeout(resizeTimer);resizeTimer=setTimeout((function(){resizeObservable.next()}),100)}function subscribeResize(handler){if(!resizeSubscribers){listen(win,RESIZE,onWindowResize)}resizeSubscribers++;return resizeObservable.subscribe(handler)}function unsubscribeResize(id){resizeSubscribers--;resizeObservable.unsubscribe(id);if(!resizeSubscribers){unlisten(win,RESIZE,onWindowResize)}}function checkAutoFill(el){try{return matches(el,"*:-webkit-autofill")}catch(ex){return false}}var InputBase=/*#__PURE__*/function(_super){__extends(InputBase,_super);function InputBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._tag="input";_this._onClick=function(){_this._hidePass=!_this._hidePass};_this._onMouseDown=function(ev){if(_this.s.tags){_this._preventFocus=true}};_this._onTagClear=function(ev,index){ev.stopPropagation();ev.preventDefault();if(!_this.s.disabled){var value=__spreadArray([],_this.s.pickerValue,true);value.splice(index,1);trigger(_this._el,CHANGE,value)}};_this._sizeTextArea=function(){var input=_this._el;var rowNr=_this.s.rows;var lineHeight=24;var height;var lineNr;var line;if(input.offsetHeight){input.style.height="";line=input.scrollHeight-input.offsetHeight;height=input.offsetHeight+(line>0?line:0);lineNr=Math.round(height/lineHeight);if(lineNr>rowNr){height=lineHeight*rowNr+(height-lineNr*lineHeight);input.style.overflow="auto"}else{input.style.overflow=""}if(height){input.style.height=height+"px"}}};_this._onAutoFill=function(){if(_this.s.labelStyle==="floating"&&checkAutoFill(_this._el)){_this.setState({isFloatingActive:true})}};return _this}InputBase.prototype._change=function(val){};InputBase.prototype._checkFloating=function(){var _this=this;var el=this._el;var s=this.s;var isAutoFill=checkAutoFill(el);var isFloatingActive=this.state.hasFocus||isAutoFill||!isEmpty(this.value);if(el&&s.labelStyle==="floating"){if(this._tag==="select"){var select=el;var firstOption=select.options[0];isFloatingActive=!!(isFloatingActive||select.multiple||select.value||select.selectedIndex>-1&&firstOption&&firstOption.label)}else if(this.value===UNDEFINED){var input=el;isFloatingActive=!!(isFloatingActive||input.value)}this._valueChecked=true;ngSetTimeout(this,(function(){_this.setState({isFloatingActive:isFloatingActive})}))}};InputBase.prototype._mounted=function(){var _this=this;var s=this.s;var input=this._el;listen(input,ANIMATION_START,this._onAutoFill);if(this._tag==="textarea"){listen(input,INPUT,this._sizeTextArea);this._unsubscribe=subscribeResize(this._sizeTextArea)}this._unlisten=gestureListener(input,{keepFocus:true,onBlur:function(){_this.setState({hasFocus:false,isFloatingActive:!!input.value})},onChange:function(ev){if(s.type==="file"){var files=ev.target.files;var names=[];for(var _i=0,files_1=files;_i<files_1.length;_i++){var file=files_1[_i];names.push(file.name)}_this.setState({files:names.join(", ")})}if(s.tags&&s.value===UNDEFINED&&s.defaultValue===UNDEFINED){_this.setState({value:ev.target.value})}_this._checkFloating();_this._change(ev.target.value);_this._emit("onChange",ev)},onFocus:function(){if(!_this._preventFocus){_this.setState({hasFocus:true,isFloatingActive:true})}_this._preventFocus=false},onHoverIn:function(){if(!_this._disabled){_this.setState({hasHover:true})}},onHoverOut:function(){_this.setState({hasHover:false})},onInput:function(ev){_this._change(ev.target.value)}})};InputBase.prototype._render=function(s,state){var hasEndIcon=!!(s.endIconSvg||s.endIcon);var pickerValue=s.pickerValue;var hasStartIcon=!!(s.startIconSvg||s.startIcon);var hasLabel=s.label!==UNDEFINED||s.hasChildren;var hasError=s.error;var iconStartPosition=s.rtl?"right":"left";var iconEndPosition=s.rtl?"left":"right";var inputType=s.inputStyle;var labelType=s.labelStyle;var isFloating=labelType==="floating";var isFloatingActive=!!(isFloating&&hasLabel&&(state.isFloatingActive||!isEmpty(s.value)));var disabled=s.disabled===UNDEFINED?state.disabled:s.disabled;var prevS=this._prevS;var modelValue=s.modelValue!==UNDEFINED?s.modelValue:s.value;var value=modelValue!==UNDEFINED?modelValue:state.value!==UNDEFINED?state.value:s.defaultValue;var commonClasses=this._theme+this._rtl+(hasError?" mbsc-error":"")+(disabled?" mbsc-disabled":"")+(state.hasHover?" mbsc-hover":"")+(state.hasFocus&&!disabled?" mbsc-focus":"");if(s.type==="file"&&!hasEndIcon){s.endIconSvg=cloudUpload;hasEndIcon=true}if(s.tags){if(isEmpty(pickerValue)){pickerValue=[]}if(!isArray(pickerValue)){pickerValue=[pickerValue]}this._tagsArray=s.pickerMap?pickerValue.map((function(val){return s.pickerMap.get(val)})):isEmpty(value)?[]:value.split(", ")}if(s.passwordToggle){hasEndIcon=true;this._passIconClass=commonClasses+" mbsc-toggle-icon"+" mbsc-textfield-icon mbsc-textfield-icon-".concat(inputType," mbsc-textfield-icon-").concat(iconEndPosition)+" mbsc-textfield-icon-".concat(inputType,"-").concat(iconEndPosition)+(hasLabel?" mbsc-textfield-icon-".concat(labelType):"");this._hidePass=this._hidePass===UNDEFINED?s.type==="password":this._hidePass}this._hasStartIcon=hasStartIcon;this._hasEndIcon=hasEndIcon;this._hasError=hasError;this._disabled=disabled;this._value=value;this._cssClass=this._className+this._hb+commonClasses+" mbsc-form-control-wrapper mbsc-textfield-wrapper mbsc-font"+" mbsc-textfield-wrapper-".concat(inputType)+(disabled?" mbsc-disabled":"")+(hasLabel?" mbsc-textfield-wrapper-".concat(labelType):"")+(hasStartIcon?" mbsc-textfield-wrapper-has-icon-".concat(iconStartPosition," "):"")+(hasEndIcon?" mbsc-textfield-wrapper-has-icon-".concat(iconEndPosition," "):"");if(hasLabel){this._labelClass=commonClasses+" mbsc-label mbsc-label-".concat(labelType," mbsc-label-").concat(inputType,"-").concat(labelType)+(hasStartIcon?" mbsc-label-".concat(inputType,"-").concat(labelType,"-has-icon-").concat(iconStartPosition," "):"")+(hasEndIcon?" mbsc-label-".concat(inputType,"-").concat(labelType,"-has-icon-").concat(iconEndPosition," "):"")+(isFloating&&this._animateFloating?" mbsc-label-floating-animate":"")+(isFloatingActive?" mbsc-label-floating-active":"")}this._innerClass=commonClasses+" mbsc-textfield-inner mbsc-textfield-inner-".concat(inputType)+(hasLabel?" mbsc-textfield-inner-".concat(labelType):"");if(hasStartIcon){this._startIconClass=commonClasses+" mbsc-textfield-icon mbsc-textfield-icon-".concat(inputType," mbsc-textfield-icon-").concat(iconStartPosition)+" mbsc-textfield-icon-".concat(inputType,"-").concat(iconStartPosition)+(hasLabel?" mbsc-textfield-icon-".concat(labelType):"")}if(hasEndIcon){this._endIconClass=commonClasses+" mbsc-textfield-icon mbsc-textfield-icon-".concat(inputType," mbsc-textfield-icon-").concat(iconEndPosition)+" mbsc-textfield-icon-".concat(inputType,"-").concat(iconEndPosition)+(hasLabel?" mbsc-textfield-icon-".concat(labelType):"")}this._nativeElmClass=commonClasses+" "+(s.inputClass||"")+" mbsc-textfield mbsc-textfield-".concat(inputType)+(s.dropdown?" mbsc-select":"")+(hasLabel?" mbsc-textfield-".concat(labelType," mbsc-textfield-").concat(inputType,"-").concat(labelType):"")+(isFloatingActive?" mbsc-textfield-floating-active":"")+(hasStartIcon?" mbsc-textfield-has-icon-".concat(iconStartPosition," mbsc-textfield-").concat(inputType,"-has-icon-").concat(iconStartPosition)+(hasLabel?" mbsc-textfield-".concat(inputType,"-").concat(labelType,"-has-icon-").concat(iconStartPosition):""):"")+(hasEndIcon?" mbsc-textfield-has-icon-".concat(iconEndPosition," mbsc-textfield-").concat(inputType,"-has-icon-").concat(iconEndPosition)+(hasLabel?" mbsc-textfield-".concat(inputType,"-").concat(labelType,"-has-icon-").concat(iconEndPosition):""):"");if(this._tag==="select"||s.dropdown){this._selectIconClass="mbsc-select-icon mbsc-select-icon-".concat(inputType)+this._rtl+this._theme+(hasLabel?" mbsc-select-icon-".concat(labelType):"")+(hasStartIcon?" mbsc-select-icon-".concat(iconStartPosition):"")+(hasEndIcon?" mbsc-select-icon-".concat(iconEndPosition):"")}if(this._tag==="textarea"||s.tags){this._cssClass+=" mbsc-textarea-wrapper";this._innerClass+=" mbsc-textarea-inner";this._nativeElmClass+=" mbsc-textarea";if(this._tag==="textarea"&&(value!==this._prevValue||s.inputStyle!==prevS.inputStyle||s.labelStyle!==prevS.labelStyle||s.rows!==prevS.rows||s.theme!==prevS.theme)){this._shouldSize=true}this._prevValue=value}if(s.tags){this._innerClass+=" mbsc-textfield-tags-inner"}if(s.type==="file"){this._dummyElmClass=this._nativeElmClass;this._nativeElmClass+=" mbsc-textfield-file"}this._errorClass=this._theme+this._rtl+" mbsc-error-message mbsc-error-message-".concat(inputType)+(hasLabel?" mbsc-error-message-".concat(labelType):"")+(hasStartIcon?" mbsc-error-message-has-icon-".concat(iconStartPosition):"")+(hasEndIcon?" mbsc-error-message-has-icon-".concat(iconEndPosition):"");if(s.notch&&inputType==="outline"){this._fieldSetClass="mbsc-textfield-fieldset"+commonClasses+(hasStartIcon?" mbsc-textfield-fieldset-has-icon-".concat(iconStartPosition):"")+(hasEndIcon?" mbsc-textfield-fieldset-has-icon-".concat(iconEndPosition):"");this._legendClass="mbsc-textfield-legend"+this._theme+(isFloatingActive||hasLabel&&labelType==="stacked"?" mbsc-textfield-legend-active":"")}if(s.ripple&&s.inputStyle!=="outline"){this._rippleClass="mbsc-textfield-ripple"+this._theme+(hasError?" mbsc-error":"")+(state.hasFocus?" mbsc-textfield-ripple-active":"")}if(this._valueChecked){this._animateFloating=true}};InputBase.prototype._updated=function(){var _this=this;if(this._shouldSize){this._shouldSize=false;ngSetTimeout(this,(function(){_this._sizeTextArea()}))}this._checkFloating()};InputBase.prototype._destroy=function(){unlisten(this._el,ANIMATION_START,this._onAutoFill);unlisten(this._el,INPUT,this._sizeTextArea);if(this._unsubscribe){unsubscribeResize(this._unsubscribe)}if(this._unlisten){this._unlisten()}};InputBase.defaults={dropdown:false,dropdownIcon:arrowDown$1,hideIcon:"eye-blocked",inputStyle:"underline",labelStyle:"stacked",placeholder:"",ripple:false,rows:6,showIcon:"eye",type:"text"};InputBase._name="Input";InputBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:InputBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});InputBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:InputBase,selector:"[mbsc-inp-b]",usesInheritance:true,ngImport:i0});return InputBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:InputBase,decorators:[{type:Directive,args:[{selector:"[mbsc-inp-b]"}]}]});function FormControl(constructor){var prototype=constructor.prototype;prototype.registerOnChange=function(fn){this._onFormChange=fn};prototype.registerOnTouched=function(fn){this._onFormTouch=fn};prototype.setDisabledState=function(disabled){this.setState({disabled:disabled})};prototype.writeValue=function(val){updateValue(this,val)}}var guid$6=0;var MbscInput=/*#__PURE__*/function(_super){__extends(MbscInput,_super);function MbscInput(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.onChange=new EventEmitter;_this._id="mbsc-textfield-"+guid$6++;return _this}MbscInput.prototype._onIconClick=function(){this.vLbl.nativeElement.click()};MbscInput.prototype._triggerEvent=function(ev){if(this.s.tags&&ev.target!==this._el){trigger(this._el,ev.type)}};MbscInput.prototype._onValueChange=function(){this._checkFloating()};MbscInput.prototype._mounted=function(){this._el=this.vInput.nativeElement;_super.prototype._mounted.call(this)};MbscInput.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscInput,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscInput.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscInput,selector:"mbsc-input",inputs:{ariaExpanded:"ariaExpanded",ariaHaspopup:"ariaHaspopup",ariaLabel:"ariaLabel",accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",disabled:"disabled",dropdown:"dropdown",endIcon:"endIcon",endIconSrc:"endIconSrc",endIconSvg:"endIconSvg",error:"error",errorMessage:"errorMessage",hideIcon:"hideIcon",hideIconSvg:"hideIconSvg",id:"id",inputClass:"inputClass",inputStyle:"inputStyle",label:"label",labelStyle:"labelStyle",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",multiple:"multiple",name:"name",passwordToggle:"passwordToggle",pattern:"pattern",pickerMap:"pickerMap",pickerValue:"pickerValue",placeholder:"placeholder",readonly:"readonly",required:"required",ripple:"ripple",role:"role",rows:"rows",showIcon:"showIcon",showIconSvg:"showIconSvg",spellcheck:"spellcheck",startIcon:"startIcon",startIconSrc:"startIconSrc",startIconSvg:"startIconSvg",step:"step",tags:"tags",type:"type"},outputs:{onChange:"onChange"},host:{properties:{class:"_cssClass"}},viewQueries:[{propertyName:"vInput",first:true,predicate:["input"],descendants:true},{propertyName:"vLbl",first:true,predicate:["lbl"],descendants:true}],usesInheritance:true,ngImport:i0,template:'\n    <label #lbl [for]="_id" [class]="_labelClass">\n      {{ s.label }}\n      <ng-content select="[mbsc-label]"></ng-content>\n    </label>\n    <span [class]="_innerClass" (click)="_triggerEvent($event)" (keydown)="_triggerEvent($event)">\n      <input\n        #input\n        [(ngModel)]="value"\n        (blur)="_onFormTouch($event)"\n        [attr.accept]="accept"\n        [attr.aria-expanded]="ariaExpanded"\n        [attr.aria-haspopup]="ariaHaspopup"\n        [attr.aria-label]="ariaLabel"\n        [attr.autocapitalize]="autocapitalize"\n        [attr.autocomplete]="autocomplete"\n        [attr.autocorrect]="autocorrect"\n        [attr.autofocus]="autofocus"\n        [attr.max]="max"\n        [attr.maxlength]="maxlength"\n        [attr.min]="min"\n        [attr.minlength]="minlength"\n        [attr.multiple]="multiple"\n        [attr.name]="name"\n        [attr.pattern]="pattern"\n        [attr.required]="required"\n        [attr.role]="role"\n        [attr.spellcheck]="spellcheck"\n        [attr.step]="step"\n        [class]="_nativeElmClass + (s.tags ? \' mbsc-textfield-hidden\' : \'\')"\n        [disabled]="_disabled"\n        [id]="id || _id"\n        [placeholder]="s.placeholder"\n        [readonly]="readonly"\n        [type]="s.passwordToggle ? (_hidePass ? \'password\' : \'text\') : s.type"\n      />\n      <input\n        *ngIf="s.type === \'file\'"\n        [class]="_dummyElmClass"\n        [disabled]="_disabled"\n        [placeholder]="s.placeholder"\n        [readonly]="true"\n        type="text"\n        [value]="state.files || \'\'"\n      />\n      <span *ngIf="tags" [class]="\'mbsc-textfield-tags\' + _nativeElmClass">\n        <ng-container *ngFor="let v of _tagsArray; let i = index">\n          <span *ngIf="v" [class]="\'mbsc-textfield-tag\' + _theme + _rtl">\n            <span [class]="\'mbsc-textfield-tag-text\' + _theme">{{ v }}</span>\n            <mbsc-icon class="mbsc-textfield-tag-clear" (click)="_onTagClear($event, i)" [svg]="s.clearIcon" [theme]="s.theme"></mbsc-icon>\n          </span>\n        </ng-container>\n        <span *ngIf="!_tagsArray!.length" [class]="\'mbsc-textfield-tags-placeholder\' + _theme">{{ s.placeholder }}</span>\n      </span>\n      <mbsc-icon *ngIf="s.dropdown" [class]="_selectIconClass" [svg]="s.dropdownIcon" [theme]="s.theme"></mbsc-icon>\n      <mbsc-icon\n        *ngIf="_hasStartIcon"\n        [class]="_startIconClass"\n        [name]="s.startIcon"\n        [svg]="s.startIconSvg"\n        [theme]="s.theme"\n        (click)="_onIconClick()"\n      ></mbsc-icon>\n      <mbsc-icon\n        *ngIf="_hasEndIcon && !s.passwordToggle"\n        [class]="_endIconClass"\n        [name]="s.endIcon"\n        [svg]="s.endIconSvg"\n        [theme]="s.theme"\n        (click)="_onIconClick()"\n      >\n      </mbsc-icon>\n      <mbsc-icon\n        *ngIf="s.passwordToggle"\n        (click)="_onClick()"\n        [class]="_passIconClass"\n        [name]="_hidePass ? s.showIcon : s.hideIcon"\n        [svg]="_hidePass ? s.showIconSvg : s.hideIconSvg"\n        [theme]="s.theme"\n      >\n      </mbsc-icon>\n      <span *ngIf="_hasError" [class]="_errorClass">{{ s.errorMessage }}</span>\n      <fieldset *ngIf="s.notch && s.inputStyle === \'outline\'" aria-hidden="true" [class]="_fieldSetClass">\n        <legend [class]="_legendClass">{{ s.label && s.labelStyle !== \'inline\' ? s.label : \'&nbsp;\' }}</legend>\n      </fieldset>\n      <span *ngIf="s.ripple && s.inputStyle !== \'outline\'" [class]="_rippleClass"></span>\n    </span>\n  ',isInline:true,components:[{type:MbscIcon,selector:"mbsc-icon",inputs:["name","svg"]}],directives:[{type:i2.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{type:i2.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{type:i2.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{type:i2.MaxLengthValidator,selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",inputs:["maxlength"]},{type:i2.MinLengthValidator,selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",inputs:["minlength"]},{type:i2.PatternValidator,selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",inputs:["pattern"]},{type:i2.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});MbscInput=__decorate([FormControl],MbscInput);return MbscInput}(InputBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscInput,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-input",template:'\n    <label #lbl [for]="_id" [class]="_labelClass">\n      {{ s.label }}\n      <ng-content select="[mbsc-label]"></ng-content>\n    </label>\n    <span [class]="_innerClass" (click)="_triggerEvent($event)" (keydown)="_triggerEvent($event)">\n      <input\n        #input\n        [(ngModel)]="value"\n        (blur)="_onFormTouch($event)"\n        [attr.accept]="accept"\n        [attr.aria-expanded]="ariaExpanded"\n        [attr.aria-haspopup]="ariaHaspopup"\n        [attr.aria-label]="ariaLabel"\n        [attr.autocapitalize]="autocapitalize"\n        [attr.autocomplete]="autocomplete"\n        [attr.autocorrect]="autocorrect"\n        [attr.autofocus]="autofocus"\n        [attr.max]="max"\n        [attr.maxlength]="maxlength"\n        [attr.min]="min"\n        [attr.minlength]="minlength"\n        [attr.multiple]="multiple"\n        [attr.name]="name"\n        [attr.pattern]="pattern"\n        [attr.required]="required"\n        [attr.role]="role"\n        [attr.spellcheck]="spellcheck"\n        [attr.step]="step"\n        [class]="_nativeElmClass + (s.tags ? \' mbsc-textfield-hidden\' : \'\')"\n        [disabled]="_disabled"\n        [id]="id || _id"\n        [placeholder]="s.placeholder"\n        [readonly]="readonly"\n        [type]="s.passwordToggle ? (_hidePass ? \'password\' : \'text\') : s.type"\n      />\n      <input\n        *ngIf="s.type === \'file\'"\n        [class]="_dummyElmClass"\n        [disabled]="_disabled"\n        [placeholder]="s.placeholder"\n        [readonly]="true"\n        type="text"\n        [value]="state.files || \'\'"\n      />\n      <span *ngIf="tags" [class]="\'mbsc-textfield-tags\' + _nativeElmClass">\n        <ng-container *ngFor="let v of _tagsArray; let i = index">\n          <span *ngIf="v" [class]="\'mbsc-textfield-tag\' + _theme + _rtl">\n            <span [class]="\'mbsc-textfield-tag-text\' + _theme">{{ v }}</span>\n            <mbsc-icon class="mbsc-textfield-tag-clear" (click)="_onTagClear($event, i)" [svg]="s.clearIcon" [theme]="s.theme"></mbsc-icon>\n          </span>\n        </ng-container>\n        <span *ngIf="!_tagsArray!.length" [class]="\'mbsc-textfield-tags-placeholder\' + _theme">{{ s.placeholder }}</span>\n      </span>\n      <mbsc-icon *ngIf="s.dropdown" [class]="_selectIconClass" [svg]="s.dropdownIcon" [theme]="s.theme"></mbsc-icon>\n      <mbsc-icon\n        *ngIf="_hasStartIcon"\n        [class]="_startIconClass"\n        [name]="s.startIcon"\n        [svg]="s.startIconSvg"\n        [theme]="s.theme"\n        (click)="_onIconClick()"\n      ></mbsc-icon>\n      <mbsc-icon\n        *ngIf="_hasEndIcon && !s.passwordToggle"\n        [class]="_endIconClass"\n        [name]="s.endIcon"\n        [svg]="s.endIconSvg"\n        [theme]="s.theme"\n        (click)="_onIconClick()"\n      >\n      </mbsc-icon>\n      <mbsc-icon\n        *ngIf="s.passwordToggle"\n        (click)="_onClick()"\n        [class]="_passIconClass"\n        [name]="_hidePass ? s.showIcon : s.hideIcon"\n        [svg]="_hidePass ? s.showIconSvg : s.hideIconSvg"\n        [theme]="s.theme"\n      >\n      </mbsc-icon>\n      <span *ngIf="_hasError" [class]="_errorClass">{{ s.errorMessage }}</span>\n      <fieldset *ngIf="s.notch && s.inputStyle === \'outline\'" aria-hidden="true" [class]="_fieldSetClass">\n        <legend [class]="_legendClass">{{ s.label && s.labelStyle !== \'inline\' ? s.label : \'&nbsp;\' }}</legend>\n      </fieldset>\n      <span *ngIf="s.ripple && s.inputStyle !== \'outline\'" [class]="_rippleClass"></span>\n    </span>\n  '}]}],propDecorators:{vInput:[{type:ViewChild,args:["input",{static:false}]}],vLbl:[{type:ViewChild,args:["lbl",{static:false}]}],ariaExpanded:[{type:Input}],ariaHaspopup:[{type:Input}],ariaLabel:[{type:Input}],accept:[{type:Input}],autocapitalize:[{type:Input}],autocomplete:[{type:Input}],autocorrect:[{type:Input}],autofocus:[{type:Input}],disabled:[{type:Input}],dropdown:[{type:Input}],endIcon:[{type:Input}],endIconSrc:[{type:Input}],endIconSvg:[{type:Input}],error:[{type:Input}],errorMessage:[{type:Input}],hideIcon:[{type:Input}],hideIconSvg:[{type:Input}],id:[{type:Input}],inputClass:[{type:Input}],inputStyle:[{type:Input}],label:[{type:Input}],labelStyle:[{type:Input}],max:[{type:Input}],maxlength:[{type:Input}],min:[{type:Input}],minlength:[{type:Input}],multiple:[{type:Input}],name:[{type:Input}],passwordToggle:[{type:Input}],pattern:[{type:Input}],pickerMap:[{type:Input}],pickerValue:[{type:Input}],placeholder:[{type:Input}],readonly:[{type:Input}],required:[{type:Input}],ripple:[{type:Input}],role:[{type:Input}],rows:[{type:Input}],showIcon:[{type:Input}],showIconSvg:[{type:Input}],spellcheck:[{type:Input}],startIcon:[{type:Input}],startIconSrc:[{type:Input}],startIconSvg:[{type:Input}],step:[{type:Input}],tags:[{type:Input}],type:[{type:Input}],onChange:[{type:Output}]}});var MbscDropdown=/*#__PURE__*/function(_super){__extends(MbscDropdown,_super);function MbscDropdown(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._tag="select";return _this}MbscDropdown._name="Dropdown";MbscDropdown.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDropdown,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscDropdown.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscDropdown,selector:"mbsc-dropdown",host:{properties:{class:"_cssClass"}},usesInheritance:true,ngImport:i0,template:'\n    <label [for]="_id" [class]="_labelClass">\n      {{ s.label }}\n      <ng-content select="[mbsc-label]"></ng-content>\n    </label>\n    <span [class]="_innerClass">\n      <select\n        #input\n        (blur)="_onFormTouch($event)"\n        (change)="value = input.value"\n        [attr.autofocus]="autofocus"\n        [attr.multiple]="multiple"\n        [attr.name]="name"\n        [attr.required]="required"\n        [class]="\'mbsc-select \' + _nativeElmClass"\n        [disabled]="_disabled"\n        [id]="id || _id"\n        [value]="value"\n      >\n        <ng-content></ng-content>\n      </select>\n      <mbsc-icon [class]="_selectIconClass" [svg]="s.dropdownIcon" [theme]="s.theme"></mbsc-icon>\n      <mbsc-icon\n        *ngIf="_hasStartIcon"\n        [class]="_startIconClass"\n        [name]="s.startIcon"\n        [svg]="s.startIconSvg"\n        [theme]="s.theme"\n        (click)="_onIconClick()"\n      ></mbsc-icon>\n      <mbsc-icon\n        *ngIf="_hasEndIcon"\n        [class]="_endIconClass"\n        [name]="s.endIcon"\n        [svg]="s.endIconSvg"\n        [theme]="s.theme"\n        (click)="_onIconClick()"\n      ></mbsc-icon>\n      <span *ngIf="_hasError" [class]="_errorClass">{{ s.errorMessage }}</span>\n      <fieldset *ngIf="s.notch && s.inputStyle === \'outline\'" aria-hidden="true" [class]="_fieldSetClass">\n        <legend [class]="_legendClass">{{ s.label && s.labelStyle !== \'inline\' ? s.label : \'&nbsp;\' }}</legend>\n      </fieldset>\n      <span *ngIf="s.ripple && s.inputStyle !== \'outline\'" [class]="_rippleClass"></span>\n    </span>\n  ',isInline:true,components:[{type:MbscIcon,selector:"mbsc-icon",inputs:["name","svg"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscDropdown}(MbscInput);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDropdown,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-dropdown",template:'\n    <label [for]="_id" [class]="_labelClass">\n      {{ s.label }}\n      <ng-content select="[mbsc-label]"></ng-content>\n    </label>\n    <span [class]="_innerClass">\n      <select\n        #input\n        (blur)="_onFormTouch($event)"\n        (change)="value = input.value"\n        [attr.autofocus]="autofocus"\n        [attr.multiple]="multiple"\n        [attr.name]="name"\n        [attr.required]="required"\n        [class]="\'mbsc-select \' + _nativeElmClass"\n        [disabled]="_disabled"\n        [id]="id || _id"\n        [value]="value"\n      >\n        <ng-content></ng-content>\n      </select>\n      <mbsc-icon [class]="_selectIconClass" [svg]="s.dropdownIcon" [theme]="s.theme"></mbsc-icon>\n      <mbsc-icon\n        *ngIf="_hasStartIcon"\n        [class]="_startIconClass"\n        [name]="s.startIcon"\n        [svg]="s.startIconSvg"\n        [theme]="s.theme"\n        (click)="_onIconClick()"\n      ></mbsc-icon>\n      <mbsc-icon\n        *ngIf="_hasEndIcon"\n        [class]="_endIconClass"\n        [name]="s.endIcon"\n        [svg]="s.endIconSvg"\n        [theme]="s.theme"\n        (click)="_onIconClick()"\n      ></mbsc-icon>\n      <span *ngIf="_hasError" [class]="_errorClass">{{ s.errorMessage }}</span>\n      <fieldset *ngIf="s.notch && s.inputStyle === \'outline\'" aria-hidden="true" [class]="_fieldSetClass">\n        <legend [class]="_legendClass">{{ s.label && s.labelStyle !== \'inline\' ? s.label : \'&nbsp;\' }}</legend>\n      </fieldset>\n      <span *ngIf="s.ripple && s.inputStyle !== \'outline\'" [class]="_rippleClass"></span>\n    </span>\n  '}]}]});var MbscTextarea=/*#__PURE__*/function(_super){__extends(MbscTextarea,_super);function MbscTextarea(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._tag="textarea";return _this}MbscTextarea._name="Textarea";MbscTextarea.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTextarea,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscTextarea.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscTextarea,selector:"mbsc-textarea",host:{properties:{class:"_cssClass"}},usesInheritance:true,ngImport:i0,template:'\n    <label [for]="_id" [class]="_labelClass">\n      {{ s.label }}\n      <ng-content select="[mbsc-label]"></ng-content>\n    </label>\n    <span [class]="_innerClass">\n      <textarea\n        #input\n        [(ngModel)]="value"\n        (blur)="_onFormTouch($event)"\n        [attr.accept]="accept"\n        [attr.autocapitalize]="autocapitalize"\n        [attr.autocomplete]="autocomplete"\n        [attr.autocorrect]="autocorrect"\n        [attr.autofocus]="autofocus"\n        [attr.maxlength]="maxlength"\n        [attr.minlength]="minlength"\n        [attr.name]="name"\n        [attr.pattern]="pattern"\n        [attr.required]="required"\n        [attr.rows]="rows"\n        [attr.spellcheck]="spellcheck"\n        [class]="_nativeElmClass"\n        [disabled]="_disabled"\n        [id]="id || _id"\n        [readonly]="readonly"\n        [placeholder]="s.placeholder"\n      ></textarea>\n      <mbsc-icon\n        *ngIf="_hasStartIcon"\n        [class]="_startIconClass"\n        [name]="s.startIcon"\n        [svg]="s.startIconSvg"\n        [theme]="s.theme"\n        (click)="_onIconClick()"\n      ></mbsc-icon>\n      <mbsc-icon\n        *ngIf="_hasEndIcon"\n        [class]="_endIconClass"\n        [name]="s.endIcon"\n        [svg]="s.endIconSvg"\n        [theme]="s.theme"\n        (click)="_onIconClick()"\n      ></mbsc-icon>\n      <span *ngIf="_hasError" [class]="_errorClass">{{ s.errorMessage }}</span>\n      <fieldset *ngIf="s.notch && s.inputStyle === \'outline\'" aria-hidden="true" [class]="_fieldSetClass">\n        <legend [class]="_legendClass">{{ s.label && s.labelStyle !== \'inline\' ? s.label : \'&nbsp;\' }}</legend>\n      </fieldset>\n      <span *ngIf="s.ripple && s.inputStyle !== \'outline\'" [class]="_rippleClass"></span>\n    </span>\n  ',isInline:true,components:[{type:MbscIcon,selector:"mbsc-icon",inputs:["name","svg"]}],directives:[{type:i2.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{type:i2.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{type:i2.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{type:i2.MaxLengthValidator,selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",inputs:["maxlength"]},{type:i2.MinLengthValidator,selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",inputs:["minlength"]},{type:i2.PatternValidator,selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",inputs:["pattern"]},{type:i2.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscTextarea}(MbscInput);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTextarea,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-textarea",template:'\n    <label [for]="_id" [class]="_labelClass">\n      {{ s.label }}\n      <ng-content select="[mbsc-label]"></ng-content>\n    </label>\n    <span [class]="_innerClass">\n      <textarea\n        #input\n        [(ngModel)]="value"\n        (blur)="_onFormTouch($event)"\n        [attr.accept]="accept"\n        [attr.autocapitalize]="autocapitalize"\n        [attr.autocomplete]="autocomplete"\n        [attr.autocorrect]="autocorrect"\n        [attr.autofocus]="autofocus"\n        [attr.maxlength]="maxlength"\n        [attr.minlength]="minlength"\n        [attr.name]="name"\n        [attr.pattern]="pattern"\n        [attr.required]="required"\n        [attr.rows]="rows"\n        [attr.spellcheck]="spellcheck"\n        [class]="_nativeElmClass"\n        [disabled]="_disabled"\n        [id]="id || _id"\n        [readonly]="readonly"\n        [placeholder]="s.placeholder"\n      ></textarea>\n      <mbsc-icon\n        *ngIf="_hasStartIcon"\n        [class]="_startIconClass"\n        [name]="s.startIcon"\n        [svg]="s.startIconSvg"\n        [theme]="s.theme"\n        (click)="_onIconClick()"\n      ></mbsc-icon>\n      <mbsc-icon\n        *ngIf="_hasEndIcon"\n        [class]="_endIconClass"\n        [name]="s.endIcon"\n        [svg]="s.endIconSvg"\n        [theme]="s.theme"\n        (click)="_onIconClick()"\n      ></mbsc-icon>\n      <span *ngIf="_hasError" [class]="_errorClass">{{ s.errorMessage }}</span>\n      <fieldset *ngIf="s.notch && s.inputStyle === \'outline\'" aria-hidden="true" [class]="_fieldSetClass">\n        <legend [class]="_legendClass">{{ s.label && s.labelStyle !== \'inline\' ? s.label : \'&nbsp;\' }}</legend>\n      </fieldset>\n      <span *ngIf="s.ripple && s.inputStyle !== \'outline\'" [class]="_rippleClass"></span>\n    </span>\n  '}]}]});var MbscInputModule=/*#__PURE__*/function(){function MbscInputModule(){}MbscInputModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscInputModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscInputModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscInputModule,declarations:[InputBase,MbscDropdown,MbscInput,MbscTextarea],imports:[CommonModule,FormsModule,MbscIconModule],exports:[MbscDropdown,MbscInput,MbscTextarea]});MbscInputModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscInputModule,imports:[[CommonModule,FormsModule,MbscIconModule]]});return MbscInputModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscInputModule,decorators:[{type:NgModule,args:[{declarations:[InputBase,MbscDropdown,MbscInput,MbscTextarea],exports:[MbscDropdown,MbscInput,MbscTextarea],imports:[CommonModule,FormsModule,MbscIconModule]}]}]});var MbscPopup=/*#__PURE__*/function(_super){__extends(MbscPopup,_super);function MbscPopup(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.onButtonClick=new EventEmitter;_this.onOverlayClick=new EventEmitter;_this.onClose=new EventEmitter;_this.onClosed=new EventEmitter;_this.onKeyDown=new EventEmitter;_this.onOpen=new EventEmitter;_this.onPosition=new EventEmitter;_this.onResize=new EventEmitter;return _this}MbscPopup.prototype._updated=function(){var justOpened=this._justOpened;if(justOpened){this._active=this.vActive.nativeElement;this._content=this.vContent.nativeElement;this._limitator=this.vLimit.nativeElement;this._wrapper=this.vWrapper.nativeElement;this._popup=this.vPopup.nativeElement}_super.prototype._updated.call(this);if(justOpened&&this._ctx&&!this._ph){var wrapper=this._wrapper;var doc=getDocument(wrapper);this._ph=doc.createComment("mbsc-popup");wrapper.parentNode.insertBefore(this._ph,wrapper);this._ctx.appendChild(wrapper)}};MbscPopup.prototype._onClosed=function(){this._ph.parentNode.replaceChild(this._wrapper,this._ph);this._ph=null;_super.prototype._onClosed.call(this)};MbscPopup.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPopup,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscPopup.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscPopup,selector:"mbsc-popup",inputs:{activeElm:"activeElm",anchor:"anchor",anchorAlign:"anchorAlign",animation:"animation",ariaLabel:"ariaLabel",buttons:"buttons",buttonVariant:"buttonVariant",closeOnEsc:"closeOnEsc",closeOnOverlayClick:"closeOnOverlayClick",closeOnScroll:"closeOnScroll",contentPadding:"contentPadding",cssClass:"cssClass",disableLeftRight:"disableLeftRight",display:"display",focusElm:"focusElm",focusOnClose:"focusOnClose",focusOnOpen:"focusOnOpen",focusTrap:"focusTrap",fullScreen:"fullScreen",headerText:"headerText",height:"height",isOpen:"isOpen",maxHeight:"maxHeight",maxWidth:"maxWidth",scrollLock:"scrollLock",setActive:"setActive",showArrow:"showArrow",showOverlay:"showOverlay",windowWidth:"windowWidth",width:"width",cancelText:"cancelText",closeText:"closeText",okText:"okText",setText:"setText"},outputs:{onButtonClick:"onButtonClick",onOverlayClick:"onOverlayClick",onClose:"onClose",onClosed:"onClosed",onKeyDown:"onKeyDown",onOpen:"onOpen",onPosition:"onPosition",onResize:"onResize"},viewQueries:[{propertyName:"vActive",first:true,predicate:["active"],descendants:true},{propertyName:"vContent",first:true,predicate:["content"],descendants:true},{propertyName:"vLimit",first:true,predicate:["limit"],descendants:true},{propertyName:"vWrapper",first:true,predicate:["wrapper"],descendants:true},{propertyName:"vPopup",first:true,predicate:["popup"],descendants:true}],usesInheritance:true,ngImport:i0,template:"\n    <ng-template #ngcontent>\n      <ng-container *ngIf=\"_isVisible || !_isModal\">\n        <ng-content></ng-content>\n      </ng-container>\n    </ng-template>\n    <ng-container *ngIf=\"_isModal && _isVisible\">\n      <div\n        [class]=\"\n          'mbsc-font mbsc-flex mbsc-popup-wrapper mbsc-popup-wrapper-' +\n          s.display +\n          _theme +\n          _rtl +\n          ' ' +\n          _className +\n          (s.fullScreen ? ' mbsc-popup-wrapper-' + s.display + '-full' : '') +\n          (_touchUi ? '' : ' mbsc-popup-pointer') +\n          (_round ? ' mbsc-popup-round' : '') +\n          (_hasContext ? ' mbsc-popup-wrapper-ctx' : '') +\n          (state.isReady ? '' : ' mbsc-popup-hidden')\n        \"\n        (keydown)=\"_onKeyDown($event)\"\n        #wrapper\n      >\n        <div\n          *ngIf=\"s.showOverlay\"\n          (click)=\"_onOverlayClick()\"\n          [class]=\"\n            'mbsc-popup-overlay mbsc-popup-overlay-' +\n            s.display +\n            _theme +\n            (_isClosing ? ' mbsc-popup-overlay-out' : '') +\n            (_isOpening && state.isReady ? ' mbsc-popup-overlay-in' : '')\n          \"\n        ></div>\n        <div #limit [class]=\"'mbsc-popup-limits mbsc-popup-limits-' + s.display\" [ngStyle]=\"_limits\"></div>\n        <div\n          #popup\n          [attr.aria-label]=\"ariaLabel\"\n          [class]=\"\n            'mbsc-flex-col mbsc-popup mbsc-popup-' +\n            s.display +\n            (s.fullScreen ? '-full' : '') +\n            _theme +\n            _hb +\n            (state.bubblePos && state.showArrow && s.display === 'anchored' ? ' mbsc-popup-anchored-' + state.bubblePos : '') +\n            (_isClosing ? ' mbsc-popup-' + _animation + '-out' : '') +\n            (_isOpening && state.isReady ? ' mbsc-popup-' + _animation + '-in' : '')\n          \"\n          [ngStyle]=\"_style\"\n          (animationend)=\"_onAnimationEnd($event)\"\n          (click)=\"_onPopupClick()\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n        >\n          <div\n            *ngIf=\"s.display === 'anchored' && state.showArrow\"\n            [class]=\"'mbsc-popup-arrow-wrapper mbsc-popup-arrow-wrapper-' + state.bubblePos + _theme\"\n          >\n            <div [class]=\"'mbsc-popup-arrow mbsc-popup-arrow-' + state.bubblePos + _theme\" [ngStyle]=\"state.arrowPos!\"></div>\n          </div>\n          <div class=\"mbsc-popup-focus\" tabindex=\"-1\" #active></div>\n          <div\n            [class]=\"\n              'mbsc-flex-col mbsc-flex-1-1 mbsc-popup-body mbsc-popup-body-' +\n              s.display +\n              this._theme +\n              this._hb +\n              (s.fullScreen ? ' mbsc-popup-body-' + s.display + '-full' : '') +\n              (_round ? ' mbsc-popup-body-round' : '')\n            \"\n          >\n            <div\n              *ngIf=\"_headerText\"\n              [class]=\"\n                'mbsc-flex-none mbsc-popup-header mbsc-popup-header-' +\n                s.display +\n                _theme +\n                _hb +\n                (_buttons ? '' : ' mbsc-popup-header-no-buttons')\n              \"\n              [innerHTML]=\"_headerText\"\n            ></div>\n            <div #content [class]=\"'mbsc-flex-1-1 mbsc-popup-content' + (s.contentPadding ? ' mbsc-popup-padding' : '')\">\n              <ng-container [ngTemplateOutlet]=\"ngcontent\"></ng-container>\n            </div>\n            <div\n              *ngIf=\"_buttons\"\n              [class]=\"\n                'mbsc-flex-none mbsc-popup-buttons mbsc-popup-buttons-' +\n                s.display +\n                _theme +\n                _rtl +\n                _hb +\n                (_flexButtons ? ' mbsc-flex' : '') +\n                (s.fullScreen ? ' mbsc-popup-buttons-' + s.display + '-full' : '')\n              \"\n            >\n              <mbsc-button\n                *ngFor=\"let btn of _buttons\"\n                [color]=\"btn.color\"\n                [class]=\"\n                  'mbsc-popup-button mbsc-popup-button-' +\n                  s.display +\n                  _rtl +\n                  _hb +\n                  (_flexButtons ? ' mbsc-popup-button-flex' : '') +\n                  ' ' +\n                  (btn.cssClass || '')\n                \"\n                [disabled]=\"btn.disabled\"\n                [icon]=\"btn.icon\"\n                [theme]=\"s.theme\"\n                [themeVariant]=\"s.themeVariant\"\n                [variant]=\"btn.variant || s.buttonVariant\"\n                (click)=\"!btn.disabled && btn.handler($event)\"\n              >\n                {{ btn.text }}\n              </mbsc-button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n    <ng-container *ngIf=\"!_isModal\" [ngTemplateOutlet]=\"ngcontent\"></ng-container>\n  ",isInline:true,components:[{type:MbscButton,selector:"mbsc-button",inputs:["ariaLabel","color","disabled","endIcon","endIconSrc","endIconSvg","hidden","icon","iconSvg","iconSrc","ripple","role","startIcon","startIconSrc","startIconSvg","tabIndex","variant"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]},{type:i1$1.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscPopup}(PopupBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPopup,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,selector:"mbsc-popup",template:"\n    <ng-template #ngcontent>\n      <ng-container *ngIf=\"_isVisible || !_isModal\">\n        <ng-content></ng-content>\n      </ng-container>\n    </ng-template>\n    <ng-container *ngIf=\"_isModal && _isVisible\">\n      <div\n        [class]=\"\n          'mbsc-font mbsc-flex mbsc-popup-wrapper mbsc-popup-wrapper-' +\n          s.display +\n          _theme +\n          _rtl +\n          ' ' +\n          _className +\n          (s.fullScreen ? ' mbsc-popup-wrapper-' + s.display + '-full' : '') +\n          (_touchUi ? '' : ' mbsc-popup-pointer') +\n          (_round ? ' mbsc-popup-round' : '') +\n          (_hasContext ? ' mbsc-popup-wrapper-ctx' : '') +\n          (state.isReady ? '' : ' mbsc-popup-hidden')\n        \"\n        (keydown)=\"_onKeyDown($event)\"\n        #wrapper\n      >\n        <div\n          *ngIf=\"s.showOverlay\"\n          (click)=\"_onOverlayClick()\"\n          [class]=\"\n            'mbsc-popup-overlay mbsc-popup-overlay-' +\n            s.display +\n            _theme +\n            (_isClosing ? ' mbsc-popup-overlay-out' : '') +\n            (_isOpening && state.isReady ? ' mbsc-popup-overlay-in' : '')\n          \"\n        ></div>\n        <div #limit [class]=\"'mbsc-popup-limits mbsc-popup-limits-' + s.display\" [ngStyle]=\"_limits\"></div>\n        <div\n          #popup\n          [attr.aria-label]=\"ariaLabel\"\n          [class]=\"\n            'mbsc-flex-col mbsc-popup mbsc-popup-' +\n            s.display +\n            (s.fullScreen ? '-full' : '') +\n            _theme +\n            _hb +\n            (state.bubblePos && state.showArrow && s.display === 'anchored' ? ' mbsc-popup-anchored-' + state.bubblePos : '') +\n            (_isClosing ? ' mbsc-popup-' + _animation + '-out' : '') +\n            (_isOpening && state.isReady ? ' mbsc-popup-' + _animation + '-in' : '')\n          \"\n          [ngStyle]=\"_style\"\n          (animationend)=\"_onAnimationEnd($event)\"\n          (click)=\"_onPopupClick()\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n        >\n          <div\n            *ngIf=\"s.display === 'anchored' && state.showArrow\"\n            [class]=\"'mbsc-popup-arrow-wrapper mbsc-popup-arrow-wrapper-' + state.bubblePos + _theme\"\n          >\n            <div [class]=\"'mbsc-popup-arrow mbsc-popup-arrow-' + state.bubblePos + _theme\" [ngStyle]=\"state.arrowPos!\"></div>\n          </div>\n          <div class=\"mbsc-popup-focus\" tabindex=\"-1\" #active></div>\n          <div\n            [class]=\"\n              'mbsc-flex-col mbsc-flex-1-1 mbsc-popup-body mbsc-popup-body-' +\n              s.display +\n              this._theme +\n              this._hb +\n              (s.fullScreen ? ' mbsc-popup-body-' + s.display + '-full' : '') +\n              (_round ? ' mbsc-popup-body-round' : '')\n            \"\n          >\n            <div\n              *ngIf=\"_headerText\"\n              [class]=\"\n                'mbsc-flex-none mbsc-popup-header mbsc-popup-header-' +\n                s.display +\n                _theme +\n                _hb +\n                (_buttons ? '' : ' mbsc-popup-header-no-buttons')\n              \"\n              [innerHTML]=\"_headerText\"\n            ></div>\n            <div #content [class]=\"'mbsc-flex-1-1 mbsc-popup-content' + (s.contentPadding ? ' mbsc-popup-padding' : '')\">\n              <ng-container [ngTemplateOutlet]=\"ngcontent\"></ng-container>\n            </div>\n            <div\n              *ngIf=\"_buttons\"\n              [class]=\"\n                'mbsc-flex-none mbsc-popup-buttons mbsc-popup-buttons-' +\n                s.display +\n                _theme +\n                _rtl +\n                _hb +\n                (_flexButtons ? ' mbsc-flex' : '') +\n                (s.fullScreen ? ' mbsc-popup-buttons-' + s.display + '-full' : '')\n              \"\n            >\n              <mbsc-button\n                *ngFor=\"let btn of _buttons\"\n                [color]=\"btn.color\"\n                [class]=\"\n                  'mbsc-popup-button mbsc-popup-button-' +\n                  s.display +\n                  _rtl +\n                  _hb +\n                  (_flexButtons ? ' mbsc-popup-button-flex' : '') +\n                  ' ' +\n                  (btn.cssClass || '')\n                \"\n                [disabled]=\"btn.disabled\"\n                [icon]=\"btn.icon\"\n                [theme]=\"s.theme\"\n                [themeVariant]=\"s.themeVariant\"\n                [variant]=\"btn.variant || s.buttonVariant\"\n                (click)=\"!btn.disabled && btn.handler($event)\"\n              >\n                {{ btn.text }}\n              </mbsc-button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n    <ng-container *ngIf=\"!_isModal\" [ngTemplateOutlet]=\"ngcontent\"></ng-container>\n  "}]}],propDecorators:{vActive:[{type:ViewChild,args:["active",{static:false}]}],vContent:[{type:ViewChild,args:["content",{static:false}]}],vLimit:[{type:ViewChild,args:["limit",{static:false}]}],vWrapper:[{type:ViewChild,args:["wrapper",{static:false}]}],vPopup:[{type:ViewChild,args:["popup",{static:false}]}],activeElm:[{type:Input}],anchor:[{type:Input}],anchorAlign:[{type:Input}],animation:[{type:Input}],ariaLabel:[{type:Input}],buttons:[{type:Input}],buttonVariant:[{type:Input}],closeOnEsc:[{type:Input}],closeOnOverlayClick:[{type:Input}],closeOnScroll:[{type:Input}],contentPadding:[{type:Input}],cssClass:[{type:Input}],disableLeftRight:[{type:Input}],display:[{type:Input}],focusElm:[{type:Input}],focusOnClose:[{type:Input}],focusOnOpen:[{type:Input}],focusTrap:[{type:Input}],fullScreen:[{type:Input}],headerText:[{type:Input}],height:[{type:Input}],isOpen:[{type:Input}],maxHeight:[{type:Input}],maxWidth:[{type:Input}],scrollLock:[{type:Input}],setActive:[{type:Input}],showArrow:[{type:Input}],showOverlay:[{type:Input}],windowWidth:[{type:Input}],width:[{type:Input}],cancelText:[{type:Input}],closeText:[{type:Input}],okText:[{type:Input}],setText:[{type:Input}],onButtonClick:[{type:Output}],onOverlayClick:[{type:Output}],onClose:[{type:Output}],onClosed:[{type:Output}],onKeyDown:[{type:Output}],onOpen:[{type:Output}],onPosition:[{type:Output}],onResize:[{type:Output}]}});var MbscPrompt=/*#__PURE__*/function(){function MbscPrompt(){this.value=""}MbscPrompt.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPrompt,deps:[],target:i0.ɵɵFactoryTarget.Component});MbscPrompt.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscPrompt,selector:"mbsc-prompt",inputs:{inputType:"inputType",label:"label",message:"message",placeholder:"placeholder",title:"title",props:"props",value:"value"},viewQueries:[{propertyName:"popup",first:true,predicate:["popup"],descendants:true}],ngImport:i0,template:'\n    <mbsc-popup #popup [options]="props">\n      <div class="mbsc-alert-content">\n        <h2 *ngIf="title" class="mbsc-alert-title">{{ title }}</h2>\n        <p class="mbsc-alert-message">{{ message || \'\' }}</p>\n        <mbsc-input\n          class="mbsc-prompt-input"\n          [label]="label"\n          [placeholder]="placeholder || \'\'"\n          [theme]="props.theme"\n          [themeVariant]="props.themeVariant"\n          [type]="inputType"\n          [(value)]="value"\n        ></mbsc-input>\n      </div>\n    </mbsc-popup>\n  ',isInline:true,components:[{type:MbscPopup,selector:"mbsc-popup",inputs:["activeElm","anchor","anchorAlign","animation","ariaLabel","buttons","buttonVariant","closeOnEsc","closeOnOverlayClick","closeOnScroll","contentPadding","cssClass","disableLeftRight","display","focusElm","focusOnClose","focusOnOpen","focusTrap","fullScreen","headerText","height","isOpen","maxHeight","maxWidth","scrollLock","setActive","showArrow","showOverlay","windowWidth","width","cancelText","closeText","okText","setText"],outputs:["onButtonClick","onOverlayClick","onClose","onClosed","onKeyDown","onOpen","onPosition","onResize"]},{type:MbscInput,selector:"mbsc-input",inputs:["ariaExpanded","ariaHaspopup","ariaLabel","accept","autocapitalize","autocomplete","autocorrect","autofocus","disabled","dropdown","endIcon","endIconSrc","endIconSvg","error","errorMessage","hideIcon","hideIconSvg","id","inputClass","inputStyle","label","labelStyle","max","maxlength","min","minlength","multiple","name","passwordToggle","pattern","pickerMap","pickerValue","placeholder","readonly","required","ripple","role","rows","showIcon","showIconSvg","spellcheck","startIcon","startIconSrc","startIconSvg","step","tags","type"],outputs:["onChange"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscPrompt}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPrompt,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,selector:"mbsc-prompt",template:'\n    <mbsc-popup #popup [options]="props">\n      <div class="mbsc-alert-content">\n        <h2 *ngIf="title" class="mbsc-alert-title">{{ title }}</h2>\n        <p class="mbsc-alert-message">{{ message || \'\' }}</p>\n        <mbsc-input\n          class="mbsc-prompt-input"\n          [label]="label"\n          [placeholder]="placeholder || \'\'"\n          [theme]="props.theme"\n          [themeVariant]="props.themeVariant"\n          [type]="inputType"\n          [(value)]="value"\n        ></mbsc-input>\n      </div>\n    </mbsc-popup>\n  '}]}],propDecorators:{popup:[{type:ViewChild,args:["popup",{static:false}]}],inputType:[{type:Input}],label:[{type:Input}],message:[{type:Input}],placeholder:[{type:Input}],title:[{type:Input}],props:[{type:Input}],value:[{type:Input}]}});var MbscSnackbar=/*#__PURE__*/function(){function MbscSnackbar(){}MbscSnackbar.prototype.onButtonClick=function(){this.popup.close();if(this.button&&this.button.action){this.button.action()}};MbscSnackbar.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSnackbar,deps:[],target:i0.ɵɵFactoryTarget.Component});MbscSnackbar.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscSnackbar,selector:"mbsc-snackbar",inputs:{button:"button",message:"message",props:"props"},viewQueries:[{propertyName:"popup",first:true,predicate:["popup"],descendants:true}],ngImport:i0,template:'\n    <mbsc-popup #popup [options]="props">\n      <div class="mbsc-snackbar-cont mbsc-toast-background mbsc-flex">\n        <div class="mbsc-snackbar-message mbsc-flex-1-1">{{ message }}</div>\n        <mbsc-button\n          *ngIf="button"\n          class="mbsc-snackbar-button"\n          [icon]="button.icon"\n          [theme]="props.theme"\n          [themeVariant]="props.themeVariant"\n          variant="flat"\n          (click)="onButtonClick()"\n        >\n          {{ button.text }}\n        </mbsc-button>\n      </div>\n    </mbsc-popup>\n  ',isInline:true,components:[{type:MbscPopup,selector:"mbsc-popup",inputs:["activeElm","anchor","anchorAlign","animation","ariaLabel","buttons","buttonVariant","closeOnEsc","closeOnOverlayClick","closeOnScroll","contentPadding","cssClass","disableLeftRight","display","focusElm","focusOnClose","focusOnOpen","focusTrap","fullScreen","headerText","height","isOpen","maxHeight","maxWidth","scrollLock","setActive","showArrow","showOverlay","windowWidth","width","cancelText","closeText","okText","setText"],outputs:["onButtonClick","onOverlayClick","onClose","onClosed","onKeyDown","onOpen","onPosition","onResize"]},{type:MbscButton,selector:"mbsc-button",inputs:["ariaLabel","color","disabled","endIcon","endIconSrc","endIconSvg","hidden","icon","iconSvg","iconSrc","ripple","role","startIcon","startIconSrc","startIconSvg","tabIndex","variant"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscSnackbar}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSnackbar,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,selector:"mbsc-snackbar",template:'\n    <mbsc-popup #popup [options]="props">\n      <div class="mbsc-snackbar-cont mbsc-toast-background mbsc-flex">\n        <div class="mbsc-snackbar-message mbsc-flex-1-1">{{ message }}</div>\n        <mbsc-button\n          *ngIf="button"\n          class="mbsc-snackbar-button"\n          [icon]="button.icon"\n          [theme]="props.theme"\n          [themeVariant]="props.themeVariant"\n          variant="flat"\n          (click)="onButtonClick()"\n        >\n          {{ button.text }}\n        </mbsc-button>\n      </div>\n    </mbsc-popup>\n  '}]}],propDecorators:{popup:[{type:ViewChild,args:["popup",{static:false}]}],button:[{type:Input}],message:[{type:Input}],props:[{type:Input}]}});var MbscPopupModule=/*#__PURE__*/function(){function MbscPopupModule(){}MbscPopupModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPopupModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscPopupModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPopupModule,declarations:[MbscPopup,MbscPrompt,MbscSnackbar,PopupBase],imports:[CommonModule,MbscButtonModule,MbscInputModule],exports:[MbscPopup,MbscPrompt,MbscSnackbar]});MbscPopupModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPopupModule,imports:[[CommonModule,MbscButtonModule,MbscInputModule]]});return MbscPopupModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPopupModule,decorators:[{type:NgModule,args:[{declarations:[MbscPopup,MbscPrompt,MbscSnackbar,PopupBase],entryComponents:[MbscPopup,MbscSnackbar,MbscPrompt],exports:[MbscPopup,MbscPrompt,MbscSnackbar],imports:[CommonModule,MbscButtonModule,MbscInputModule]}]}]});var MbscCalendarLabel=/*#__PURE__*/function(_super){__extends(MbscCalendarLabel,_super);function MbscCalendarLabel(){return _super!==null&&_super.apply(this,arguments)||this}MbscCalendarLabel.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarLabel,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscCalendarLabel.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscCalendarLabel,selector:"mbsc-calendar-label",inputs:{amText:"amText",contentTemplate:"contentTemplate",count:"count",dataTimezone:"dataTimezone",date:"date",displayTimezone:"displayTimezone",drag:"drag",hidden:"hidden",firstDay:"firstDay",event:"event",editMode:"editMode",exclusiveEndDates:"exclusiveEndDates",inactive:"inactive",isActiveMonth:"isActiveMonth",isExact:"isExact",label:"label",position:"position",resize:"resize",hideLabel:"hideLabel",id:"id",isPicker:"isPicker",isUpdate:"isUpdate",lastDay:"lastDay",more:"more",pmText:"pmText",resourcesMap:"resourcesMap",selected:"selected",showEventTooltip:"showEventTooltip",showText:"showText",template:"template",timeFormat:"timeFormat",timezonePlugin:"timezonePlugin",onClick:"onClick",onDoubleClick:"onDoubleClick",onRightClick:"onRightClick",onHoverIn:"onHoverIn",onHoverOut:"onHoverOut",onDelete:"onDelete",onDragStart:"onDragStart",onDragMove:"onDragMove",onDragEnd:"onDragEnd",onDragModeOn:"onDragModeOn",onDragModeOff:"onDragModeOff"},host:{listeners:{click:"_onClick($event)",contextmenu:"_onRightClick($event)"},properties:{"attr.role":"showText ? 'button' : null","attr.tabindex":"_tabIndex","attr.title":"_title",style:"position"},classAttribute:"mbsc-calendar-label-wrapper"},usesInheritance:true,ngImport:i0,template:' <div [attr.data-id]="showText && event ? event.id : null" [class]="_cssClass" [style.color]="_color">\n    <div\n      *ngIf="_hasResizeStart && event && event.editable !== false"\n      [class]="\n        \'mbsc-calendar-label-resize mbsc-calendar-label-resize-start\' + _rtl + (isUpdate ? \' mbsc-calendar-label-resize-start-touch\' : \'\')\n      "\n    ></div>\n    <div\n      *ngIf="_hasResizeEnd && event && event.editable !== false"\n      [class]="\n        \'mbsc-calendar-label-resize mbsc-calendar-label-resize-end\' + _rtl + (isUpdate ? \' mbsc-calendar-label-resize-start-touch\' : \'\')\n      "\n    ></div>\n    <div *ngIf="showText && !more && !template" [class]="\'mbsc-calendar-label-background\' + _theme"></div>\n    <div *ngIf="!template || !!more" [class]="\'mbsc-calendar-label-inner\' + _theme" [style.color]="_textColor">\n      <div\n        *ngIf="_html"\n        aria-hidden="true"\n        [class]="\'mbsc-calendar-label-text\' + _theme"\n        [style.color]="event && event.textColor"\n        [innerHTML]="_html"\n      ></div>\n      <div *ngIf="!_html" [class]="\'mbsc-calendar-label-text\' + _theme" [style.color]="event && event.textColor">\n        <ng-template [ngTemplateOutlet]="contentTemplate!" [ngTemplateOutletContext]="{ $implicit: _data }"></ng-template>\n      </div>\n      <div *ngIf="s.label" class="mbsc-hidden-content">{{ s.label }}</div>\n    </div>\n    <ng-template *ngIf="showText && !more && template" [ngTemplateOutlet]="template" [ngTemplateOutletContext]="{ $implicit: _data }">\n    </ng-template>\n  </div>',isInline:true,directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscCalendarLabel}(CalendarLabelBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarLabel,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"(click)":"_onClick($event)","(contextmenu)":"_onRightClick($event)","[attr.role]":"showText ? 'button' : null","[attr.tabindex]":"_tabIndex","[attr.title]":"_title","[style]":"position",class:"mbsc-calendar-label-wrapper"},selector:"mbsc-calendar-label",template:' <div [attr.data-id]="showText && event ? event.id : null" [class]="_cssClass" [style.color]="_color">\n    <div\n      *ngIf="_hasResizeStart && event && event.editable !== false"\n      [class]="\n        \'mbsc-calendar-label-resize mbsc-calendar-label-resize-start\' + _rtl + (isUpdate ? \' mbsc-calendar-label-resize-start-touch\' : \'\')\n      "\n    ></div>\n    <div\n      *ngIf="_hasResizeEnd && event && event.editable !== false"\n      [class]="\n        \'mbsc-calendar-label-resize mbsc-calendar-label-resize-end\' + _rtl + (isUpdate ? \' mbsc-calendar-label-resize-start-touch\' : \'\')\n      "\n    ></div>\n    <div *ngIf="showText && !more && !template" [class]="\'mbsc-calendar-label-background\' + _theme"></div>\n    <div *ngIf="!template || !!more" [class]="\'mbsc-calendar-label-inner\' + _theme" [style.color]="_textColor">\n      <div\n        *ngIf="_html"\n        aria-hidden="true"\n        [class]="\'mbsc-calendar-label-text\' + _theme"\n        [style.color]="event && event.textColor"\n        [innerHTML]="_html"\n      ></div>\n      <div *ngIf="!_html" [class]="\'mbsc-calendar-label-text\' + _theme" [style.color]="event && event.textColor">\n        <ng-template [ngTemplateOutlet]="contentTemplate!" [ngTemplateOutletContext]="{ $implicit: _data }"></ng-template>\n      </div>\n      <div *ngIf="s.label" class="mbsc-hidden-content">{{ s.label }}</div>\n    </div>\n    <ng-template *ngIf="showText && !more && template" [ngTemplateOutlet]="template" [ngTemplateOutletContext]="{ $implicit: _data }">\n    </ng-template>\n  </div>'}]}],propDecorators:{amText:[{type:Input}],contentTemplate:[{type:Input}],count:[{type:Input}],dataTimezone:[{type:Input}],date:[{type:Input}],displayTimezone:[{type:Input}],drag:[{type:Input}],hidden:[{type:Input}],firstDay:[{type:Input}],event:[{type:Input}],editMode:[{type:Input}],exclusiveEndDates:[{type:Input}],inactive:[{type:Input}],isActiveMonth:[{type:Input}],isExact:[{type:Input}],label:[{type:Input}],position:[{type:Input}],resize:[{type:Input}],hideLabel:[{type:Input}],id:[{type:Input}],isPicker:[{type:Input}],isUpdate:[{type:Input}],lastDay:[{type:Input}],more:[{type:Input}],pmText:[{type:Input}],resourcesMap:[{type:Input}],selected:[{type:Input}],showEventTooltip:[{type:Input}],showText:[{type:Input}],template:[{type:Input}],timeFormat:[{type:Input}],timezonePlugin:[{type:Input}],onClick:[{type:Input}],onDoubleClick:[{type:Input}],onRightClick:[{type:Input}],onHoverIn:[{type:Input}],onHoverOut:[{type:Input}],onDelete:[{type:Input}],onDragStart:[{type:Input}],onDragMove:[{type:Input}],onDragEnd:[{type:Input}],onDragModeOn:[{type:Input}],onDragModeOff:[{type:Input}]}});var MbscCalendarDay=/*#__PURE__*/function(_super){__extends(MbscCalendarDay,_super);function MbscCalendarDay(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._computeEventResize=computeEventResize;return _this}Object.defineProperty(MbscCalendarDay.prototype,"vBtn",{set:function(btn){this._btn=btn&&btn.nativeElement},enumerable:false,configurable:true});MbscCalendarDay.prototype._getLabelKey=function(index,label){return label.id};MbscCalendarDay.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarDay,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscCalendarDay.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscCalendarDay,selector:"mbsc-calendar-day",inputs:{active:"active",amText:"amText",clickToCreate:"clickToCreate",colors:"colors",dataTimezone:"dataTimezone",date:"date",day:"day",dayTemplate:"dayTemplate",dayContentTemplate:"dayContentTemplate",disabled:"disabled",display:"display",displayTimezone:"displayTimezone",dragToCreate:"dragToCreate",dragToResize:"dragToResize",dragToMove:"dragToMove",eventText:"eventText",events:"events",eventsText:"eventsText",exclusiveEndDates:"exclusiveEndDates",firstDay:"firstDay",hasMarks:"hasMarks",hoverEnd:"hoverEnd",hoverStart:"hoverStart",isActiveMonth:"isActiveMonth",isPicker:"isPicker",labels:"labels",labelTemplate:"labelTemplate",labelContentTemplate:"labelContentTemplate",dragData:"dragData",marks:"marks",month:"month",monthShort:"monthShort",outer:"outer",pmText:"pmText",rangeEnd:"rangeEnd",rangeStart:"rangeStart",resourcesMap:"resourcesMap",selected:"selected",selectedEventsMap:"selectedEventsMap",showEventTooltip:"showEventTooltip",text:"text",timeFormat:"timeFormat",timezonePlugin:"timezonePlugin",todayText:"todayText",type:"type",year:"year",onDayClick:"onDayClick",onDayDoubleClick:"onDayDoubleClick",onDayRightClick:"onDayRightClick",onHoverIn:"onHoverIn",onHoverOut:"onHoverOut",onLabelClick:"onLabelClick",onLabelDoubleClick:"onLabelDoubleClick",onLabelRightClick:"onLabelRightClick",onLabelHoverIn:"onLabelHoverIn",onLabelHoverOut:"onLabelHoverOut",onLabelDelete:"onLabelDelete",onLabelUpdateStart:"onLabelUpdateStart",onLabelUpdateMove:"onLabelUpdateMove",onLabelUpdateEnd:"onLabelUpdateEnd",onLabelUpdateModeOn:"onLabelUpdateModeOn",onLabelUpdateModeOff:"onLabelUpdateModeOff"},host:{listeners:{click:"_onClick($event)",contextmenu:"_onRightClick($event)"},properties:{class:"_cssClass","style.backgroundColor":'_cellStyles ? _cellStyles.backgroundColor : ""',"style.color":'_cellStyles ? _cellStyles.color : ""'}},viewQueries:[{propertyName:"vBtn",first:true,predicate:["btn"],descendants:true,read:ElementRef}],usesInheritance:true,ngImport:i0,template:'<div [innerHTML]="textParam"></div>\n    <div\n      [class]="\n        \'mbsc-calendar-cell-inner mbsc-calendar-\' +\n        s.type +\n        \'-inner\' +\n        _theme +\n        (s.type === \'day\' ? \'\' : _hb) +\n        (s.display ? \'\' : \' mbsc-calendar-day-hidden\')\n      "\n    >\n      <ng-template *ngIf="dayTemplate" [ngTemplateOutlet]="dayTemplate" [ngTemplateOutletContext]="{ $implicit: _data }"></ng-template>\n\n      <div *ngIf="s.text === 1" aria-hidden="true" [class]="\'mbsc-calendar-month-name\' + _theme + _rtl">\n        {{ s.monthShort }}\n      </div>\n      <div\n        #btn\n        *ngIf="!dayTemplate"\n        [attr.aria-describedby]="s.isActiveMonth ? \'mbsc-calendar-day-desc-\' + s.date : null"\n        [attr.aria-disabled]="s.disabled ? \'true\' : null"\n        [attr.aria-label]="_ariaLabel"\n        [attr.aria-pressed]="s.selected"\n        [attr.tabindex]="s.disabled ? null : s.active ? 0 : -1"\n        role="button"\n        [class]="\'mbsc-calendar-cell-text mbsc-calendar-\' + s.type + \'-text\' + _theme + _todayClass"\n        [ngStyle]="_circleStyles"\n      >\n        {{ s.text }}\n      </div>\n\n      <div *ngIf="s.marks && !dayTemplate">\n        <div [class]="\'mbsc-calendar-marks\' + _theme + _rtl">\n          <div\n            *ngFor="let mark of s.marks; trackBy: _getKey"\n            [class]="\'mbsc-calendar-mark \' + (mark.markCssClass || \'\') + _theme"\n            [style.background]="mark.color"\n          ></div>\n        </div>\n      </div>\n\n      <ng-template *ngIf="dayContentTemplate" [ngTemplateOutlet]="dayContentTemplate" [ngTemplateOutletContext]="{ $implicit: _data }">\n      </ng-template>\n\n      <div *ngIf="s.labels">\n        <div *ngIf="_draggedLabelOrig && _draggedLabelOrig.event" [class]="\'mbsc-calendar-labels mbsc-calendar-labels-dragging\'">\n          <mbsc-calendar-label\n            [amText]="s.amText"\n            [date]="s.date"\n            [dataTimezone]="dataTimezone"\n            [displayTimezone]="displayTimezone"\n            [drag]="s.dragToMove"\n            [resize]="_computeEventResize(_draggedLabelOrig.event.resize, s.dragToResize)"\n            [event]="_draggedLabelOrig.event"\n            [exclusiveEndDates]="exclusiveEndDates"\n            [firstDay]="s.firstDay"\n            [hidden]="!!s.dragData!.draggedDates"\n            [isExact]="_draggedLabelOrig.isExact"\n            [isUpdate]="true"\n            [position]="_draggedLabelOrig.position"\n            [pmText]="s.pmText"\n            [resourcesMap]="s.resourcesMap"\n            [rtl]="s.rtl"\n            [showEventTooltip]="s.showEventTooltip"\n            [showText]="true"\n            [theme]="s.theme"\n            [timeFormat]="s.timeFormat"\n            [timezonePlugin]="timezonePlugin"\n            [template]="labelTemplate"\n            [contentTemplate]="labelContentTemplate"\n            [onClick]="_onLabelClick"\n            [onDoubleClick]="_onLabelDoubleClick"\n            [onRightClick]="_onLabelRightClick"\n            [onHoverIn]="_onLabelHoverIn"\n            [onHoverOut]="_onLabelHoverOut"\n            [onDelete]="s.onLabelDelete"\n            [onDragStart]="s.onLabelUpdateStart"\n            [onDragMove]="s.onLabelUpdateMove"\n            [onDragEnd]="s.onLabelUpdateEnd"\n            [onDragModeOn]="s.onLabelUpdateModeOn"\n            [onDragModeOff]="s.onLabelUpdateModeOff"\n          >\n          </mbsc-calendar-label>\n        </div>\n\n        <div *ngIf="_draggedLabel && _draggedLabel.event" [class]="\'mbsc-calendar-labels mbsc-calendar-labels-dragging\'">\n          <mbsc-calendar-label\n            [amText]="s.amText"\n            [date]="s.date"\n            [dataTimezone]="dataTimezone"\n            [displayTimezone]="displayTimezone"\n            [drag]="s.dragToMove"\n            [resize]="_computeEventResize(_draggedLabel.event.resize, s.dragToResize)"\n            [event]="_draggedLabel.event"\n            [exclusiveEndDates]="exclusiveEndDates"\n            [firstDay]="s.firstDay"\n            [isExact]="_draggedLabel.isExact"\n            [isUpdate]="true"\n            [pmText]="s.pmText"\n            [position]="_draggedLabel.position"\n            [resourcesMap]="s.resourcesMap"\n            [rtl]="s.rtl"\n            [showEventTooltip]="s.showEventTooltip"\n            [showText]="true"\n            [theme]="s.theme"\n            [timeFormat]="s.timeFormat"\n            [timezonePlugin]="timezonePlugin"\n            [template]="labelTemplate"\n            [contentTemplate]="labelContentTemplate"\n            [onClick]="_onLabelClick"\n            [onDoubleClick]="_onLabelDoubleClick"\n            [onRightClick]="_onLabelRightClick"\n            [onHoverIn]="_onLabelHoverIn"\n            [onHoverOut]="_onLabelHoverOut"\n            [onDelete]="s.onLabelDelete"\n            [onDragStart]="s.onLabelUpdateStart"\n            [onDragMove]="s.onLabelUpdateMove"\n            [onDragEnd]="s.onLabelUpdateEnd"\n            [onDragModeOn]="s.onLabelUpdateModeOn"\n            [onDragModeOff]="s.onLabelUpdateModeOff"\n          >\n          </mbsc-calendar-label>\n        </div>\n\n        <div [attr.id]="s.isActiveMonth ? \'mbsc-calendar-day-desc-\' + s.date : null" class="mbsc-calendar-labels">\n          <ng-container *ngFor="let labels of s.labels.data; trackBy: _getKey">\n            <div class="mbsc-calendar-labels-row">\n              <div *ngIf="!labels.length" class="mbsc-calendar-text mbsc-calendar-text-placeholder"></div>\n              <ng-container *ngFor="let label of labels; trackBy: _getLabelKey">\n                <mbsc-calendar-label\n                  *ngIf="label.more || label.count"\n                  [count]="label.count ? label.count + \' \' + (label.count > 1 ? s.eventsText : s.eventText) : undefined"\n                  [id]="label.id"\n                  [isActiveMonth]="isActiveMonth"\n                  [label]="label.label"\n                  [more]="label.more"\n                  [position]="label.position"\n                  [rtl]="s.rtl"\n                  [theme]="s.theme"\n                  [onClick]="_onLabelClick"\n                  [onDoubleClick]="_onLabelDoubleClick"\n                  [onRightClick]="_onLabelRightClick"\n                  [onHoverIn]="_onLabelHoverIn"\n                  [onHoverOut]="_onLabelHoverOut"\n                  [showText]="true"\n                >\n                </mbsc-calendar-label>\n\n                <mbsc-calendar-label\n                  *ngIf="label.event"\n                  [amText]="s.amText"\n                  [date]="s.date"\n                  [dataTimezone]="dataTimezone"\n                  [displayTimezone]="displayTimezone"\n                  [drag]="s.dragToMove"\n                  [resize]="_computeEventResize(label.event!.resize, s.dragToResize)"\n                  [event]="label.event"\n                  [exclusiveEndDates]="exclusiveEndDates"\n                  [firstDay]="s.firstDay"\n                  [id]="label.id"\n                  [inactive]="label.event && s.dragData && s.dragData.draggedEvent && label.event.id === s.dragData.draggedEvent.id"\n                  [isActiveMonth]="isActiveMonth"\n                  [isExact]="label.isExact"\n                  [isPicker]="s.isPicker"\n                  [label]="label.label"\n                  [position]="label.position"\n                  [pmText]="s.pmText"\n                  [resourcesMap]="s.resourcesMap"\n                  [rtl]="s.rtl"\n                  [selected]="label.event && selectedEventsMap && !!(selectedEventsMap[label.id] || selectedEventsMap[label.event.id!])"\n                  [showText]="label.showText"\n                  [showEventTooltip]="s.showEventTooltip"\n                  [theme]="s.theme"\n                  [timeFormat]="s.timeFormat"\n                  [timezonePlugin]="timezonePlugin"\n                  [template]="labelTemplate"\n                  [contentTemplate]="labelContentTemplate"\n                  [onClick]="_onLabelClick"\n                  [onDoubleClick]="_onLabelDoubleClick"\n                  [onRightClick]="_onLabelRightClick"\n                  [onHoverIn]="_onLabelHoverIn"\n                  [onHoverOut]="_onLabelHoverOut"\n                  [onDelete]="s.onLabelDelete"\n                  [onDragStart]="s.onLabelUpdateStart"\n                  [onDragMove]="s.onLabelUpdateMove"\n                  [onDragEnd]="s.onLabelUpdateEnd"\n                  [onDragModeOn]="s.onLabelUpdateModeOn"\n                  [onDragModeOff]="s.onLabelUpdateModeOff"\n                >\n                </mbsc-calendar-label>\n              </ng-container>\n            </div>\n          </ng-container>\n        </div>\n        <div class="mbsc-calendar-text mbsc-calendar-text-placeholder"></div>\n      </div>\n    </div> ',isInline:true,components:[{type:MbscCalendarLabel,selector:"mbsc-calendar-label",inputs:["amText","contentTemplate","count","dataTimezone","date","displayTimezone","drag","hidden","firstDay","event","editMode","exclusiveEndDates","inactive","isActiveMonth","isExact","label","position","resize","hideLabel","id","isPicker","isUpdate","lastDay","more","pmText","resourcesMap","selected","showEventTooltip","showText","template","timeFormat","timezonePlugin","onClick","onDoubleClick","onRightClick","onHoverIn","onHoverOut","onDelete","onDragStart","onDragMove","onDragEnd","onDragModeOn","onDragModeOff"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:i1$1.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]},{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscCalendarDay}(CalendarDayBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarDay,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"(click)":"_onClick($event)","(contextmenu)":"_onRightClick($event)","[class]":"_cssClass","[style.backgroundColor]":'_cellStyles ? _cellStyles.backgroundColor : ""',"[style.color]":'_cellStyles ? _cellStyles.color : ""'},selector:"mbsc-calendar-day",template:'<div [innerHTML]="textParam"></div>\n    <div\n      [class]="\n        \'mbsc-calendar-cell-inner mbsc-calendar-\' +\n        s.type +\n        \'-inner\' +\n        _theme +\n        (s.type === \'day\' ? \'\' : _hb) +\n        (s.display ? \'\' : \' mbsc-calendar-day-hidden\')\n      "\n    >\n      <ng-template *ngIf="dayTemplate" [ngTemplateOutlet]="dayTemplate" [ngTemplateOutletContext]="{ $implicit: _data }"></ng-template>\n\n      <div *ngIf="s.text === 1" aria-hidden="true" [class]="\'mbsc-calendar-month-name\' + _theme + _rtl">\n        {{ s.monthShort }}\n      </div>\n      <div\n        #btn\n        *ngIf="!dayTemplate"\n        [attr.aria-describedby]="s.isActiveMonth ? \'mbsc-calendar-day-desc-\' + s.date : null"\n        [attr.aria-disabled]="s.disabled ? \'true\' : null"\n        [attr.aria-label]="_ariaLabel"\n        [attr.aria-pressed]="s.selected"\n        [attr.tabindex]="s.disabled ? null : s.active ? 0 : -1"\n        role="button"\n        [class]="\'mbsc-calendar-cell-text mbsc-calendar-\' + s.type + \'-text\' + _theme + _todayClass"\n        [ngStyle]="_circleStyles"\n      >\n        {{ s.text }}\n      </div>\n\n      <div *ngIf="s.marks && !dayTemplate">\n        <div [class]="\'mbsc-calendar-marks\' + _theme + _rtl">\n          <div\n            *ngFor="let mark of s.marks; trackBy: _getKey"\n            [class]="\'mbsc-calendar-mark \' + (mark.markCssClass || \'\') + _theme"\n            [style.background]="mark.color"\n          ></div>\n        </div>\n      </div>\n\n      <ng-template *ngIf="dayContentTemplate" [ngTemplateOutlet]="dayContentTemplate" [ngTemplateOutletContext]="{ $implicit: _data }">\n      </ng-template>\n\n      <div *ngIf="s.labels">\n        <div *ngIf="_draggedLabelOrig && _draggedLabelOrig.event" [class]="\'mbsc-calendar-labels mbsc-calendar-labels-dragging\'">\n          <mbsc-calendar-label\n            [amText]="s.amText"\n            [date]="s.date"\n            [dataTimezone]="dataTimezone"\n            [displayTimezone]="displayTimezone"\n            [drag]="s.dragToMove"\n            [resize]="_computeEventResize(_draggedLabelOrig.event.resize, s.dragToResize)"\n            [event]="_draggedLabelOrig.event"\n            [exclusiveEndDates]="exclusiveEndDates"\n            [firstDay]="s.firstDay"\n            [hidden]="!!s.dragData!.draggedDates"\n            [isExact]="_draggedLabelOrig.isExact"\n            [isUpdate]="true"\n            [position]="_draggedLabelOrig.position"\n            [pmText]="s.pmText"\n            [resourcesMap]="s.resourcesMap"\n            [rtl]="s.rtl"\n            [showEventTooltip]="s.showEventTooltip"\n            [showText]="true"\n            [theme]="s.theme"\n            [timeFormat]="s.timeFormat"\n            [timezonePlugin]="timezonePlugin"\n            [template]="labelTemplate"\n            [contentTemplate]="labelContentTemplate"\n            [onClick]="_onLabelClick"\n            [onDoubleClick]="_onLabelDoubleClick"\n            [onRightClick]="_onLabelRightClick"\n            [onHoverIn]="_onLabelHoverIn"\n            [onHoverOut]="_onLabelHoverOut"\n            [onDelete]="s.onLabelDelete"\n            [onDragStart]="s.onLabelUpdateStart"\n            [onDragMove]="s.onLabelUpdateMove"\n            [onDragEnd]="s.onLabelUpdateEnd"\n            [onDragModeOn]="s.onLabelUpdateModeOn"\n            [onDragModeOff]="s.onLabelUpdateModeOff"\n          >\n          </mbsc-calendar-label>\n        </div>\n\n        <div *ngIf="_draggedLabel && _draggedLabel.event" [class]="\'mbsc-calendar-labels mbsc-calendar-labels-dragging\'">\n          <mbsc-calendar-label\n            [amText]="s.amText"\n            [date]="s.date"\n            [dataTimezone]="dataTimezone"\n            [displayTimezone]="displayTimezone"\n            [drag]="s.dragToMove"\n            [resize]="_computeEventResize(_draggedLabel.event.resize, s.dragToResize)"\n            [event]="_draggedLabel.event"\n            [exclusiveEndDates]="exclusiveEndDates"\n            [firstDay]="s.firstDay"\n            [isExact]="_draggedLabel.isExact"\n            [isUpdate]="true"\n            [pmText]="s.pmText"\n            [position]="_draggedLabel.position"\n            [resourcesMap]="s.resourcesMap"\n            [rtl]="s.rtl"\n            [showEventTooltip]="s.showEventTooltip"\n            [showText]="true"\n            [theme]="s.theme"\n            [timeFormat]="s.timeFormat"\n            [timezonePlugin]="timezonePlugin"\n            [template]="labelTemplate"\n            [contentTemplate]="labelContentTemplate"\n            [onClick]="_onLabelClick"\n            [onDoubleClick]="_onLabelDoubleClick"\n            [onRightClick]="_onLabelRightClick"\n            [onHoverIn]="_onLabelHoverIn"\n            [onHoverOut]="_onLabelHoverOut"\n            [onDelete]="s.onLabelDelete"\n            [onDragStart]="s.onLabelUpdateStart"\n            [onDragMove]="s.onLabelUpdateMove"\n            [onDragEnd]="s.onLabelUpdateEnd"\n            [onDragModeOn]="s.onLabelUpdateModeOn"\n            [onDragModeOff]="s.onLabelUpdateModeOff"\n          >\n          </mbsc-calendar-label>\n        </div>\n\n        <div [attr.id]="s.isActiveMonth ? \'mbsc-calendar-day-desc-\' + s.date : null" class="mbsc-calendar-labels">\n          <ng-container *ngFor="let labels of s.labels.data; trackBy: _getKey">\n            <div class="mbsc-calendar-labels-row">\n              <div *ngIf="!labels.length" class="mbsc-calendar-text mbsc-calendar-text-placeholder"></div>\n              <ng-container *ngFor="let label of labels; trackBy: _getLabelKey">\n                <mbsc-calendar-label\n                  *ngIf="label.more || label.count"\n                  [count]="label.count ? label.count + \' \' + (label.count > 1 ? s.eventsText : s.eventText) : undefined"\n                  [id]="label.id"\n                  [isActiveMonth]="isActiveMonth"\n                  [label]="label.label"\n                  [more]="label.more"\n                  [position]="label.position"\n                  [rtl]="s.rtl"\n                  [theme]="s.theme"\n                  [onClick]="_onLabelClick"\n                  [onDoubleClick]="_onLabelDoubleClick"\n                  [onRightClick]="_onLabelRightClick"\n                  [onHoverIn]="_onLabelHoverIn"\n                  [onHoverOut]="_onLabelHoverOut"\n                  [showText]="true"\n                >\n                </mbsc-calendar-label>\n\n                <mbsc-calendar-label\n                  *ngIf="label.event"\n                  [amText]="s.amText"\n                  [date]="s.date"\n                  [dataTimezone]="dataTimezone"\n                  [displayTimezone]="displayTimezone"\n                  [drag]="s.dragToMove"\n                  [resize]="_computeEventResize(label.event!.resize, s.dragToResize)"\n                  [event]="label.event"\n                  [exclusiveEndDates]="exclusiveEndDates"\n                  [firstDay]="s.firstDay"\n                  [id]="label.id"\n                  [inactive]="label.event && s.dragData && s.dragData.draggedEvent && label.event.id === s.dragData.draggedEvent.id"\n                  [isActiveMonth]="isActiveMonth"\n                  [isExact]="label.isExact"\n                  [isPicker]="s.isPicker"\n                  [label]="label.label"\n                  [position]="label.position"\n                  [pmText]="s.pmText"\n                  [resourcesMap]="s.resourcesMap"\n                  [rtl]="s.rtl"\n                  [selected]="label.event && selectedEventsMap && !!(selectedEventsMap[label.id] || selectedEventsMap[label.event.id!])"\n                  [showText]="label.showText"\n                  [showEventTooltip]="s.showEventTooltip"\n                  [theme]="s.theme"\n                  [timeFormat]="s.timeFormat"\n                  [timezonePlugin]="timezonePlugin"\n                  [template]="labelTemplate"\n                  [contentTemplate]="labelContentTemplate"\n                  [onClick]="_onLabelClick"\n                  [onDoubleClick]="_onLabelDoubleClick"\n                  [onRightClick]="_onLabelRightClick"\n                  [onHoverIn]="_onLabelHoverIn"\n                  [onHoverOut]="_onLabelHoverOut"\n                  [onDelete]="s.onLabelDelete"\n                  [onDragStart]="s.onLabelUpdateStart"\n                  [onDragMove]="s.onLabelUpdateMove"\n                  [onDragEnd]="s.onLabelUpdateEnd"\n                  [onDragModeOn]="s.onLabelUpdateModeOn"\n                  [onDragModeOff]="s.onLabelUpdateModeOff"\n                >\n                </mbsc-calendar-label>\n              </ng-container>\n            </div>\n          </ng-container>\n        </div>\n        <div class="mbsc-calendar-text mbsc-calendar-text-placeholder"></div>\n      </div>\n    </div> '}]}],propDecorators:{active:[{type:Input}],amText:[{type:Input}],clickToCreate:[{type:Input}],colors:[{type:Input}],dataTimezone:[{type:Input}],date:[{type:Input}],day:[{type:Input}],dayTemplate:[{type:Input}],dayContentTemplate:[{type:Input}],disabled:[{type:Input}],display:[{type:Input}],displayTimezone:[{type:Input}],dragToCreate:[{type:Input}],dragToResize:[{type:Input}],dragToMove:[{type:Input}],eventText:[{type:Input}],events:[{type:Input}],eventsText:[{type:Input}],exclusiveEndDates:[{type:Input}],firstDay:[{type:Input}],hasMarks:[{type:Input}],hoverEnd:[{type:Input}],hoverStart:[{type:Input}],isActiveMonth:[{type:Input}],isPicker:[{type:Input}],labels:[{type:Input}],labelTemplate:[{type:Input}],labelContentTemplate:[{type:Input}],dragData:[{type:Input}],marks:[{type:Input}],month:[{type:Input}],monthShort:[{type:Input}],outer:[{type:Input}],pmText:[{type:Input}],rangeEnd:[{type:Input}],rangeStart:[{type:Input}],resourcesMap:[{type:Input}],selected:[{type:Input}],selectedEventsMap:[{type:Input}],showEventTooltip:[{type:Input}],text:[{type:Input}],timeFormat:[{type:Input}],timezonePlugin:[{type:Input}],todayText:[{type:Input}],type:[{type:Input}],year:[{type:Input}],onDayClick:[{type:Input}],onDayDoubleClick:[{type:Input}],onDayRightClick:[{type:Input}],onHoverIn:[{type:Input}],onHoverOut:[{type:Input}],onLabelClick:[{type:Input}],onLabelDoubleClick:[{type:Input}],onLabelRightClick:[{type:Input}],onLabelHoverIn:[{type:Input}],onLabelHoverOut:[{type:Input}],onLabelDelete:[{type:Input}],onLabelUpdateStart:[{type:Input}],onLabelUpdateMove:[{type:Input}],onLabelUpdateEnd:[{type:Input}],onLabelUpdateModeOn:[{type:Input}],onLabelUpdateModeOff:[{type:Input}],vBtn:[{type:ViewChild,args:["btn",{static:false,read:ElementRef}]}]}});var MbscCalendarWeekDays=/*#__PURE__*/function(){function MbscCalendarWeekDays(){this.days=ARRAY7}MbscCalendarWeekDays.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarWeekDays,deps:[],target:i0.ɵɵFactoryTarget.Component});MbscCalendarWeekDays.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscCalendarWeekDays,selector:"mbsc-calendar-weekdays",inputs:{firstDay:"firstDay",hasScroll:"hasScroll",dayNamesShort:"dayNamesShort",rtl:"rtl",showWeekNumbers:"showWeekNumbers",theme:"theme"},host:{attributes:{"aria-hidden":"true"},classAttribute:"mbsc-calendar-week-days mbsc-flex"},ngImport:i0,template:'<div *ngIf="showWeekNumbers" [ngClass]="\'mbsc-calendar-week-day mbsc-calendar-week-nr mbsc-flex-none\' + theme + rtl"></div>\n    <div [ngClass]="\'mbsc-calendar-week-day mbsc-flex-1-0-0\' + theme + rtl" *ngFor="let d of days; index as i">\n      {{ dayNamesShort[(i + firstDay) % 7] }}\n    </div>\n    <div *ngIf="hasScroll" class="mbsc-schedule-fake-scroll-y"></div>',isInline:true,directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscCalendarWeekDays}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarWeekDays,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"aria-hidden":"true",class:"mbsc-calendar-week-days mbsc-flex"},selector:"mbsc-calendar-weekdays",template:'<div *ngIf="showWeekNumbers" [ngClass]="\'mbsc-calendar-week-day mbsc-calendar-week-nr mbsc-flex-none\' + theme + rtl"></div>\n    <div [ngClass]="\'mbsc-calendar-week-day mbsc-flex-1-0-0\' + theme + rtl" *ngFor="let d of days; index as i">\n      {{ dayNamesShort[(i + firstDay) % 7] }}\n    </div>\n    <div *ngIf="hasScroll" class="mbsc-schedule-fake-scroll-y"></div>'}]}],propDecorators:{firstDay:[{type:Input}],hasScroll:[{type:Input}],dayNamesShort:[{type:Input}],rtl:[{type:Input}],showWeekNumbers:[{type:Input}],theme:[{type:Input}]}});var MbscMonthView=/*#__PURE__*/function(_super){__extends(MbscMonthView,_super);function MbscMonthView(){return _super!==null&&_super.apply(this,arguments)||this}MbscMonthView.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscMonthView,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscMonthView.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscMonthView,selector:"mbsc-month-view",inputs:{activeDate:"activeDate",amText:"amText",calendarType:"calendarType",cellTextHeight:"cellTextHeight",clickToCreate:"clickToCreate",colors:"colors",dataTimezone:"dataTimezone",dayNames:"dayNames",dayNamesMin:"dayNamesMin",dayNamesShort:"dayNamesShort",dayTemplate:"dayTemplate",dayContentTemplate:"dayContentTemplate",displayTimezone:"displayTimezone",dragToCreate:"dragToCreate",dragToResize:"dragToResize",dragToMove:"dragToMove",eventText:"eventText",events:"events",eventsText:"eventsText",exclusiveEndDates:"exclusiveEndDates",firstDay:"firstDay",firstPageDay:"firstPageDay",hasMarks:"hasMarks",hoverEnd:"hoverEnd",hoverStart:"hoverStart",isActive:"isActive",isPicker:"isPicker",invalid:"invalid",labels:"labels",labelHeight:"labelHeight",labelTemplate:"labelTemplate",labelContentTemplate:"labelContentTemplate",dragData:"dragData",marked:"marked",max:"max",min:"min",monthNames:"monthNames",monthNamesShort:"monthNamesShort",pmText:"pmText",rangeEnd:"rangeEnd",rangeStart:"rangeStart",selectedDates:"selectedDates",selectedEventsMap:"selectedEventsMap",showEventTooltip:"showEventTooltip",showOuter:"showOuter",showWeekDays:"showWeekDays",showWeekNumbers:"showWeekNumbers",showSingleMark:"showSingleMark",resourcesMap:"resourcesMap",todayText:"todayText",timeFormat:"timeFormat",timezonePlugin:"timezonePlugin",valid:"valid",variableRow:"variableRow",weeks:"weeks",weekText:"weekText",getDate:"getDate",getDay:"getDay",getMonth:"getMonth",getWeekNumber:"getWeekNumber",getYear:"getYear",onDayClick:"onDayClick",onDayDoubleClick:"onDayDoubleClick",onDayRightClick:"onDayRightClick",onDayHoverIn:"onDayHoverIn",onDayHoverOut:"onDayHoverOut",onLabelClick:"onLabelClick",onLabelDoubleClick:"onLabelDoubleClick",onLabelRightClick:"onLabelRightClick",onLabelHoverIn:"onLabelHoverIn",onLabelHoverOut:"onLabelHoverOut",onLabelDelete:"onLabelDelete",onLabelUpdateStart:"onLabelUpdateStart",onLabelUpdateMove:"onLabelUpdateMove",onLabelUpdateEnd:"onLabelUpdateEnd",onLabelUpdateModeOn:"onLabelUpdateModeOn",onLabelUpdateModeOff:"onLabelUpdateModeOff"},usesInheritance:true,ngImport:i0,template:'\n    <div\n      [attr.aria-hidden]="s.isActive ? undefined : \'true\'"\n      [class]="\'mbsc-calendar-table mbsc-flex-col mbsc-flex-1-1\' + (s.isActive ? \' mbsc-calendar-table-active\' : \'\')"\n    >\n      <mbsc-calendar-weekdays\n        *ngIf="showWeekDays"\n        [rtl]="_rtl"\n        [theme]="_theme"\n        [firstDay]="s.firstDay"\n        [dayNamesShort]="s.dayNamesShort"\n        [showWeekNumbers]="s.showWeekNumbers"\n      >\n      </mbsc-calendar-weekdays>\n      <div\n        *ngFor="let row of _rows; trackBy: _getKey; let i = index"\n        [style.minHeight.px]="_rowHeights[i] || 0"\n        class="mbsc-calendar-row mbsc-flex mbsc-flex-1-0"\n      >\n        <div *ngIf="s.showWeekNumbers" [ngClass]="\'mbsc-calendar-cell mbsc-flex-none mbsc-calendar-day mbsc-calendar-week-nr\' + _theme">\n          <div aria-hidden="true">{{ _getWeekNr(s, row[0].date) }}</div>\n          <div class="mbsc-hidden-content">{{ s.weekText!.replace(\'{count}\', _getWeekNr(s, row[0].date)) }}</div>\n        </div>\n        <mbsc-calendar-day\n          *ngFor="let cell of row; trackBy: _getKey"\n          type="day"\n          [active]="cell.display && _isActive(cell.date)"\n          [amText]="s.amText"\n          [colors]="cell.colors"\n          [clickToCreate]="s.clickToCreate"\n          [date]="cell.date"\n          [day]="cell.day"\n          [dayTemplate]="dayTemplate"\n          [dayContentTemplate]="dayContentTemplate"\n          [disabled]="_isInvalid(cell.date)"\n          [display]="cell.display"\n          [dataTimezone]="dataTimezone"\n          [displayTimezone]="displayTimezone"\n          [dragToCreate]="s.dragToCreate"\n          [dragToResize]="s.dragToResize"\n          [dragToMove]="s.dragToMove"\n          [eventText]="s.eventText"\n          [events]="cell.events"\n          [eventsText]="s.eventsText"\n          [exclusiveEndDates]="exclusiveEndDates"\n          [firstDay]="s.firstDay"\n          [hasMarks]="s.hasMarks"\n          [hoverEnd]="s.hoverEnd"\n          [hoverStart]="s.hoverStart"\n          [isActiveMonth]="s.isActive"\n          [isPicker]="s.isPicker"\n          [labels]="cell.labels"\n          [labelTemplate]="labelTemplate"\n          [labelContentTemplate]="labelContentTemplate"\n          [dragData]="s.dragData"\n          [marks]="cell.marks"\n          [month]="cell.month"\n          [monthShort]="cell.monthShort"\n          [outer]="cell.outer"\n          [pmText]="s.pmText"\n          [rangeEnd]="s.rangeEnd"\n          [rangeStart]="s.rangeStart"\n          [resourcesMap]="s.resourcesMap"\n          [rtl]="s.rtl"\n          [selected]="_isSelected(cell.date)"\n          [selectedEventsMap]="s.selectedEventsMap"\n          [showEventTooltip]="s.showEventTooltip"\n          [text]="cell.text"\n          [timeFormat]="s.timeFormat"\n          [timezonePlugin]="timezonePlugin"\n          [todayText]="s.todayText"\n          [theme]="s.theme"\n          [year]="cell.year"\n          [onDayClick]="s.onDayClick"\n          [onDayDoubleClick]="s.onDayDoubleClick"\n          [onDayRightClick]="s.onDayRightClick"\n          [onHoverIn]="s.onDayHoverIn"\n          [onHoverOut]="s.onDayHoverOut"\n          [onLabelClick]="s.onLabelClick"\n          [onLabelDoubleClick]="s.onLabelDoubleClick"\n          [onLabelRightClick]="s.onLabelRightClick"\n          [onLabelHoverIn]="s.onLabelHoverIn"\n          [onLabelHoverOut]="s.onLabelHoverOut"\n          [onLabelDelete]="s.onLabelDelete"\n          [onLabelUpdateStart]="s.onLabelUpdateStart"\n          [onLabelUpdateMove]="s.onLabelUpdateMove"\n          [onLabelUpdateEnd]="s.onLabelUpdateEnd"\n          [onLabelUpdateModeOn]="s.onLabelUpdateModeOn"\n          [onLabelUpdateModeOff]="s.onLabelUpdateModeOff"\n        ></mbsc-calendar-day>\n      </div>\n    </div>\n  ',isInline:true,components:[{type:MbscCalendarWeekDays,selector:"mbsc-calendar-weekdays",inputs:["firstDay","hasScroll","dayNamesShort","rtl","showWeekNumbers","theme"]},{type:MbscCalendarDay,selector:"mbsc-calendar-day",inputs:["active","amText","clickToCreate","colors","dataTimezone","date","day","dayTemplate","dayContentTemplate","disabled","display","displayTimezone","dragToCreate","dragToResize","dragToMove","eventText","events","eventsText","exclusiveEndDates","firstDay","hasMarks","hoverEnd","hoverStart","isActiveMonth","isPicker","labels","labelTemplate","labelContentTemplate","dragData","marks","month","monthShort","outer","pmText","rangeEnd","rangeStart","resourcesMap","selected","selectedEventsMap","showEventTooltip","text","timeFormat","timezonePlugin","todayText","type","year","onDayClick","onDayDoubleClick","onDayRightClick","onHoverIn","onHoverOut","onLabelClick","onLabelDoubleClick","onLabelRightClick","onLabelHoverIn","onLabelHoverOut","onLabelDelete","onLabelUpdateStart","onLabelUpdateMove","onLabelUpdateEnd","onLabelUpdateModeOn","onLabelUpdateModeOff"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:i1$1.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscMonthView}(MonthViewBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscMonthView,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,selector:"mbsc-month-view",template:'\n    <div\n      [attr.aria-hidden]="s.isActive ? undefined : \'true\'"\n      [class]="\'mbsc-calendar-table mbsc-flex-col mbsc-flex-1-1\' + (s.isActive ? \' mbsc-calendar-table-active\' : \'\')"\n    >\n      <mbsc-calendar-weekdays\n        *ngIf="showWeekDays"\n        [rtl]="_rtl"\n        [theme]="_theme"\n        [firstDay]="s.firstDay"\n        [dayNamesShort]="s.dayNamesShort"\n        [showWeekNumbers]="s.showWeekNumbers"\n      >\n      </mbsc-calendar-weekdays>\n      <div\n        *ngFor="let row of _rows; trackBy: _getKey; let i = index"\n        [style.minHeight.px]="_rowHeights[i] || 0"\n        class="mbsc-calendar-row mbsc-flex mbsc-flex-1-0"\n      >\n        <div *ngIf="s.showWeekNumbers" [ngClass]="\'mbsc-calendar-cell mbsc-flex-none mbsc-calendar-day mbsc-calendar-week-nr\' + _theme">\n          <div aria-hidden="true">{{ _getWeekNr(s, row[0].date) }}</div>\n          <div class="mbsc-hidden-content">{{ s.weekText!.replace(\'{count}\', _getWeekNr(s, row[0].date)) }}</div>\n        </div>\n        <mbsc-calendar-day\n          *ngFor="let cell of row; trackBy: _getKey"\n          type="day"\n          [active]="cell.display && _isActive(cell.date)"\n          [amText]="s.amText"\n          [colors]="cell.colors"\n          [clickToCreate]="s.clickToCreate"\n          [date]="cell.date"\n          [day]="cell.day"\n          [dayTemplate]="dayTemplate"\n          [dayContentTemplate]="dayContentTemplate"\n          [disabled]="_isInvalid(cell.date)"\n          [display]="cell.display"\n          [dataTimezone]="dataTimezone"\n          [displayTimezone]="displayTimezone"\n          [dragToCreate]="s.dragToCreate"\n          [dragToResize]="s.dragToResize"\n          [dragToMove]="s.dragToMove"\n          [eventText]="s.eventText"\n          [events]="cell.events"\n          [eventsText]="s.eventsText"\n          [exclusiveEndDates]="exclusiveEndDates"\n          [firstDay]="s.firstDay"\n          [hasMarks]="s.hasMarks"\n          [hoverEnd]="s.hoverEnd"\n          [hoverStart]="s.hoverStart"\n          [isActiveMonth]="s.isActive"\n          [isPicker]="s.isPicker"\n          [labels]="cell.labels"\n          [labelTemplate]="labelTemplate"\n          [labelContentTemplate]="labelContentTemplate"\n          [dragData]="s.dragData"\n          [marks]="cell.marks"\n          [month]="cell.month"\n          [monthShort]="cell.monthShort"\n          [outer]="cell.outer"\n          [pmText]="s.pmText"\n          [rangeEnd]="s.rangeEnd"\n          [rangeStart]="s.rangeStart"\n          [resourcesMap]="s.resourcesMap"\n          [rtl]="s.rtl"\n          [selected]="_isSelected(cell.date)"\n          [selectedEventsMap]="s.selectedEventsMap"\n          [showEventTooltip]="s.showEventTooltip"\n          [text]="cell.text"\n          [timeFormat]="s.timeFormat"\n          [timezonePlugin]="timezonePlugin"\n          [todayText]="s.todayText"\n          [theme]="s.theme"\n          [year]="cell.year"\n          [onDayClick]="s.onDayClick"\n          [onDayDoubleClick]="s.onDayDoubleClick"\n          [onDayRightClick]="s.onDayRightClick"\n          [onHoverIn]="s.onDayHoverIn"\n          [onHoverOut]="s.onDayHoverOut"\n          [onLabelClick]="s.onLabelClick"\n          [onLabelDoubleClick]="s.onLabelDoubleClick"\n          [onLabelRightClick]="s.onLabelRightClick"\n          [onLabelHoverIn]="s.onLabelHoverIn"\n          [onLabelHoverOut]="s.onLabelHoverOut"\n          [onLabelDelete]="s.onLabelDelete"\n          [onLabelUpdateStart]="s.onLabelUpdateStart"\n          [onLabelUpdateMove]="s.onLabelUpdateMove"\n          [onLabelUpdateEnd]="s.onLabelUpdateEnd"\n          [onLabelUpdateModeOn]="s.onLabelUpdateModeOn"\n          [onLabelUpdateModeOff]="s.onLabelUpdateModeOff"\n        ></mbsc-calendar-day>\n      </div>\n    </div>\n  '}]}],propDecorators:{activeDate:[{type:Input}],amText:[{type:Input}],calendarType:[{type:Input}],cellTextHeight:[{type:Input}],clickToCreate:[{type:Input}],colors:[{type:Input}],dataTimezone:[{type:Input}],dayNames:[{type:Input}],dayNamesMin:[{type:Input}],dayNamesShort:[{type:Input}],dayTemplate:[{type:Input}],dayContentTemplate:[{type:Input}],displayTimezone:[{type:Input}],dragToCreate:[{type:Input}],dragToResize:[{type:Input}],dragToMove:[{type:Input}],eventText:[{type:Input}],events:[{type:Input}],eventsText:[{type:Input}],exclusiveEndDates:[{type:Input}],firstDay:[{type:Input}],firstPageDay:[{type:Input}],hasMarks:[{type:Input}],hoverEnd:[{type:Input}],hoverStart:[{type:Input}],isActive:[{type:Input}],isPicker:[{type:Input}],invalid:[{type:Input}],labels:[{type:Input}],labelHeight:[{type:Input}],labelTemplate:[{type:Input}],labelContentTemplate:[{type:Input}],dragData:[{type:Input}],marked:[{type:Input}],max:[{type:Input}],min:[{type:Input}],monthNames:[{type:Input}],monthNamesShort:[{type:Input}],pmText:[{type:Input}],rangeEnd:[{type:Input}],rangeStart:[{type:Input}],selectedDates:[{type:Input}],selectedEventsMap:[{type:Input}],showEventTooltip:[{type:Input}],showOuter:[{type:Input}],showWeekDays:[{type:Input}],showWeekNumbers:[{type:Input}],showSingleMark:[{type:Input}],resourcesMap:[{type:Input}],todayText:[{type:Input}],timeFormat:[{type:Input}],timezonePlugin:[{type:Input}],valid:[{type:Input}],variableRow:[{type:Input}],weeks:[{type:Input}],weekText:[{type:Input}],getDate:[{type:Input}],getDay:[{type:Input}],getMonth:[{type:Input}],getWeekNumber:[{type:Input}],getYear:[{type:Input}],onDayClick:[{type:Input}],onDayDoubleClick:[{type:Input}],onDayRightClick:[{type:Input}],onDayHoverIn:[{type:Input}],onDayHoverOut:[{type:Input}],onLabelClick:[{type:Input}],onLabelDoubleClick:[{type:Input}],onLabelRightClick:[{type:Input}],onLabelHoverIn:[{type:Input}],onLabelHoverOut:[{type:Input}],onLabelDelete:[{type:Input}],onLabelUpdateStart:[{type:Input}],onLabelUpdateMove:[{type:Input}],onLabelUpdateEnd:[{type:Input}],onLabelUpdateModeOn:[{type:Input}],onLabelUpdateModeOff:[{type:Input}]}});function getItem$1(items,i,min,max){var item;if(i<min||i>max){return}if(isArray(items)){var len=items.length;var index=i%len;item=items[index>=0?index:index+len]}else{item=items(i)}return item}var ScrollviewBase=/*#__PURE__*/function(_super){__extends(ScrollviewBase,_super);function ScrollviewBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._currPos=0;_this._delta=0;_this._endPos=0;_this._lastRaf=0;_this._maxSnapScroll=0;_this._margin=0;_this._scrollEnd=debounce((function(){rafc(_this._raf);_this._raf=false;_this._onEnd();_this._hasScrolled=false}),200);_this._setInnerEl=function(el){_this._innerEl=el};_this._setScrollEl=function(el){_this._scrollEl=el};_this._setScrollEl3d=function(el){_this._scrollEl3d=el};_this._setScrollbarEl=function(el){_this._scrollbarEl=el};_this._setScrollbarContEl=function(el){_this._scrollbarContEl=el};_this._onStart=function(args){var s=_this.s;_this._hook("onStart",{});if(s.changeOnEnd&&_this._isScrolling||!s.mouseSwipe&&!args.isTouch||!s.swipe){return}_this._started=true;_this._hasScrolled=_this._isScrolling;_this._currX=args.startX;_this._currY=args.startY;_this._delta=0;_this._velocityX=0;_this._velocityY=0;_this._startPos=getPosition(_this._scrollEl,_this._isVertical);_this._timestamp=+new Date;if(_this._isScrolling){rafc(_this._raf);_this._raf=false;_this._scroll(_this._startPos)}};_this._onMove=function(args){var ev=args.domEvent;var s=_this.s;if(_this._isVertical||s.scrollLock){if(ev.cancelable){ev.preventDefault()}}else{if(_this._hasScrolled){if(ev.cancelable){ev.preventDefault()}}else if(ev.type===TOUCH_MOVE&&(Math.abs(args.deltaY)>7||!s.swipe)){_this._started=false}}if(!_this._started){return}_this._delta=_this._isVertical?args.deltaY:args.deltaX;if(_this._hasScrolled||Math.abs(_this._delta)>_this._threshold){if(!_this._hasScrolled){_this._hook("onGestureStart",{})}_this._hasScrolled=true;_this._isScrolling=true;if(!_this._raf){_this._raf=raf((function(){return _this._move(args)}))}}};_this._onEnd=function(){_this._started=false;if(_this._hasScrolled){var s=_this.s;var v=(_this._isVertical?_this._velocityY:_this._velocityX)*17;var maxSnapScroll=_this._maxSnapScroll;var delta=_this._delta;var time=0;delta+=v*v*.5*(v<0?-1:1);if(maxSnapScroll){delta=constrain(delta,-_this._round*maxSnapScroll,_this._round*maxSnapScroll)}var pos=constrain(round((_this._startPos+delta)/_this._round)*_this._round,_this._min,_this._max);var index=round(-pos*_this._rtlNr/s.itemSize)+_this._offset;var direction=delta>0?_this._isVertical?270:360:_this._isVertical?90:180;var diff=index-s.selectedIndex;time=s.time||Math.max(1e3,Math.abs(pos-_this._currPos)*3);_this._hook("onGestureEnd",{direction:direction,index:index});_this._delta=0;_this._scroll(pos,time);if(diff&&!s.changeOnEnd){_this._hook("onIndexChange",{index:index,diff:diff});if(s.selectedIndex===_this._prevIndex&&s.selectedIndex!==index){_this.forceUpdate()}}}};_this._onClick=function(ev){if(_this._hasScrolled){_this._hasScrolled=false;ev.stopPropagation();ev.preventDefault()}};_this._onScroll=function(ev){ev.target.scrollTop=0;ev.target.scrollLeft=0};_this._onMouseWheel=function(ev){var delta=_this._isVertical?ev.deltaY===UNDEFINED?ev.wheelDelta||ev.detail:ev.deltaY:ev.deltaX;if(delta&&_this.s.mousewheel){ev.preventDefault();_this._hook("onStart",{});if(!_this._started){_this._delta=0;_this._velocityX=0;_this._velocityY=0;_this._startPos=_this._currPos;_this._hook("onGestureStart",{})}if(ev.deltaMode&&ev.deltaMode===1){delta*=15}delta=constrain(-delta,-_this._scrollSnap,_this._scrollSnap);_this._delta+=delta;if(_this._maxSnapScroll&&Math.abs(_this._delta)>_this._round*_this._maxSnapScroll){delta=0}if(_this._startPos+_this._delta<_this._min){_this._startPos=_this._min;_this._delta=0;delta=0}if(_this._startPos+_this._delta>_this._max){_this._startPos=_this._max;_this._delta=0;delta=0}if(!_this._raf){_this._raf=raf((function(){return _this._move()}))}if(!delta&&_this._started){return}_this._hasScrolled=true;_this._isScrolling=true;_this._started=true;_this._scrollEnd()}};_this._onTrackStart=function(ev){ev.stopPropagation();var args={domEvent:ev,startX:getCoord(ev,"X",true),startY:getCoord(ev,"Y",true)};_this._onStart(args);_this._trackStartX=args.startX;_this._trackStartY=args.startY;if(ev.target===_this._scrollbarEl){listen(_this._doc,MOUSE_UP,_this._onTrackEnd);listen(_this._doc,MOUSE_MOVE,_this._onTrackMove)}else{var top_1=getOffset(_this._scrollbarContEl).top;var percent=(args.startY-top_1)/_this._barContSize;_this._startPos=_this._currPos=_this._max+(_this._min-_this._max)*percent;_this._hasScrolled=true;_this._onEnd()}};_this._onTrackMove=function(ev){var barContSize=_this._barContSize;var endX=getCoord(ev,"X",true);var endY=getCoord(ev,"Y",true);var trackDelta=_this._isVertical?endY-_this._trackStartY:endX-_this._trackStartX;var percent=trackDelta/barContSize;if(_this._isInfinite){_this._delta=-(_this._maxSnapScroll*_this._round*2+barContSize)*percent}else{_this._delta=(_this._min-_this._max-barContSize)*percent}if(_this._hasScrolled||Math.abs(_this._delta)>_this._threshold){if(!_this._hasScrolled){_this._hook("onGestureStart",{})}_this._hasScrolled=true;_this._isScrolling=true;if(!_this._raf){_this._raf=raf((function(){return _this._move({endX:endX,endY:endY},!_this._isInfinite)}))}}};_this._onTrackEnd=function(){_this._delta=0;_this._startPos=_this._currPos;_this._onEnd();unlisten(_this._doc,MOUSE_UP,_this._onTrackEnd);unlisten(_this._doc,MOUSE_MOVE,_this._onTrackMove)};_this._onTrackClick=function(ev){ev.stopPropagation()};return _this}ScrollviewBase.prototype._render=function(s,state){var prevS=this._prevS;var batchSize=s.batchSize;var batchSize3d=s.batchSize3d;var itemNr=s.itemNr||1;var itemSize=s.itemSize;var selectedIndex=s.selectedIndex;var prevIndex=prevS.selectedIndex;var currIndex=state.index===UNDEFINED?selectedIndex:state.index;var visibleItems=[];var visible3dItems=[];var diff=selectedIndex-prevIndex;var diff2=currIndex-this._currIndex;var minIndex=s.minIndex;var maxIndex=s.maxIndex;var items=s.items;var offset=s.offset;this._currIndex=currIndex;this._isVertical=s.axis==="Y";this._threshold=this._isVertical?s.thresholdY:s.thresholdX;this._rtlNr=!this._isVertical&&s.rtl?-1:1;this._round=s.snap?itemSize:1;var scrollSnap=this._round;while(scrollSnap>44){scrollSnap/=2}this._scrollSnap=round(44/scrollSnap)*scrollSnap;if(items){for(var i=currIndex-batchSize;i<currIndex+itemNr+batchSize;i++){visibleItems.push({key:i,data:getItem$1(items,i,minIndex,maxIndex)})}if(s.scroll3d){for(var i=currIndex-batchSize3d;i<currIndex+itemNr+batchSize3d;i++){visible3dItems.push({key:i,data:getItem$1(items,i,minIndex,maxIndex)})}}this.visibleItems=visibleItems;this.visible3dItems=visible3dItems;this._maxSnapScroll=batchSize;this._isInfinite=typeof items==="function"}if(this._offset===UNDEFINED){this._offset=selectedIndex}var nextPos=-(selectedIndex-this._offset)*itemSize*this._rtlNr;if(Math.abs(diff)>batchSize&&nextPos!==this._endPos){var off=diff+batchSize*(diff>0?-1:1);this._offset+=off;this._margin-=off}if(offset&&offset!==prevS.offset){this._offset+=offset;this._margin-=offset}if(diff2){this._margin+=diff2}if(minIndex!==UNDEFINED){this._max=-(minIndex-this._offset)*itemSize*this._rtlNr}else{this._max=Infinity}if(maxIndex!==UNDEFINED){this._min=-(maxIndex-this._offset-(s.spaceAround?0:itemNr-1))*itemSize*this._rtlNr}else{this._min=-Infinity}if(this._rtlNr===-1){var temp=this._min;this._min=this._max;this._max=temp}if(this._min>this._max){this._min=this._max}var visibleSize=s.visibleSize;var barContSize=visibleSize*itemSize;this._barContSize=barContSize;this._barSize=Math.max(20,barContSize*barContSize/(this._max-this._min+barContSize));this._cssClass=this._className+" mbsc-ltr"};ScrollviewBase.prototype._mounted=function(){var el=this._el;var scrollbar=this._scrollbarContEl;this._doc=getDocument(el);listen(this.s.scroll3d?this._innerEl:el,SCROLL,this._onScroll);listen(el,CLICK,this._onClick,true);listen(el,MOUSE_WHEEL,this._onMouseWheel,{passive:false});listen(el,WHEEL,this._onMouseWheel,{passive:false});listen(scrollbar,MOUSE_DOWN,this._onTrackStart);listen(scrollbar,CLICK,this._onTrackClick);this._unlisten=gestureListener(el,{onEnd:this._onEnd,onHoverIn:function(){scrollbar.classList.add("mbsc-scroller-bar-hover")},onHoverOut:function(){scrollbar.classList.remove("mbsc-scroller-bar-hover")},onMove:this._onMove,onStart:this._onStart,prevDef:true})};ScrollviewBase.prototype._updated=function(){var s=this.s;var batchSize=s.batchSize;var itemSize=s.itemSize;var selectedIndex=s.selectedIndex;var prevIndex=this._prevIndex;var shouldAnimate=!s.prevAnim&&(prevIndex!==UNDEFINED&&prevIndex!==selectedIndex||this._isAnimating);var newPos=-(selectedIndex-this._offset)*itemSize*this._rtlNr;if(s.margin){this._scrollEl.style.marginTop=this._isVertical?(this._margin-batchSize)*itemSize+"px":""}if(!this._started){this._scroll(newPos,shouldAnimate?this._isAnimating||s.time||1e3:0)}this._prevIndex=selectedIndex};ScrollviewBase.prototype._destroy=function(){unlisten(this.s.scroll3d?this._innerEl:this._el,SCROLL,this._onScroll);unlisten(this._el,CLICK,this._onClick,true);unlisten(this._el,MOUSE_WHEEL,this._onMouseWheel,{passive:false});unlisten(this._el,WHEEL,this._onMouseWheel,{passive:false});unlisten(this._scrollbarContEl,MOUSE_DOWN,this._onTrackStart);unlisten(this._scrollbarContEl,CLICK,this._onTrackClick);rafc(this._raf);this._raf=false;this._scroll(0);this._unlisten()};ScrollviewBase.prototype._anim=function(dir){var _this=this;return this._raf=raf((function(){var s=_this.s;var now=+new Date;if(!_this._raf){return}if((_this._currPos-_this._endPos)*-dir<4){_this._currPos=_this._endPos;_this._raf=false;_this._isAnimating=0;_this._isScrolling=false;_this._infinite(_this._currPos);_this._hook("onAnimationEnd",{});_this._scrollbarContEl.classList.remove("mbsc-scroller-bar-started");return}if(now-_this._lastRaf>100){_this._lastRaf=now;_this._currPos=getPosition(_this._scrollEl,_this._isVertical);if(!s.changeOnEnd){_this._infinite(_this._currPos)}}_this._raf=_this._anim(dir)}))};ScrollviewBase.prototype._infinite=function(pos){var s=this.s;if(s.itemSize){var index=round(-pos*this._rtlNr/s.itemSize)+this._offset;var diff=index-this._currIndex;if(diff){if(s.changeOnEnd){this._hook("onIndexChange",{index:index,diff:diff})}else{this.setState({index:index})}}}};ScrollviewBase.prototype._scroll=function(pos,time){var s=this.s;var itemSize=s.itemSize;var isVertical=this._isVertical;var style=this._scrollEl.style;var prefix=jsPrefix?jsPrefix+"T":"t";var timing=time?cssPrefix+"transform "+round(time)+"ms "+s.easing:"";style[prefix+"ransform"]="translate3d("+(isVertical?"0,"+pos+"px,":pos+"px,0,")+"0)";style[prefix+"ransition"]=timing;this._endPos=pos;if(s.scroll3d){var style3d=this._scrollEl3d.style;var angle=360/(s.batchSize3d*2);style3d[prefix+"ransform"]="translateY(-50%) rotateX("+-pos/itemSize*angle+"deg)";style3d[prefix+"ransition"]=timing}if(this._scrollbarEl){var sbStyle=this._scrollbarEl.style;var percent=this._isInfinite?(this._maxSnapScroll*this._round-this._delta)/(this._maxSnapScroll*this._round*2):(pos-this._max)/(this._min-this._max);var barPos=constrain((this._barContSize-this._barSize)*percent,0,this._barContSize-this._barSize);sbStyle[prefix+"ransform"]="translate3d("+(isVertical?"0,"+barPos+"px,":barPos+"px,0,")+"0)";sbStyle[prefix+"ransition"]=timing}if(time){rafc(this._raf);this._isAnimating=time;this._scrollbarContEl.classList.add("mbsc-scroller-bar-started");this._raf=this._anim(pos>this._currPos?1:-1)}else{this._currPos=pos;if(!s.changeOnEnd){this._infinite(pos)}}};ScrollviewBase.prototype._move=function(args,preventMaxSnap){var prevX=this._currX;var prevY=this._currY;var prevT=this._timestamp;var maxSnapScroll=this._maxSnapScroll;if(args){this._currX=args.endX;this._currY=args.endY;this._timestamp=+new Date;var timeDelta=this._timestamp-prevT;if(timeDelta>0&&timeDelta<100){var velocityX=(this._currX-prevX)/timeDelta;var velocityY=(this._currY-prevY)/timeDelta;this._velocityX=velocityX*.7+this._velocityX*.3;this._velocityY=velocityY*.7+this._velocityY*.3}}if(maxSnapScroll&&!preventMaxSnap){this._delta=constrain(this._delta,-this._round*maxSnapScroll,this._round*maxSnapScroll)}this._scroll(constrain(this._startPos+this._delta,this._min-this.s.itemSize,this._max+this.s.itemSize));this._raf=false};ScrollviewBase.defaults={axis:"Y",batchSize:40,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",mouseSwipe:true,mousewheel:true,prevDef:true,selectedIndex:0,spaceAround:true,stopProp:true,swipe:true,thresholdX:10,thresholdY:5};ScrollviewBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ScrollviewBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});ScrollviewBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:ScrollviewBase,selector:"[mbsc-sv-b]",usesInheritance:true,ngImport:i0});return ScrollviewBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ScrollviewBase,decorators:[{type:Directive,args:[{selector:"[mbsc-sv-b]"}]}]});var MbscScrollviewBase=/*#__PURE__*/function(_super){__extends(MbscScrollviewBase,_super);function MbscScrollviewBase(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MbscScrollviewBase.prototype,"vEl3d",{set:function(el){this._scrollEl3d=el&&el.nativeElement},enumerable:false,configurable:true});MbscScrollviewBase.prototype._mounted=function(){this._innerEl=this.vInnerEl.nativeElement;this._scrollEl=this.vEl.nativeElement;this._scrollbarContEl=this.vBarCont.nativeElement;this._scrollbarEl=this.vBar.nativeElement;_super.prototype._mounted.call(this)};MbscScrollviewBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScrollviewBase,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscScrollviewBase.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscScrollviewBase,selector:"mbsc-scrollview-base",inputs:{axis:"axis",batchSize:"batchSize",batchSize3d:"batchSize3d",changeOnEnd:"changeOnEnd",easing:"easing",innerClass:"innerClass",innerStyles:"innerStyles",items:"items",itemSize:"itemSize",itemNr:"itemNr",selectedIndex:"selectedIndex",margin:"margin",maxIndex:"maxIndex",minIndex:"minIndex",mouseSwipe:"mouseSwipe",mousewheel:"mousewheel",offset:"offset",prevAnim:"prevAnim",scroll3d:"scroll3d",scrollBar:"scrollBar",snap:"snap",spaceAround:"spaceAround",swipe:"swipe",time:"time",touchUi:"touchUi",visibleSize:"visibleSize",onAnimationEnd:"onAnimationEnd",onGestureStart:"onGestureStart",onGestureEnd:"onGestureEnd",onIndexChange:"onIndexChange",onStart:"onStart"},host:{properties:{class:"_cssClass"}},viewQueries:[{propertyName:"vEl",first:true,predicate:["el"],descendants:true,static:true},{propertyName:"vInnerEl",first:true,predicate:["innerEl"],descendants:true,static:true},{propertyName:"vBarCont",first:true,predicate:["barCont"],descendants:true,static:true},{propertyName:"vBar",first:true,predicate:["bar"],descendants:true,static:true},{propertyName:"vEl3d",first:true,predicate:["el3d"],descendants:true}],usesInheritance:true,ngImport:i0,template:'\n    <div #innerEl [class]="s.innerClass || \'\'" [ngStyle]="s.innerStyles">\n      <div #el [class]="\'mbsc-scrollview-scroll\' + _rtl">\n        <ng-content></ng-content>\n      </div>\n    </div>\n    <div *ngIf="s.scroll3d" #el3d [style.height.px]="s.itemSize" class="mbsc-scroller-items-3d">\n      <ng-content select="[content-3d]"></ng-content>\n    </div>\n    <div\n      [class]="\n        \'mbsc-scroller-bar-cont\' +\n        _rtl +\n        (!s.scrollBar || _barSize === _barContSize ? \' mbsc-scroller-bar-hidden\' : \'\') +\n        (_started ? \' mbsc-scroller-bar-started\' : \'\')\n      "\n      #barCont\n    >\n      <div [class]="\'mbsc-scroller-bar\' + _theme" #bar [style.height.px]="_barSize"></div>\n    </div>\n  ',isInline:true,directives:[{type:i1$1.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]},{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscScrollviewBase}(ScrollviewBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScrollviewBase,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-scrollview-base",template:'\n    <div #innerEl [class]="s.innerClass || \'\'" [ngStyle]="s.innerStyles">\n      <div #el [class]="\'mbsc-scrollview-scroll\' + _rtl">\n        <ng-content></ng-content>\n      </div>\n    </div>\n    <div *ngIf="s.scroll3d" #el3d [style.height.px]="s.itemSize" class="mbsc-scroller-items-3d">\n      <ng-content select="[content-3d]"></ng-content>\n    </div>\n    <div\n      [class]="\n        \'mbsc-scroller-bar-cont\' +\n        _rtl +\n        (!s.scrollBar || _barSize === _barContSize ? \' mbsc-scroller-bar-hidden\' : \'\') +\n        (_started ? \' mbsc-scroller-bar-started\' : \'\')\n      "\n      #barCont\n    >\n      <div [class]="\'mbsc-scroller-bar\' + _theme" #bar [style.height.px]="_barSize"></div>\n    </div>\n  '}]}],propDecorators:{vEl:[{type:ViewChild,args:["el",{static:true}]}],vInnerEl:[{type:ViewChild,args:["innerEl",{static:true}]}],vBarCont:[{type:ViewChild,args:["barCont",{static:true}]}],vBar:[{type:ViewChild,args:["bar",{static:true}]}],axis:[{type:Input}],batchSize:[{type:Input}],batchSize3d:[{type:Input}],changeOnEnd:[{type:Input}],easing:[{type:Input}],innerClass:[{type:Input}],innerStyles:[{type:Input}],items:[{type:Input}],itemSize:[{type:Input}],itemNr:[{type:Input}],selectedIndex:[{type:Input}],margin:[{type:Input}],maxIndex:[{type:Input}],minIndex:[{type:Input}],mouseSwipe:[{type:Input}],mousewheel:[{type:Input}],offset:[{type:Input}],prevAnim:[{type:Input}],scroll3d:[{type:Input}],scrollBar:[{type:Input}],snap:[{type:Input}],spaceAround:[{type:Input}],swipe:[{type:Input}],time:[{type:Input}],touchUi:[{type:Input}],visibleSize:[{type:Input}],onAnimationEnd:[{type:Input}],onGestureStart:[{type:Input}],onGestureEnd:[{type:Input}],onIndexChange:[{type:Input}],onStart:[{type:Input}],vEl3d:[{type:ViewChild,args:["el3d",{static:false}]}]}});var MbscMultiYearView=/*#__PURE__*/function(){function MbscMultiYearView(){}MbscMultiYearView.prototype.ngOnChanges=function(){this._rows=[];this._selectedYear=this.getYear(new Date(this.active));this._activeYear=this.getYear(new Date(this.activeMonth));for(var i=0;i<4;i++){var row=[];for(var j=0;j<3;j++){var year=this.firstYear+i*3+j;var d=+this.getDate(year,0,1);row.push({d:d,year:year})}this._rows.push(row)}};MbscMultiYearView.prototype.getKey=function(index,item){return item.key};MbscMultiYearView.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscMultiYearView,deps:[],target:i0.ɵɵFactoryTarget.Component});MbscMultiYearView.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscMultiYearView,selector:"mbsc-multi-year-view",inputs:{active:"active",activeMonth:"activeMonth",firstYear:"firstYear",getDate:"getDate",getYear:"getYear",max:"max",min:"min",rtl:"rtl",theme:"theme",yearSuffix:"yearSuffix",onYearClick:"onYearClick"},host:{classAttribute:"mbsc-calendar-table mbsc-flex-col"},usesOnChanges:true,ngImport:i0,template:'<div class="mbsc-calendar-row mbsc-flex mbsc-flex-1-0" *ngFor="let row of _rows; trackBy: getKey">\n    <mbsc-calendar-day\n      *ngFor="let cell of row; trackBy: getKey"\n      [active]="cell.year === _activeYear"\n      [date]="cell.d"\n      [display]="true"\n      [selected]="cell.year === _selectedYear"\n      [disabled]="cell.year < this.min || cell.year > this.max"\n      [rtl]="rtl"\n      [text]="cell.year + yearSuffix"\n      [theme]="theme"\n      type="year"\n      [onDayClick]="onYearClick"\n    ></mbsc-calendar-day>\n  </div>',isInline:true,components:[{type:MbscCalendarDay,selector:"mbsc-calendar-day",inputs:["active","amText","clickToCreate","colors","dataTimezone","date","day","dayTemplate","dayContentTemplate","disabled","display","displayTimezone","dragToCreate","dragToResize","dragToMove","eventText","events","eventsText","exclusiveEndDates","firstDay","hasMarks","hoverEnd","hoverStart","isActiveMonth","isPicker","labels","labelTemplate","labelContentTemplate","dragData","marks","month","monthShort","outer","pmText","rangeEnd","rangeStart","resourcesMap","selected","selectedEventsMap","showEventTooltip","text","timeFormat","timezonePlugin","todayText","type","year","onDayClick","onDayDoubleClick","onDayRightClick","onHoverIn","onHoverOut","onLabelClick","onLabelDoubleClick","onLabelRightClick","onLabelHoverIn","onLabelHoverOut","onLabelDelete","onLabelUpdateStart","onLabelUpdateMove","onLabelUpdateEnd","onLabelUpdateModeOn","onLabelUpdateModeOff"]}],directives:[{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscMultiYearView}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscMultiYearView,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{class:"mbsc-calendar-table mbsc-flex-col"},selector:"mbsc-multi-year-view",template:'<div class="mbsc-calendar-row mbsc-flex mbsc-flex-1-0" *ngFor="let row of _rows; trackBy: getKey">\n    <mbsc-calendar-day\n      *ngFor="let cell of row; trackBy: getKey"\n      [active]="cell.year === _activeYear"\n      [date]="cell.d"\n      [display]="true"\n      [selected]="cell.year === _selectedYear"\n      [disabled]="cell.year < this.min || cell.year > this.max"\n      [rtl]="rtl"\n      [text]="cell.year + yearSuffix"\n      [theme]="theme"\n      type="year"\n      [onDayClick]="onYearClick"\n    ></mbsc-calendar-day>\n  </div>'}]}],propDecorators:{active:[{type:Input}],activeMonth:[{type:Input}],firstYear:[{type:Input}],getDate:[{type:Input}],getYear:[{type:Input}],max:[{type:Input}],min:[{type:Input}],rtl:[{type:Input}],theme:[{type:Input}],yearSuffix:[{type:Input}],onYearClick:[{type:Input}]}});var MbscYearView=/*#__PURE__*/function(){function MbscYearView(){}MbscYearView.prototype.ngOnChanges=function(){this._rows=[];var active=new Date(this.activeMonth);var selected=new Date(this.active);this._activeYear=this.getYear(active);this._activeMonth=this.getMonth(active);this._selectedYear=this.getYear(selected);this._selectedMonth=this.getMonth(selected);for(var i=0;i<4;i++){var row=[];for(var j=0;j<3;j++){var d=this.getDate(this.year,i*3+j,1);var y=this.getYear(d);var m=this.getMonth(d);row.push({d:d,y:y,m:m})}this._rows.push(row)}};MbscYearView.prototype.getKey=function(index,item){return item.key};MbscYearView.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscYearView,deps:[],target:i0.ɵɵFactoryTarget.Component});MbscYearView.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscYearView,selector:"mbsc-year-view",inputs:{active:"active",activeMonth:"activeMonth",getDate:"getDate",getMonth:"getMonth",getYear:"getYear",max:"max",min:"min",monthNames:"monthNames",monthNamesShort:"monthNamesShort",rtl:"rtl",theme:"theme",year:"year",onMonthClick:"onMonthClick"},host:{classAttribute:"mbsc-calendar-table mbsc-flex-col"},usesOnChanges:true,ngImport:i0,template:'<div class="mbsc-calendar-row mbsc-flex mbsc-flex-1-0" *ngFor="let row of _rows; trackBy: getKey">\n    <mbsc-calendar-day\n      *ngFor="let cell of row; trackBy: getKey"\n      [active]="cell.y === _activeYear && cell.m === _activeMonth"\n      [date]="cell.d"\n      [display]="true"\n      [selected]="cell.y === _selectedYear && cell.m === _selectedMonth"\n      [disabled]="cell.d < min || cell.d >= max"\n      [month]="monthNames[cell.m]"\n      [rtl]="rtl"\n      [text]="monthNamesShort[cell.m]"\n      [theme]="theme"\n      type="month"\n      [onDayClick]="onMonthClick"\n    ></mbsc-calendar-day>\n  </div>',isInline:true,components:[{type:MbscCalendarDay,selector:"mbsc-calendar-day",inputs:["active","amText","clickToCreate","colors","dataTimezone","date","day","dayTemplate","dayContentTemplate","disabled","display","displayTimezone","dragToCreate","dragToResize","dragToMove","eventText","events","eventsText","exclusiveEndDates","firstDay","hasMarks","hoverEnd","hoverStart","isActiveMonth","isPicker","labels","labelTemplate","labelContentTemplate","dragData","marks","month","monthShort","outer","pmText","rangeEnd","rangeStart","resourcesMap","selected","selectedEventsMap","showEventTooltip","text","timeFormat","timezonePlugin","todayText","type","year","onDayClick","onDayDoubleClick","onDayRightClick","onHoverIn","onHoverOut","onLabelClick","onLabelDoubleClick","onLabelRightClick","onLabelHoverIn","onLabelHoverOut","onLabelDelete","onLabelUpdateStart","onLabelUpdateMove","onLabelUpdateEnd","onLabelUpdateModeOn","onLabelUpdateModeOff"]}],directives:[{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscYearView}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscYearView,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{class:"mbsc-calendar-table mbsc-flex-col"},selector:"mbsc-year-view",template:'<div class="mbsc-calendar-row mbsc-flex mbsc-flex-1-0" *ngFor="let row of _rows; trackBy: getKey">\n    <mbsc-calendar-day\n      *ngFor="let cell of row; trackBy: getKey"\n      [active]="cell.y === _activeYear && cell.m === _activeMonth"\n      [date]="cell.d"\n      [display]="true"\n      [selected]="cell.y === _selectedYear && cell.m === _selectedMonth"\n      [disabled]="cell.d < min || cell.d >= max"\n      [month]="monthNames[cell.m]"\n      [rtl]="rtl"\n      [text]="monthNamesShort[cell.m]"\n      [theme]="theme"\n      type="month"\n      [onDayClick]="onMonthClick"\n    ></mbsc-calendar-day>\n  </div>'}]}],propDecorators:{active:[{type:Input}],activeMonth:[{type:Input}],getDate:[{type:Input}],getMonth:[{type:Input}],getYear:[{type:Input}],max:[{type:Input}],min:[{type:Input}],monthNames:[{type:Input}],monthNamesShort:[{type:Input}],rtl:[{type:Input}],theme:[{type:Input}],year:[{type:Input}],onMonthClick:[{type:Input}]}});var MbscCalendarView=/*#__PURE__*/function(_super){__extends(MbscCalendarView,_super);function MbscCalendarView(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._noop=noop;return _this}MbscCalendarView.prototype._getFirstDay=function(){return+this.s.navService.firstDay};MbscCalendarView.prototype._getMonthName=function(item){return this.s.monthNames[this.s.getMonth(new Date(item))]};MbscCalendarView.prototype._mounted=function(){this._body=this.vBody.nativeElement;_super.prototype._mounted.call(this)};MbscCalendarView.prototype._updated=function(){this._pickerCont=this.vPickerCont&&this.vPickerCont.nativeElement;_super.prototype._updated.call(this)};MbscCalendarView.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarView,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscCalendarView.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscCalendarView,selector:"mbsc-calendar-view",inputs:{activeDate:"activeDate",cssClass:"cssClass",clickToCreate:"clickToCreate",colors:"colors",dataTimezone:"dataTimezone",dayTemplate:"dayTemplate",dayContentTemplate:"dayContentTemplate",displayTimezone:"displayTimezone",dragToCreate:"dragToCreate",dragToResize:"dragToResize",dragToMove:"dragToMove",endDay:"endDay",eventExact:"eventExact",eventMap:"eventMap",eventOrder:"eventOrder",eventRange:"eventRange",eventRangeSize:"eventRangeSize",exclusiveEndDates:"exclusiveEndDates",fromText:"fromText",hasContent:"hasContent",hasPicker:"hasPicker",headerTemplate:"headerTemplate",height:"height",hoverEnd:"hoverEnd",hoverStart:"hoverStart",invalid:"invalid",instanceService:"instanceService",isPicker:"isPicker",labels:"labels",labelsMap:"labelsMap",labelTemplate:"labelTemplate",labelContentTemplate:"labelContentTemplate",dragData:"dragData",max:"max",marked:"marked",marksMap:"marksMap",min:"min",mouseSwipe:"mouseSwipe",mousewheel:"mousewheel",navService:"navService",navView:"navView",noOuterChange:"noOuterChange",downIcon:"downIcon",nextIconH:"nextIconH",nextIconV:"nextIconV",nextPageText:"nextPageText",prevIconH:"prevIconH",prevIconV:"prevIconV",prevPageText:"prevPageText",upIcon:"upIcon",pages:"pages",pageLoad:"pageLoad",refDate:"refDate",resourcesMap:"resourcesMap",rangeEnd:"rangeEnd",rangeStart:"rangeStart",responsiveStyle:"responsiveStyle",selectedDates:"selectedDates",selectedEventsMap:"selectedEventsMap",selectView:"selectView",showCalendar:"showCalendar",showControls:"showControls",showEventTooltip:"showEventTooltip",showLabelCount:"showLabelCount",showOuterDays:"showOuterDays",showSchedule:"showSchedule",showToday:"showToday",showWeekNumbers:"showWeekNumbers",size:"size",startDay:"startDay",swipe:"swipe",labelList:"labelList",timeFormat:"timeFormat",timezonePlugin:"timezonePlugin",update:"update",valid:"valid",weeks:"weeks",width:"width",calendarScroll:"calendarScroll",calendarType:"calendarType",getDate:"getDate",getDay:"getDay",getMaxDayOfMonth:"getMaxDayOfMonth",getMonth:"getMonth",getWeekNumber:"getWeekNumber",getYear:"getYear",amText:"amText",dateFormat:"dateFormat",dayNames:"dayNames",dayNamesMin:"dayNamesMin",dayNamesShort:"dayNamesShort",eventText:"eventText",eventsText:"eventsText",firstDay:"firstDay",monthNames:"monthNames",monthNamesShort:"monthNamesShort",moreEventsPluralText:"moreEventsPluralText",moreEventsText:"moreEventsText",pmText:"pmText",todayText:"todayText",toText:"toText",weekText:"weekText",yearSuffix:"yearSuffix",onActiveChange:"onActiveChange",onCellHoverIn:"onCellHoverIn",onCellHoverOut:"onCellHoverOut",onDayClick:"onDayClick",onDayDoubleClick:"onDayDoubleClick",onDayRightClick:"onDayRightClick",onDayHoverIn:"onDayHoverIn",onDayHoverOut:"onDayHoverOut",onGestureStart:"onGestureStart",onLabelClick:"onLabelClick",onLabelDoubleClick:"onLabelDoubleClick",onLabelRightClick:"onLabelRightClick",onLabelHoverIn:"onLabelHoverIn",onLabelHoverOut:"onLabelHoverOut",onLabelDelete:"onLabelDelete",onLabelUpdateStart:"onLabelUpdateStart",onLabelUpdateMove:"onLabelUpdateMove",onLabelUpdateEnd:"onLabelUpdateEnd",onLabelUpdateModeOn:"onLabelUpdateModeOn",onLabelUpdateModeOff:"onLabelUpdateModeOff",onPageChange:"onPageChange",onPageLoaded:"onPageLoaded",onPageLoading:"onPageLoading",onResize:"onResize",onTodayClick:"onTodayClick"},host:{listeners:{click:"_noop"},properties:{class:"_cssClass","style.height":"_dim.height","style.width":"_dim.width"}},viewQueries:[{propertyName:"vBody",first:true,predicate:["body"],descendants:true},{propertyName:"vPickerCont",first:true,predicate:["pickerCont"],descendants:true}],usesInheritance:true,ngImport:i0,template:' <div\n      [class]="\n        \'mbsc-calendar-wrapper mbsc-flex-col\' +\n        _theme +\n        _hb +\n        (s.hasContent || !s.showCalendar ? \' mbsc-calendar-wrapper-fixed mbsc-flex-none\' : \' mbsc-flex-1-1\')\n      "\n    >\n      <div [class]="\'mbsc-calendar-header\' + _theme + _hb + (_showDaysTop ? \' mbsc-calendar-header-vertical\' : \'\')">\n        <div *ngIf="s.showControls" [class]="\'mbsc-calendar-controls mbsc-flex\' + _theme">\n          <ng-template [ngTemplateOutlet]="headerTemplate || defaultHeader"></ng-template>\n          <ng-template #defaultHeader>\n            <mbsc-calendar-nav class="mbsc-flex mbsc-flex-1-1 mbsc-calendar-title-wrapper"> </mbsc-calendar-nav>\n            <mbsc-calendar-prev [class]="\'mbsc-calendar-button-prev\' + (_pageNr > 1 ? \' mbsc-calendar-button-prev-multi\' : \'\')">\n            </mbsc-calendar-prev>\n            <mbsc-calendar-today class="mbsc-calendar-header-today"></mbsc-calendar-today>\n            <mbsc-calendar-next [class]="\'mbsc-calendar-button-next\' + (_pageNr > 1 ? \' mbsc-calendar-button-next-multi\' : \'\')">\n            </mbsc-calendar-next>\n          </ng-template>\n        </div>\n        <mbsc-calendar-weekdays\n          *ngIf="_showDaysTop && s.showCalendar"\n          [dayNamesShort]="_dayNames"\n          [firstDay]="s.firstDay!"\n          [hasScroll]="state.hasScrollY"\n          [hidden]="_view !== PAGE_VIEW && !_hasPicker"\n          [showWeekNumbers]="s.showWeekNumbers"\n          [rtl]="_rtl"\n          [theme]="_theme"\n        >\n        </mbsc-calendar-weekdays>\n      </div>\n      <ng-template #monthView let-timestamp="timestamp" let-drag="drag" let-isActive="isActive">\n        <mbsc-month-view\n          [activeDate]="_active"\n          [amText]="s.amText"\n          [calendarType]="s.calendarType"\n          [cellTextHeight]="state.cellTextHeight"\n          [clickToCreate]="s.clickToCreate"\n          [colors]="_colors"\n          [dayNames]="s.dayNames"\n          [dayNamesShort]="_dayNames"\n          [dayTemplate]="dayTemplate"\n          [dayContentTemplate]="dayContentTemplate"\n          [dataTimezone]="dataTimezone"\n          [displayTimezone]="displayTimezone"\n          [dragData]="drag && s.dragData"\n          [dragToCreate]="drag && s.dragToCreate"\n          [dragToResize]="drag && s.dragToResize"\n          [dragToMove]="drag && s.dragToMove"\n          [eventText]="s.eventText"\n          [events]="s.eventMap"\n          [eventsText]="s.eventsText"\n          [exclusiveEndDates]="exclusiveEndDates"\n          [firstDay]="s.firstDay"\n          [firstPageDay]="timestamp"\n          [getDate]="s.getDate"\n          [getDay]="s.getDay"\n          [getMonth]="s.getMonth"\n          [getYear]="s.getYear"\n          [getWeekNumber]="s.getWeekNumber"\n          [hasMarks]="!!_marked"\n          [hoverEnd]="s.hoverEnd"\n          [hoverStart]="s.hoverStart"\n          [invalid]="_invalid"\n          [isActive]="isActive"\n          [isPicker]="s.isPicker"\n          [labels]="_labelsLayout"\n          [labelHeight]="state.labelHeight"\n          [labelTemplate]="labelTemplate"\n          [labelContentTemplate]="labelContentTemplate"\n          [marked]="_marked"\n          [max]="_maxDate"\n          [min]="_minDate"\n          [monthNames]="s.monthNames"\n          [monthNamesShort]="s.monthNamesShort"\n          [onDayClick]="_onDayClick"\n          [onDayDoubleClick]="s.onDayDoubleClick"\n          [onDayRightClick]="s.onDayRightClick"\n          [onDayHoverIn]="_onDayHoverIn"\n          [onDayHoverOut]="_onDayHoverOut"\n          [onLabelClick]="_onLabelClick"\n          [onLabelDoubleClick]="s.onLabelDoubleClick"\n          [onLabelRightClick]="s.onLabelRightClick"\n          [onLabelHoverIn]="s.onLabelHoverIn"\n          [onLabelHoverOut]="s.onLabelHoverOut"\n          [onLabelDelete]="s.onLabelDelete"\n          [onLabelUpdateStart]="drag && s.onLabelUpdateStart"\n          [onLabelUpdateMove]="drag && s.onLabelUpdateMove"\n          [onLabelUpdateEnd]="drag && s.onLabelUpdateEnd"\n          [onLabelUpdateModeOn]="drag && s.onLabelUpdateModeOn"\n          [onLabelUpdateModeOff]="drag && s.onLabelUpdateModeOff"\n          [pmText]="s.pmText"\n          [rangeEnd]="s.rangeEnd"\n          [rangeStart]="s.rangeStart"\n          [resourcesMap]="s.resourcesMap"\n          [rtl]="s.rtl"\n          [selectedDates]="s.selectedDates"\n          [selectedEventsMap]="s.selectedEventsMap"\n          [showEventTooltip]="s.showEventTooltip"\n          [showOuter]="_showOuter"\n          [showSingleMark]="!!s.marksMap"\n          [showWeekDays]="!_showDaysTop"\n          [showWeekNumbers]="s.showWeekNumbers"\n          [theme]="s.theme"\n          [timeFormat]="s.timeFormat"\n          [timezonePlugin]="timezonePlugin"\n          [todayText]="s.todayText"\n          [valid]="_valid"\n          [variableRow]="!!_variableRow"\n          [weeks]="_weeks"\n          [weekText]="s.weekText"\n        >\n        </mbsc-month-view>\n      </ng-template>\n      <div [class]="\'mbsc-calendar-body mbsc-flex-col mbsc-flex-1-1\' + _theme" (keydown)="_onKeyDown($event)" #body>\n        <div\n          *ngIf="s.showCalendar"\n          [class]="\'mbsc-calendar-body-inner mbsc-flex-col mbsc-flex-1-1\' + (_variableRow ? \' mbsc-calendar-body-inner-variable\' : \'\')"\n        >\n          <div\n            *ngIf="_isGrid"\n            [attr.aria-hidden]="_view !== PAGE_VIEW"\n            [class]="\'mbsc-calendar-grid mbsc-flex-1-1 mbsc-flex-col\' + _theme + _hb"\n          >\n            <div *ngFor="let row of _monthsMulti; trackBy: _getKey" class="mbsc-calendar-grid-row mbsc-flex mbsc-flex-1-1">\n              <div *ngFor="let item of row; trackBy: _getKey" [class]="\'mbsc-calendar-grid-item mbsc-flex-col mbsc-flex-1-1\' + _theme">\n                <div [class]="\'mbsc-calendar-month-title\' + _theme">{{ _getMonthName(item) }}</div>\n                <ng-template\n                  [ngTemplateOutlet]="monthView"\n                  [ngTemplateOutletContext]="{\n                    timestamp: item,\n                    drag: false,\n                    isActive: true\n                  }"\n                >\n                </ng-template>\n              </div>\n            </div>\n          </div>\n\n          <div\n            *ngIf="!_isGrid && _variableRow"\n            [attr.aria-hidden]="_view !== PAGE_VIEW"\n            [class]="\'mbsc-calendar-slide mbsc-calendar-slide-active \' + _getPickerClass(PAGE_VIEW)"\n          >\n            <ng-template\n              [ngTemplateOutlet]="monthView"\n              [ngTemplateOutletContext]="{\n                timestamp: _getFirstDay(),\n                isActive: true,\n                drag: true\n              }"\n            >\n            </ng-template>\n          </div>\n\n          <div\n            *ngIf="s.selectView === PAGE_VIEW && !_isGrid && !_variableRow"\n            (animationend)="_onViewAnimationEnd()"\n            [attr.aria-hidden]="_view !== PAGE_VIEW"\n            [class]="_getPickerClass(PAGE_VIEW)"\n          >\n            <mbsc-scrollview-base\n              #scrollview\n              [axis]="_axis"\n              [batchSize]="1"\n              [changeOnEnd]="true"\n              class="mbsc-calendar-scroll-wrapper"\n              easing="ease-out"\n              [items]="_months"\n              [itemNr]="_pageNr"\n              [itemSize]="state.pageSize / _pageNr"\n              [maxIndex]="_maxIndex"\n              [minIndex]="_minIndex"\n              [mouseSwipe]="s.mouseSwipe"\n              [mousewheel]="_mousewheel"\n              [onAnimationEnd]="_onAnimationEnd"\n              [onGestureStart]="_onGestureStart"\n              [onIndexChange]="_onPageChange"\n              [onStart]="_onStart"\n              [prevAnim]="_prevAnim"\n              [rtl]="s.rtl"\n              [selectedIndex]="_pageIndex"\n              [snap]="true"\n              [swipe]="s.swipe"\n              [time]="200"\n            >\n              <div\n                *ngFor="let item of scrollview.visibleItems; trackBy: _getKey"\n                [class]="\n                  \'mbsc-calendar-slide\' +\n                  (item.key >= _pageIndex && item.key < _pageIndex + _pageNr && _view === PAGE_VIEW ? \' mbsc-calendar-slide-active\' : \'\') +\n                  _theme +\n                  _rtl\n                "\n                [ngStyle]="_getPageStyle(item.key, scrollview._offset, _pageIndex, _pageNr)"\n              >\n                <ng-template\n                  [ngTemplateOutlet]="monthView"\n                  [ngTemplateOutletContext]="{\n                    timestamp: _getPageDay(item.key),\n                    drag: true,\n                    isActive: item.key >= _pageIndex && item.key < _pageIndex + _pageNr && _view === PAGE_VIEW\n                  }"\n                >\n                </ng-template>\n              </div>\n            </mbsc-scrollview-base>\n          </div>\n          <div *ngIf="!_hasPicker" #pickerCont>\n            <ng-container *ngTemplateOutlet="picker"></ng-container>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ng-content></ng-content>\n    <mbsc-popup\n      *ngIf="_hasPicker"\n      [anchor]="_pickerBtn"\n      class="mbsc-calendar-popup"\n      [closeOnScroll]="true"\n      [contentPadding]="false"\n      [context]="s.context"\n      display="anchored"\n      [isOpen]="_view !== PAGE_VIEW"\n      [locale]="s.locale"\n      (onClose)="_onPickerClose()"\n      (onOpen)="_onPickerOpen()"\n      [rtl]="s.rtl"\n      [scrollLock]="false"\n      [showOverlay]="false"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n    >\n      <div (keydown)="_onKeyDown($event)">\n        <div [class]="\'mbsc-calendar-controls mbsc-flex\' + _theme">\n          <div\n            aria-live="polite"\n            [class]="\'mbsc-calendar-picker-button-wrapper mbsc-calendar-title-wrapper mbsc-flex mbsc-flex-1-1\' + _theme"\n          >\n            <mbsc-button\n              class="mbsc-calendar-button"\n              (click)="_onPickerBtnClick($event)"\n              [theme]="s.theme"\n              [themeVariant]="s.themeVariant"\n              variant="flat"\n            >\n              {{ _viewTitle }}\n            </mbsc-button>\n          </div>\n          <mbsc-button\n            [attr.aria-label]="s.prevPageText"\n            class="mbsc-calendar-button"\n            (click)="prevPage()"\n            [disabled]="_isPrevDisabled(true)"\n            [iconSvg]="_prevIcon"\n            [theme]="s.theme"\n            [themeVariant]="s.themeVariant"\n            variant="flat"\n          ></mbsc-button>\n          <mbsc-button\n            [attr.aria-label]="s.nextPageText"\n            class="mbsc-calendar-button"\n            (click)="nextPage()"\n            [disabled]="_isNextDisabled(true)"\n            [iconSvg]="_nextIcon"\n            [theme]="s.theme"\n            [themeVariant]="s.themeVariant"\n            variant="flat"\n          ></mbsc-button>\n        </div>\n        <div class="mbsc-calendar-picker-wrapper" #pickerCont>\n          <ng-container *ngTemplateOutlet="picker"></ng-container>\n        </div>\n      </div>\n    </mbsc-popup>\n    <ng-template #picker>\n      <div\n        *ngIf="state.view === MULTI_YEAR_VIEW || state.viewClosing === MULTI_YEAR_VIEW || selectView === MULTI_YEAR_VIEW"\n        (animationend)="_onViewAnimationEnd()"\n        [class]="_getPickerClass(MULTI_YEAR_VIEW)"\n      >\n        <mbsc-scrollview-base\n          #multiYearView\n          [axis]="_axis"\n          [batchSize]="1"\n          [changeOnEnd]="true"\n          [class]="\'mbsc-calendar-scroll-wrapper\' + _theme"\n          easing="ease-out"\n          [items]="_months"\n          [itemSize]="state.pickerSize"\n          [maxIndex]="_maxYearsIndex"\n          [minIndex]="_minYearsIndex"\n          [mousewheel]="_mousewheel"\n          [onGestureEnd]="_onGestureEnd"\n          [onIndexChange]="_onYearsPageChange"\n          [prevAnim]="_prevAnim"\n          [rtl]="s.rtl"\n          [selectedIndex]="_yearsIndex"\n          [snap]="true"\n          [time]="200"\n        >\n          <div\n            *ngFor="let item of multiYearView.visibleItems; trackBy: _getKey"\n            [attr.aria-hidden]="item.key === _yearsIndex ? undefined : \'true\'"\n            [class]="\'mbsc-calendar-picker-slide mbsc-calendar-slide\' + _theme + _rtl"\n            [ngStyle]="_getPageStyle(item.key, multiYearView._offset, _yearsIndex)"\n          >\n            <mbsc-multi-year-view\n              [active]="_active"\n              [activeMonth]="_activeMonth"\n              [firstYear]="_getPageYears(item.key)"\n              [getDate]="s.getDate!"\n              [getYear]="s.getYear!"\n              [max]="_maxYears"\n              [min]="_minYears"\n              [rtl]="s.rtl"\n              [theme]="s.theme"\n              [yearSuffix]="s.yearSuffix"\n              [onYearClick]="_onYearClick"\n            ></mbsc-multi-year-view>\n          </div>\n        </mbsc-scrollview-base>\n      </div>\n      <div\n        *ngIf="state.view === YEAR_VIEW || state.viewClosing === YEAR_VIEW || selectView === YEAR_VIEW"\n        (animationend)="_onViewAnimationEnd()"\n        [class]="_getPickerClass(YEAR_VIEW)"\n      >\n        <mbsc-scrollview-base\n          #yearView\n          [axis]="_axis"\n          [batchSize]="1"\n          [changeOnEnd]="true"\n          [class]="\'mbsc-calendar-scroll-wrapper\' + _theme"\n          easing="ease-out"\n          [items]="_months"\n          [itemSize]="state.pickerSize"\n          [maxIndex]="_maxYearIndex"\n          [minIndex]="_minYearIndex"\n          [mousewheel]="_mousewheel"\n          [onGestureEnd]="_onGestureEnd"\n          [onIndexChange]="_onYearPageChange"\n          [prevAnim]="_prevAnim"\n          [rtl]="s.rtl"\n          [selectedIndex]="_yearIndex"\n          [snap]="true"\n          [time]="200"\n        >\n          <div\n            *ngFor="let item of yearView.visibleItems; trackBy: _getKey"\n            [attr.aria-hidden]="item.key === _yearIndex ? undefined : \'true\'"\n            [class]="\'mbsc-calendar-picker-slide mbsc-calendar-slide\' + _theme + _rtl"\n            [ngStyle]="_getPageStyle(item.key, yearView._offset, _yearIndex)"\n          >\n            <mbsc-year-view\n              [active]="_active"\n              [activeMonth]="_activeMonth"\n              [getDate]="s.getDate!"\n              [getMonth]="s.getMonth!"\n              [getYear]="s.getYear!"\n              [max]="_maxYear"\n              [min]="_minYear"\n              [monthNames]="s.monthNames!"\n              [monthNamesShort]="s.monthNamesShort!"\n              [onMonthClick]="_onMonthClick"\n              [rtl]="s.rtl"\n              [theme]="s.theme"\n              [year]="_getPageYear(item.key)"\n            ></mbsc-year-view>\n          </div>\n        </mbsc-scrollview-base>\n      </div>\n      <div\n        *ngIf="_hasPicker && (state.view === MONTH_VIEW || state.viewClosing === MONTH_VIEW)"\n        (animationend)="_onViewAnimationEnd()"\n        [class]="_getPickerClass(MONTH_VIEW)"\n      >\n        <mbsc-scrollview-base\n          #montView\n          [axis]="_axis"\n          [batchSize]="1"\n          [changeOnEnd]="true"\n          [class]="\'mbsc-calendar-scroll-wrapper\' + _theme"\n          easing="ease-out"\n          [items]="_months"\n          [itemSize]="state.pickerSize"\n          [maxIndex]="_maxMonthIndex"\n          [minIndex]="_minMonthIndex"\n          [mousewheel]="_mousewheel"\n          [onGestureEnd]="_onGestureEnd"\n          [onIndexChange]="_onMonthPageChange"\n          [prevAnim]="_prevAnim"\n          [rtl]="s.rtl"\n          [selectedIndex]="_monthIndex"\n          [snap]="true"\n          [time]="200"\n        >\n          <div\n            *ngFor="let item of montView.visibleItems; trackBy: _getKey"\n            [class]="\'mbsc-calendar-picker-slide mbsc-calendar-slide\' + _theme + _rtl"\n            [ngStyle]="_getPageStyle(item.key, montView._offset, 1)"\n          >\n            <mbsc-month-view\n              [activeDate]="_activeMonth"\n              [dataTimezone]="dataTimezone"\n              [dayNames]="s.dayNames"\n              [dayNamesShort]="s.dayNamesMin"\n              [displayTimezone]="displayTimezone"\n              [firstDay]="s.firstDay"\n              [firstPageDay]="_getPageMonth(item.key)"\n              [getDate]="s.getDate"\n              [getDay]="s.getDay"\n              [getMonth]="s.getMonth"\n              [getYear]="s.getYear"\n              [isActive]="item.key >= _monthIndex && item.key < _monthIndex + 1"\n              [max]="_maxDate"\n              [min]="_minDate"\n              [monthNames]="s.monthNames"\n              [monthNamesShort]="s.monthNamesShort"\n              [onDayClick]="_onNavDayClick"\n              [rtl]="s.rtl"\n              [selectedDates]="s.selectedDates"\n              [showOuter]="true"\n              [showWeekDays]="!_showDaysTop"\n              [theme]="s.theme"\n              [timezonePlugin]="timezonePlugin"\n              [todayText]="s.todayText"\n            >\n            </mbsc-month-view>\n          </div>\n        </mbsc-scrollview-base>\n      </div>\n    </ng-template>',isInline:true,components:[{type:MbscCalendarNav,selector:"mbsc-calendar-nav"},{type:MbscCalendarPrev,selector:"mbsc-calendar-prev"},{type:MbscCalendarToday,selector:"mbsc-calendar-today"},{type:MbscCalendarNext,selector:"mbsc-calendar-next"},{type:MbscCalendarWeekDays,selector:"mbsc-calendar-weekdays",inputs:["firstDay","hasScroll","dayNamesShort","rtl","showWeekNumbers","theme"]},{type:MbscMonthView,selector:"mbsc-month-view",inputs:["activeDate","amText","calendarType","cellTextHeight","clickToCreate","colors","dataTimezone","dayNames","dayNamesMin","dayNamesShort","dayTemplate","dayContentTemplate","displayTimezone","dragToCreate","dragToResize","dragToMove","eventText","events","eventsText","exclusiveEndDates","firstDay","firstPageDay","hasMarks","hoverEnd","hoverStart","isActive","isPicker","invalid","labels","labelHeight","labelTemplate","labelContentTemplate","dragData","marked","max","min","monthNames","monthNamesShort","pmText","rangeEnd","rangeStart","selectedDates","selectedEventsMap","showEventTooltip","showOuter","showWeekDays","showWeekNumbers","showSingleMark","resourcesMap","todayText","timeFormat","timezonePlugin","valid","variableRow","weeks","weekText","getDate","getDay","getMonth","getWeekNumber","getYear","onDayClick","onDayDoubleClick","onDayRightClick","onDayHoverIn","onDayHoverOut","onLabelClick","onLabelDoubleClick","onLabelRightClick","onLabelHoverIn","onLabelHoverOut","onLabelDelete","onLabelUpdateStart","onLabelUpdateMove","onLabelUpdateEnd","onLabelUpdateModeOn","onLabelUpdateModeOff"]},{type:MbscScrollviewBase,selector:"mbsc-scrollview-base",inputs:["axis","batchSize","batchSize3d","changeOnEnd","easing","innerClass","innerStyles","items","itemSize","itemNr","selectedIndex","margin","maxIndex","minIndex","mouseSwipe","mousewheel","offset","prevAnim","scroll3d","scrollBar","snap","spaceAround","swipe","time","touchUi","visibleSize","onAnimationEnd","onGestureStart","onGestureEnd","onIndexChange","onStart"]},{type:MbscPopup,selector:"mbsc-popup",inputs:["activeElm","anchor","anchorAlign","animation","ariaLabel","buttons","buttonVariant","closeOnEsc","closeOnOverlayClick","closeOnScroll","contentPadding","cssClass","disableLeftRight","display","focusElm","focusOnClose","focusOnOpen","focusTrap","fullScreen","headerText","height","isOpen","maxHeight","maxWidth","scrollLock","setActive","showArrow","showOverlay","windowWidth","width","cancelText","closeText","okText","setText"],outputs:["onButtonClick","onOverlayClick","onClose","onClosed","onKeyDown","onOpen","onPosition","onResize"]},{type:MbscButton,selector:"mbsc-button",inputs:["ariaLabel","color","disabled","endIcon","endIconSrc","endIconSvg","hidden","icon","iconSvg","iconSrc","ripple","role","startIcon","startIconSrc","startIconSvg","tabIndex","variant"]},{type:MbscMultiYearView,selector:"mbsc-multi-year-view",inputs:["active","activeMonth","firstYear","getDate","getYear","max","min","rtl","theme","yearSuffix","onYearClick"]},{type:MbscYearView,selector:"mbsc-year-view",inputs:["active","activeMonth","getDate","getMonth","getYear","max","min","monthNames","monthNamesShort","rtl","theme","year","onMonthClick"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:i1$1.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscCalendarView}(CalendarViewBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarView,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"(click)":"_noop","[class]":"_cssClass","[style.height]":"_dim.height","[style.width]":"_dim.width"},selector:"mbsc-calendar-view",template:' <div\n      [class]="\n        \'mbsc-calendar-wrapper mbsc-flex-col\' +\n        _theme +\n        _hb +\n        (s.hasContent || !s.showCalendar ? \' mbsc-calendar-wrapper-fixed mbsc-flex-none\' : \' mbsc-flex-1-1\')\n      "\n    >\n      <div [class]="\'mbsc-calendar-header\' + _theme + _hb + (_showDaysTop ? \' mbsc-calendar-header-vertical\' : \'\')">\n        <div *ngIf="s.showControls" [class]="\'mbsc-calendar-controls mbsc-flex\' + _theme">\n          <ng-template [ngTemplateOutlet]="headerTemplate || defaultHeader"></ng-template>\n          <ng-template #defaultHeader>\n            <mbsc-calendar-nav class="mbsc-flex mbsc-flex-1-1 mbsc-calendar-title-wrapper"> </mbsc-calendar-nav>\n            <mbsc-calendar-prev [class]="\'mbsc-calendar-button-prev\' + (_pageNr > 1 ? \' mbsc-calendar-button-prev-multi\' : \'\')">\n            </mbsc-calendar-prev>\n            <mbsc-calendar-today class="mbsc-calendar-header-today"></mbsc-calendar-today>\n            <mbsc-calendar-next [class]="\'mbsc-calendar-button-next\' + (_pageNr > 1 ? \' mbsc-calendar-button-next-multi\' : \'\')">\n            </mbsc-calendar-next>\n          </ng-template>\n        </div>\n        <mbsc-calendar-weekdays\n          *ngIf="_showDaysTop && s.showCalendar"\n          [dayNamesShort]="_dayNames"\n          [firstDay]="s.firstDay!"\n          [hasScroll]="state.hasScrollY"\n          [hidden]="_view !== PAGE_VIEW && !_hasPicker"\n          [showWeekNumbers]="s.showWeekNumbers"\n          [rtl]="_rtl"\n          [theme]="_theme"\n        >\n        </mbsc-calendar-weekdays>\n      </div>\n      <ng-template #monthView let-timestamp="timestamp" let-drag="drag" let-isActive="isActive">\n        <mbsc-month-view\n          [activeDate]="_active"\n          [amText]="s.amText"\n          [calendarType]="s.calendarType"\n          [cellTextHeight]="state.cellTextHeight"\n          [clickToCreate]="s.clickToCreate"\n          [colors]="_colors"\n          [dayNames]="s.dayNames"\n          [dayNamesShort]="_dayNames"\n          [dayTemplate]="dayTemplate"\n          [dayContentTemplate]="dayContentTemplate"\n          [dataTimezone]="dataTimezone"\n          [displayTimezone]="displayTimezone"\n          [dragData]="drag && s.dragData"\n          [dragToCreate]="drag && s.dragToCreate"\n          [dragToResize]="drag && s.dragToResize"\n          [dragToMove]="drag && s.dragToMove"\n          [eventText]="s.eventText"\n          [events]="s.eventMap"\n          [eventsText]="s.eventsText"\n          [exclusiveEndDates]="exclusiveEndDates"\n          [firstDay]="s.firstDay"\n          [firstPageDay]="timestamp"\n          [getDate]="s.getDate"\n          [getDay]="s.getDay"\n          [getMonth]="s.getMonth"\n          [getYear]="s.getYear"\n          [getWeekNumber]="s.getWeekNumber"\n          [hasMarks]="!!_marked"\n          [hoverEnd]="s.hoverEnd"\n          [hoverStart]="s.hoverStart"\n          [invalid]="_invalid"\n          [isActive]="isActive"\n          [isPicker]="s.isPicker"\n          [labels]="_labelsLayout"\n          [labelHeight]="state.labelHeight"\n          [labelTemplate]="labelTemplate"\n          [labelContentTemplate]="labelContentTemplate"\n          [marked]="_marked"\n          [max]="_maxDate"\n          [min]="_minDate"\n          [monthNames]="s.monthNames"\n          [monthNamesShort]="s.monthNamesShort"\n          [onDayClick]="_onDayClick"\n          [onDayDoubleClick]="s.onDayDoubleClick"\n          [onDayRightClick]="s.onDayRightClick"\n          [onDayHoverIn]="_onDayHoverIn"\n          [onDayHoverOut]="_onDayHoverOut"\n          [onLabelClick]="_onLabelClick"\n          [onLabelDoubleClick]="s.onLabelDoubleClick"\n          [onLabelRightClick]="s.onLabelRightClick"\n          [onLabelHoverIn]="s.onLabelHoverIn"\n          [onLabelHoverOut]="s.onLabelHoverOut"\n          [onLabelDelete]="s.onLabelDelete"\n          [onLabelUpdateStart]="drag && s.onLabelUpdateStart"\n          [onLabelUpdateMove]="drag && s.onLabelUpdateMove"\n          [onLabelUpdateEnd]="drag && s.onLabelUpdateEnd"\n          [onLabelUpdateModeOn]="drag && s.onLabelUpdateModeOn"\n          [onLabelUpdateModeOff]="drag && s.onLabelUpdateModeOff"\n          [pmText]="s.pmText"\n          [rangeEnd]="s.rangeEnd"\n          [rangeStart]="s.rangeStart"\n          [resourcesMap]="s.resourcesMap"\n          [rtl]="s.rtl"\n          [selectedDates]="s.selectedDates"\n          [selectedEventsMap]="s.selectedEventsMap"\n          [showEventTooltip]="s.showEventTooltip"\n          [showOuter]="_showOuter"\n          [showSingleMark]="!!s.marksMap"\n          [showWeekDays]="!_showDaysTop"\n          [showWeekNumbers]="s.showWeekNumbers"\n          [theme]="s.theme"\n          [timeFormat]="s.timeFormat"\n          [timezonePlugin]="timezonePlugin"\n          [todayText]="s.todayText"\n          [valid]="_valid"\n          [variableRow]="!!_variableRow"\n          [weeks]="_weeks"\n          [weekText]="s.weekText"\n        >\n        </mbsc-month-view>\n      </ng-template>\n      <div [class]="\'mbsc-calendar-body mbsc-flex-col mbsc-flex-1-1\' + _theme" (keydown)="_onKeyDown($event)" #body>\n        <div\n          *ngIf="s.showCalendar"\n          [class]="\'mbsc-calendar-body-inner mbsc-flex-col mbsc-flex-1-1\' + (_variableRow ? \' mbsc-calendar-body-inner-variable\' : \'\')"\n        >\n          <div\n            *ngIf="_isGrid"\n            [attr.aria-hidden]="_view !== PAGE_VIEW"\n            [class]="\'mbsc-calendar-grid mbsc-flex-1-1 mbsc-flex-col\' + _theme + _hb"\n          >\n            <div *ngFor="let row of _monthsMulti; trackBy: _getKey" class="mbsc-calendar-grid-row mbsc-flex mbsc-flex-1-1">\n              <div *ngFor="let item of row; trackBy: _getKey" [class]="\'mbsc-calendar-grid-item mbsc-flex-col mbsc-flex-1-1\' + _theme">\n                <div [class]="\'mbsc-calendar-month-title\' + _theme">{{ _getMonthName(item) }}</div>\n                <ng-template\n                  [ngTemplateOutlet]="monthView"\n                  [ngTemplateOutletContext]="{\n                    timestamp: item,\n                    drag: false,\n                    isActive: true\n                  }"\n                >\n                </ng-template>\n              </div>\n            </div>\n          </div>\n\n          <div\n            *ngIf="!_isGrid && _variableRow"\n            [attr.aria-hidden]="_view !== PAGE_VIEW"\n            [class]="\'mbsc-calendar-slide mbsc-calendar-slide-active \' + _getPickerClass(PAGE_VIEW)"\n          >\n            <ng-template\n              [ngTemplateOutlet]="monthView"\n              [ngTemplateOutletContext]="{\n                timestamp: _getFirstDay(),\n                isActive: true,\n                drag: true\n              }"\n            >\n            </ng-template>\n          </div>\n\n          <div\n            *ngIf="s.selectView === PAGE_VIEW && !_isGrid && !_variableRow"\n            (animationend)="_onViewAnimationEnd()"\n            [attr.aria-hidden]="_view !== PAGE_VIEW"\n            [class]="_getPickerClass(PAGE_VIEW)"\n          >\n            <mbsc-scrollview-base\n              #scrollview\n              [axis]="_axis"\n              [batchSize]="1"\n              [changeOnEnd]="true"\n              class="mbsc-calendar-scroll-wrapper"\n              easing="ease-out"\n              [items]="_months"\n              [itemNr]="_pageNr"\n              [itemSize]="state.pageSize / _pageNr"\n              [maxIndex]="_maxIndex"\n              [minIndex]="_minIndex"\n              [mouseSwipe]="s.mouseSwipe"\n              [mousewheel]="_mousewheel"\n              [onAnimationEnd]="_onAnimationEnd"\n              [onGestureStart]="_onGestureStart"\n              [onIndexChange]="_onPageChange"\n              [onStart]="_onStart"\n              [prevAnim]="_prevAnim"\n              [rtl]="s.rtl"\n              [selectedIndex]="_pageIndex"\n              [snap]="true"\n              [swipe]="s.swipe"\n              [time]="200"\n            >\n              <div\n                *ngFor="let item of scrollview.visibleItems; trackBy: _getKey"\n                [class]="\n                  \'mbsc-calendar-slide\' +\n                  (item.key >= _pageIndex && item.key < _pageIndex + _pageNr && _view === PAGE_VIEW ? \' mbsc-calendar-slide-active\' : \'\') +\n                  _theme +\n                  _rtl\n                "\n                [ngStyle]="_getPageStyle(item.key, scrollview._offset, _pageIndex, _pageNr)"\n              >\n                <ng-template\n                  [ngTemplateOutlet]="monthView"\n                  [ngTemplateOutletContext]="{\n                    timestamp: _getPageDay(item.key),\n                    drag: true,\n                    isActive: item.key >= _pageIndex && item.key < _pageIndex + _pageNr && _view === PAGE_VIEW\n                  }"\n                >\n                </ng-template>\n              </div>\n            </mbsc-scrollview-base>\n          </div>\n          <div *ngIf="!_hasPicker" #pickerCont>\n            <ng-container *ngTemplateOutlet="picker"></ng-container>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ng-content></ng-content>\n    <mbsc-popup\n      *ngIf="_hasPicker"\n      [anchor]="_pickerBtn"\n      class="mbsc-calendar-popup"\n      [closeOnScroll]="true"\n      [contentPadding]="false"\n      [context]="s.context"\n      display="anchored"\n      [isOpen]="_view !== PAGE_VIEW"\n      [locale]="s.locale"\n      (onClose)="_onPickerClose()"\n      (onOpen)="_onPickerOpen()"\n      [rtl]="s.rtl"\n      [scrollLock]="false"\n      [showOverlay]="false"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n    >\n      <div (keydown)="_onKeyDown($event)">\n        <div [class]="\'mbsc-calendar-controls mbsc-flex\' + _theme">\n          <div\n            aria-live="polite"\n            [class]="\'mbsc-calendar-picker-button-wrapper mbsc-calendar-title-wrapper mbsc-flex mbsc-flex-1-1\' + _theme"\n          >\n            <mbsc-button\n              class="mbsc-calendar-button"\n              (click)="_onPickerBtnClick($event)"\n              [theme]="s.theme"\n              [themeVariant]="s.themeVariant"\n              variant="flat"\n            >\n              {{ _viewTitle }}\n            </mbsc-button>\n          </div>\n          <mbsc-button\n            [attr.aria-label]="s.prevPageText"\n            class="mbsc-calendar-button"\n            (click)="prevPage()"\n            [disabled]="_isPrevDisabled(true)"\n            [iconSvg]="_prevIcon"\n            [theme]="s.theme"\n            [themeVariant]="s.themeVariant"\n            variant="flat"\n          ></mbsc-button>\n          <mbsc-button\n            [attr.aria-label]="s.nextPageText"\n            class="mbsc-calendar-button"\n            (click)="nextPage()"\n            [disabled]="_isNextDisabled(true)"\n            [iconSvg]="_nextIcon"\n            [theme]="s.theme"\n            [themeVariant]="s.themeVariant"\n            variant="flat"\n          ></mbsc-button>\n        </div>\n        <div class="mbsc-calendar-picker-wrapper" #pickerCont>\n          <ng-container *ngTemplateOutlet="picker"></ng-container>\n        </div>\n      </div>\n    </mbsc-popup>\n    <ng-template #picker>\n      <div\n        *ngIf="state.view === MULTI_YEAR_VIEW || state.viewClosing === MULTI_YEAR_VIEW || selectView === MULTI_YEAR_VIEW"\n        (animationend)="_onViewAnimationEnd()"\n        [class]="_getPickerClass(MULTI_YEAR_VIEW)"\n      >\n        <mbsc-scrollview-base\n          #multiYearView\n          [axis]="_axis"\n          [batchSize]="1"\n          [changeOnEnd]="true"\n          [class]="\'mbsc-calendar-scroll-wrapper\' + _theme"\n          easing="ease-out"\n          [items]="_months"\n          [itemSize]="state.pickerSize"\n          [maxIndex]="_maxYearsIndex"\n          [minIndex]="_minYearsIndex"\n          [mousewheel]="_mousewheel"\n          [onGestureEnd]="_onGestureEnd"\n          [onIndexChange]="_onYearsPageChange"\n          [prevAnim]="_prevAnim"\n          [rtl]="s.rtl"\n          [selectedIndex]="_yearsIndex"\n          [snap]="true"\n          [time]="200"\n        >\n          <div\n            *ngFor="let item of multiYearView.visibleItems; trackBy: _getKey"\n            [attr.aria-hidden]="item.key === _yearsIndex ? undefined : \'true\'"\n            [class]="\'mbsc-calendar-picker-slide mbsc-calendar-slide\' + _theme + _rtl"\n            [ngStyle]="_getPageStyle(item.key, multiYearView._offset, _yearsIndex)"\n          >\n            <mbsc-multi-year-view\n              [active]="_active"\n              [activeMonth]="_activeMonth"\n              [firstYear]="_getPageYears(item.key)"\n              [getDate]="s.getDate!"\n              [getYear]="s.getYear!"\n              [max]="_maxYears"\n              [min]="_minYears"\n              [rtl]="s.rtl"\n              [theme]="s.theme"\n              [yearSuffix]="s.yearSuffix"\n              [onYearClick]="_onYearClick"\n            ></mbsc-multi-year-view>\n          </div>\n        </mbsc-scrollview-base>\n      </div>\n      <div\n        *ngIf="state.view === YEAR_VIEW || state.viewClosing === YEAR_VIEW || selectView === YEAR_VIEW"\n        (animationend)="_onViewAnimationEnd()"\n        [class]="_getPickerClass(YEAR_VIEW)"\n      >\n        <mbsc-scrollview-base\n          #yearView\n          [axis]="_axis"\n          [batchSize]="1"\n          [changeOnEnd]="true"\n          [class]="\'mbsc-calendar-scroll-wrapper\' + _theme"\n          easing="ease-out"\n          [items]="_months"\n          [itemSize]="state.pickerSize"\n          [maxIndex]="_maxYearIndex"\n          [minIndex]="_minYearIndex"\n          [mousewheel]="_mousewheel"\n          [onGestureEnd]="_onGestureEnd"\n          [onIndexChange]="_onYearPageChange"\n          [prevAnim]="_prevAnim"\n          [rtl]="s.rtl"\n          [selectedIndex]="_yearIndex"\n          [snap]="true"\n          [time]="200"\n        >\n          <div\n            *ngFor="let item of yearView.visibleItems; trackBy: _getKey"\n            [attr.aria-hidden]="item.key === _yearIndex ? undefined : \'true\'"\n            [class]="\'mbsc-calendar-picker-slide mbsc-calendar-slide\' + _theme + _rtl"\n            [ngStyle]="_getPageStyle(item.key, yearView._offset, _yearIndex)"\n          >\n            <mbsc-year-view\n              [active]="_active"\n              [activeMonth]="_activeMonth"\n              [getDate]="s.getDate!"\n              [getMonth]="s.getMonth!"\n              [getYear]="s.getYear!"\n              [max]="_maxYear"\n              [min]="_minYear"\n              [monthNames]="s.monthNames!"\n              [monthNamesShort]="s.monthNamesShort!"\n              [onMonthClick]="_onMonthClick"\n              [rtl]="s.rtl"\n              [theme]="s.theme"\n              [year]="_getPageYear(item.key)"\n            ></mbsc-year-view>\n          </div>\n        </mbsc-scrollview-base>\n      </div>\n      <div\n        *ngIf="_hasPicker && (state.view === MONTH_VIEW || state.viewClosing === MONTH_VIEW)"\n        (animationend)="_onViewAnimationEnd()"\n        [class]="_getPickerClass(MONTH_VIEW)"\n      >\n        <mbsc-scrollview-base\n          #montView\n          [axis]="_axis"\n          [batchSize]="1"\n          [changeOnEnd]="true"\n          [class]="\'mbsc-calendar-scroll-wrapper\' + _theme"\n          easing="ease-out"\n          [items]="_months"\n          [itemSize]="state.pickerSize"\n          [maxIndex]="_maxMonthIndex"\n          [minIndex]="_minMonthIndex"\n          [mousewheel]="_mousewheel"\n          [onGestureEnd]="_onGestureEnd"\n          [onIndexChange]="_onMonthPageChange"\n          [prevAnim]="_prevAnim"\n          [rtl]="s.rtl"\n          [selectedIndex]="_monthIndex"\n          [snap]="true"\n          [time]="200"\n        >\n          <div\n            *ngFor="let item of montView.visibleItems; trackBy: _getKey"\n            [class]="\'mbsc-calendar-picker-slide mbsc-calendar-slide\' + _theme + _rtl"\n            [ngStyle]="_getPageStyle(item.key, montView._offset, 1)"\n          >\n            <mbsc-month-view\n              [activeDate]="_activeMonth"\n              [dataTimezone]="dataTimezone"\n              [dayNames]="s.dayNames"\n              [dayNamesShort]="s.dayNamesMin"\n              [displayTimezone]="displayTimezone"\n              [firstDay]="s.firstDay"\n              [firstPageDay]="_getPageMonth(item.key)"\n              [getDate]="s.getDate"\n              [getDay]="s.getDay"\n              [getMonth]="s.getMonth"\n              [getYear]="s.getYear"\n              [isActive]="item.key >= _monthIndex && item.key < _monthIndex + 1"\n              [max]="_maxDate"\n              [min]="_minDate"\n              [monthNames]="s.monthNames"\n              [monthNamesShort]="s.monthNamesShort"\n              [onDayClick]="_onNavDayClick"\n              [rtl]="s.rtl"\n              [selectedDates]="s.selectedDates"\n              [showOuter]="true"\n              [showWeekDays]="!_showDaysTop"\n              [theme]="s.theme"\n              [timezonePlugin]="timezonePlugin"\n              [todayText]="s.todayText"\n            >\n            </mbsc-month-view>\n          </div>\n        </mbsc-scrollview-base>\n      </div>\n    </ng-template>'}]}],propDecorators:{vBody:[{type:ViewChild,args:["body",{static:false}]}],vPickerCont:[{type:ViewChild,args:["pickerCont",{static:false}]}],activeDate:[{type:Input}],cssClass:[{type:Input}],clickToCreate:[{type:Input}],colors:[{type:Input}],dataTimezone:[{type:Input}],dayTemplate:[{type:Input}],dayContentTemplate:[{type:Input}],displayTimezone:[{type:Input}],dragToCreate:[{type:Input}],dragToResize:[{type:Input}],dragToMove:[{type:Input}],endDay:[{type:Input}],eventExact:[{type:Input}],eventMap:[{type:Input}],eventOrder:[{type:Input}],eventRange:[{type:Input}],eventRangeSize:[{type:Input}],exclusiveEndDates:[{type:Input}],fromText:[{type:Input}],hasContent:[{type:Input}],hasPicker:[{type:Input}],headerTemplate:[{type:Input}],height:[{type:Input}],hoverEnd:[{type:Input}],hoverStart:[{type:Input}],invalid:[{type:Input}],instanceService:[{type:Input}],isPicker:[{type:Input}],labels:[{type:Input}],labelsMap:[{type:Input}],labelTemplate:[{type:Input}],labelContentTemplate:[{type:Input}],dragData:[{type:Input}],max:[{type:Input}],marked:[{type:Input}],marksMap:[{type:Input}],min:[{type:Input}],mouseSwipe:[{type:Input}],mousewheel:[{type:Input}],navService:[{type:Input}],navView:[{type:Input}],noOuterChange:[{type:Input}],downIcon:[{type:Input}],nextIconH:[{type:Input}],nextIconV:[{type:Input}],nextPageText:[{type:Input}],prevIconH:[{type:Input}],prevIconV:[{type:Input}],prevPageText:[{type:Input}],upIcon:[{type:Input}],pages:[{type:Input}],pageLoad:[{type:Input}],refDate:[{type:Input}],resourcesMap:[{type:Input}],rangeEnd:[{type:Input}],rangeStart:[{type:Input}],responsiveStyle:[{type:Input}],selectedDates:[{type:Input}],selectedEventsMap:[{type:Input}],selectView:[{type:Input}],showCalendar:[{type:Input}],showControls:[{type:Input}],showEventTooltip:[{type:Input}],showLabelCount:[{type:Input}],showOuterDays:[{type:Input}],showSchedule:[{type:Input}],showToday:[{type:Input}],showWeekNumbers:[{type:Input}],size:[{type:Input}],startDay:[{type:Input}],swipe:[{type:Input}],labelList:[{type:Input}],timeFormat:[{type:Input}],timezonePlugin:[{type:Input}],update:[{type:Input}],valid:[{type:Input}],weeks:[{type:Input}],width:[{type:Input}],calendarScroll:[{type:Input}],calendarType:[{type:Input}],getDate:[{type:Input}],getDay:[{type:Input}],getMaxDayOfMonth:[{type:Input}],getMonth:[{type:Input}],getWeekNumber:[{type:Input}],getYear:[{type:Input}],amText:[{type:Input}],dateFormat:[{type:Input}],dayNames:[{type:Input}],dayNamesMin:[{type:Input}],dayNamesShort:[{type:Input}],eventText:[{type:Input}],eventsText:[{type:Input}],firstDay:[{type:Input}],monthNames:[{type:Input}],monthNamesShort:[{type:Input}],moreEventsPluralText:[{type:Input}],moreEventsText:[{type:Input}],pmText:[{type:Input}],todayText:[{type:Input}],toText:[{type:Input}],weekText:[{type:Input}],yearSuffix:[{type:Input}],onActiveChange:[{type:Input}],onCellHoverIn:[{type:Input}],onCellHoverOut:[{type:Input}],onDayClick:[{type:Input}],onDayDoubleClick:[{type:Input}],onDayRightClick:[{type:Input}],onDayHoverIn:[{type:Input}],onDayHoverOut:[{type:Input}],onGestureStart:[{type:Input}],onLabelClick:[{type:Input}],onLabelDoubleClick:[{type:Input}],onLabelRightClick:[{type:Input}],onLabelHoverIn:[{type:Input}],onLabelHoverOut:[{type:Input}],onLabelDelete:[{type:Input}],onLabelUpdateStart:[{type:Input}],onLabelUpdateMove:[{type:Input}],onLabelUpdateEnd:[{type:Input}],onLabelUpdateModeOn:[{type:Input}],onLabelUpdateModeOff:[{type:Input}],onPageChange:[{type:Input}],onPageLoaded:[{type:Input}],onPageLoading:[{type:Input}],onResize:[{type:Input}],onTodayClick:[{type:Input}]}});var MbscScrollviewBaseModule=/*#__PURE__*/function(){function MbscScrollviewBaseModule(){}MbscScrollviewBaseModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScrollviewBaseModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscScrollviewBaseModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScrollviewBaseModule,declarations:[MbscScrollviewBase,ScrollviewBase],imports:[CommonModule],exports:[MbscScrollviewBase]});MbscScrollviewBaseModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScrollviewBaseModule,imports:[[CommonModule]]});return MbscScrollviewBaseModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScrollviewBaseModule,decorators:[{type:NgModule,args:[{declarations:[MbscScrollviewBase,ScrollviewBase],exports:[MbscScrollviewBase],imports:[CommonModule]}]}]});var MbscCalendarViewModule=/*#__PURE__*/function(){function MbscCalendarViewModule(){}MbscCalendarViewModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarViewModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscCalendarViewModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarViewModule,declarations:[CalendarDayBase,CalendarLabelBase,CalendarViewBase,MbscCalendarDay,MbscCalendarLabel,MbscCalendarView,MbscCalendarWeekDays,MbscMonthView,MbscMultiYearView,MbscYearView,MonthViewBase],imports:[CommonModule,MbscButtonModule,MbscCalendarHeaderModule,MbscIconModule,MbscPopupModule,MbscScrollviewBaseModule],exports:[MbscCalendarView,MbscCalendarHeaderModule]});MbscCalendarViewModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarViewModule,imports:[[CommonModule,MbscButtonModule,MbscCalendarHeaderModule,MbscIconModule,MbscPopupModule,MbscScrollviewBaseModule],MbscCalendarHeaderModule]});return MbscCalendarViewModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarViewModule,decorators:[{type:NgModule,args:[{declarations:[CalendarDayBase,CalendarLabelBase,CalendarViewBase,MbscCalendarDay,MbscCalendarLabel,MbscCalendarView,MbscCalendarWeekDays,MbscMonthView,MbscMultiYearView,MbscYearView,MonthViewBase],exports:[MbscCalendarView,MbscCalendarHeaderModule],imports:[CommonModule,MbscButtonModule,MbscCalendarHeaderModule,MbscIconModule,MbscPopupModule,MbscScrollviewBaseModule]}]}]});var MbscCalendar=/*#__PURE__*/function(_super){__extends(MbscCalendar,_super);function MbscCalendar(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.onCancel=new EventEmitter;_this.onChange=new EventEmitter;_this.onClose=new EventEmitter;_this.onOpen=new EventEmitter;_this._hours=ARRAY24;return _this}Object.defineProperty(MbscCalendar.prototype,"vCal",{set:function(cal){this._calendarView=cal},enumerable:false,configurable:true});MbscCalendar.prototype._ctor=function(){this._instanceService=this._injector.get(MbscInstanceService)};MbscCalendar.prototype._mounted=function(){this._instanceService.instance=this;_super.prototype._mounted.call(this)};MbscCalendar.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendar,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscCalendar.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscCalendar,selector:"mbsc-calendar",outputs:{onCancel:"onCancel",onChange:"onChange",onClose:"onClose",onOpen:"onOpen"},host:{classAttribute:"mbsc-flex-1-1"},viewQueries:[{propertyName:"vCal",first:true,predicate:["cal"],descendants:true}],usesInheritance:true,ngImport:i0,template:'\n    <mbsc-calendar-view\n      #cal\n      [activeDate]="s.active"\n      [amText]="s.amText"\n      [cssClass]="_className + \' mbsc-flex-1-1 mbsc-calendar-\' + s.display"\n      [calendarScroll]="s.calendarScroll"\n      [calendarType]="s.calendarType"\n      [colors]="s.colors"\n      [context]="s.context"\n      [dataTimezone]="s.dataTimezone"\n      [dayTemplate]="s.dayTemplate"\n      [dayContentTemplate]="s.dayContentTemplate"\n      [displayTimezone]="s.displayTimezone"\n      [downIcon]="s.downIcon"\n      [exclusiveEndDates]="s.exclusiveEndDates"\n      [fromText]="s.fromText"\n      [headerTemplate]="s.calendarHeaderTemplate"\n      [hoverEnd]="s.hoverEnd"\n      [hoverStart]="s.hoverStart"\n      [invalid]="s.invalid"\n      [instanceService]="_instanceService"\n      [isPicker]="true"\n      [labels]="s.labels"\n      [marked]="s.marked"\n      [max]="s.max"\n      [min]="s.min"\n      [mousewheel]="s.mousewheel"\n      [navService]="_navService"\n      [nextIconH]="s.nextIconH"\n      [nextIconV]="s.nextIconV"\n      [nextPageText]="s.nextPageText"\n      [noOuterChange]="s.selectRange"\n      [onActiveChange]="_onActiveChange"\n      [onCellHoverIn]="s.onCellHoverIn"\n      [onCellHoverOut]="s.onCellHoverOut"\n      [onDayClick]="_onDayClick"\n      [onDayHoverIn]="s.onDayHoverIn"\n      [onDayHoverOut]="s.onDayHoverOut"\n      [onLabelClick]="s.onLabelClick"\n      [onPageChange]="s.onPageChange"\n      [onPageLoaded]="s.onPageLoaded"\n      [onPageLoading]="s.onPageLoading"\n      [onTodayClick]="_onTodayClick"\n      [pmText]="s.pmText"\n      [prevIconH]="s.prevIconH"\n      [prevIconV]="s.prevIconV"\n      [prevPageText]="s.prevPageText"\n      [pages]="s.pages"\n      [rangeEnd]="s.rangeEnd"\n      [rangeStart]="s.rangeStart"\n      [refDate]="s.refDate"\n      [rtl]="s.rtl"\n      [selectedDates]="_tempValueRep"\n      [selectView]="s.selectView"\n      [showCalendar]="true"\n      [showControls]="s.showControls"\n      [showOuterDays]="s.showOuterDays"\n      [showToday]="false"\n      [showWeekNumbers]="s.showWeekNumbers"\n      [size]="s.size"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [timezonePlugin]="s.timezonePlugin"\n      [toText]="s.toText"\n      [update]="_update"\n      [upIcon]="s.upIcon"\n      [valid]="s.valid"\n      [weeks]="s.weeks"\n      [width]="s.width"\n      [getDate]="s.getDate"\n      [getDay]="s.getDay"\n      [getMaxDayOfMonth]="s.getMaxDayOfMonth"\n      [getMonth]="s.getMonth"\n      [getWeekNumber]="s.getWeekNumber"\n      [getYear]="s.getYear"\n      [dateFormat]="s.dateFormat"\n      [dayNames]="s.dayNames"\n      [dayNamesMin]="s.dayNamesMin"\n      [dayNamesShort]="s.dayNamesShort"\n      [eventText]="s.eventText"\n      [eventsText]="s.eventsText"\n      [firstDay]="s.firstDay"\n      [monthNames]="s.monthNames"\n      [monthNamesShort]="s.monthNamesShort"\n      [moreEventsPluralText]="s.moreEventsPluralText"\n      [moreEventsText]="s.moreEventsText"\n      [todayText]="s.todayText"\n      [weekText]="s.weekText"\n      [yearSuffix]="s.yearSuffix"\n    >\n    </mbsc-calendar-view>\n  ',isInline:true,components:[{type:MbscCalendarView,selector:"mbsc-calendar-view",inputs:["activeDate","cssClass","clickToCreate","colors","dataTimezone","dayTemplate","dayContentTemplate","displayTimezone","dragToCreate","dragToResize","dragToMove","endDay","eventExact","eventMap","eventOrder","eventRange","eventRangeSize","exclusiveEndDates","fromText","hasContent","hasPicker","headerTemplate","height","hoverEnd","hoverStart","invalid","instanceService","isPicker","labels","labelsMap","labelTemplate","labelContentTemplate","dragData","max","marked","marksMap","min","mouseSwipe","mousewheel","navService","navView","noOuterChange","downIcon","nextIconH","nextIconV","nextPageText","prevIconH","prevIconV","prevPageText","upIcon","pages","pageLoad","refDate","resourcesMap","rangeEnd","rangeStart","responsiveStyle","selectedDates","selectedEventsMap","selectView","showCalendar","showControls","showEventTooltip","showLabelCount","showOuterDays","showSchedule","showToday","showWeekNumbers","size","startDay","swipe","labelList","timeFormat","timezonePlugin","update","valid","weeks","width","calendarScroll","calendarType","getDate","getDay","getMaxDayOfMonth","getMonth","getWeekNumber","getYear","amText","dateFormat","dayNames","dayNamesMin","dayNamesShort","eventText","eventsText","firstDay","monthNames","monthNamesShort","moreEventsPluralText","moreEventsText","pmText","todayText","toText","weekText","yearSuffix","onActiveChange","onCellHoverIn","onCellHoverOut","onDayClick","onDayDoubleClick","onDayRightClick","onDayHoverIn","onDayHoverOut","onGestureStart","onLabelClick","onLabelDoubleClick","onLabelRightClick","onLabelHoverIn","onLabelHoverOut","onLabelDelete","onLabelUpdateStart","onLabelUpdateMove","onLabelUpdateEnd","onLabelUpdateModeOn","onLabelUpdateModeOff","onPageChange","onPageLoaded","onPageLoading","onResize","onTodayClick"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});MbscCalendar=__decorate([FormControl],MbscCalendar);return MbscCalendar}(CalendarBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendar,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{class:"mbsc-flex-1-1"},selector:"mbsc-calendar",template:'\n    <mbsc-calendar-view\n      #cal\n      [activeDate]="s.active"\n      [amText]="s.amText"\n      [cssClass]="_className + \' mbsc-flex-1-1 mbsc-calendar-\' + s.display"\n      [calendarScroll]="s.calendarScroll"\n      [calendarType]="s.calendarType"\n      [colors]="s.colors"\n      [context]="s.context"\n      [dataTimezone]="s.dataTimezone"\n      [dayTemplate]="s.dayTemplate"\n      [dayContentTemplate]="s.dayContentTemplate"\n      [displayTimezone]="s.displayTimezone"\n      [downIcon]="s.downIcon"\n      [exclusiveEndDates]="s.exclusiveEndDates"\n      [fromText]="s.fromText"\n      [headerTemplate]="s.calendarHeaderTemplate"\n      [hoverEnd]="s.hoverEnd"\n      [hoverStart]="s.hoverStart"\n      [invalid]="s.invalid"\n      [instanceService]="_instanceService"\n      [isPicker]="true"\n      [labels]="s.labels"\n      [marked]="s.marked"\n      [max]="s.max"\n      [min]="s.min"\n      [mousewheel]="s.mousewheel"\n      [navService]="_navService"\n      [nextIconH]="s.nextIconH"\n      [nextIconV]="s.nextIconV"\n      [nextPageText]="s.nextPageText"\n      [noOuterChange]="s.selectRange"\n      [onActiveChange]="_onActiveChange"\n      [onCellHoverIn]="s.onCellHoverIn"\n      [onCellHoverOut]="s.onCellHoverOut"\n      [onDayClick]="_onDayClick"\n      [onDayHoverIn]="s.onDayHoverIn"\n      [onDayHoverOut]="s.onDayHoverOut"\n      [onLabelClick]="s.onLabelClick"\n      [onPageChange]="s.onPageChange"\n      [onPageLoaded]="s.onPageLoaded"\n      [onPageLoading]="s.onPageLoading"\n      [onTodayClick]="_onTodayClick"\n      [pmText]="s.pmText"\n      [prevIconH]="s.prevIconH"\n      [prevIconV]="s.prevIconV"\n      [prevPageText]="s.prevPageText"\n      [pages]="s.pages"\n      [rangeEnd]="s.rangeEnd"\n      [rangeStart]="s.rangeStart"\n      [refDate]="s.refDate"\n      [rtl]="s.rtl"\n      [selectedDates]="_tempValueRep"\n      [selectView]="s.selectView"\n      [showCalendar]="true"\n      [showControls]="s.showControls"\n      [showOuterDays]="s.showOuterDays"\n      [showToday]="false"\n      [showWeekNumbers]="s.showWeekNumbers"\n      [size]="s.size"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [timezonePlugin]="s.timezonePlugin"\n      [toText]="s.toText"\n      [update]="_update"\n      [upIcon]="s.upIcon"\n      [valid]="s.valid"\n      [weeks]="s.weeks"\n      [width]="s.width"\n      [getDate]="s.getDate"\n      [getDay]="s.getDay"\n      [getMaxDayOfMonth]="s.getMaxDayOfMonth"\n      [getMonth]="s.getMonth"\n      [getWeekNumber]="s.getWeekNumber"\n      [getYear]="s.getYear"\n      [dateFormat]="s.dateFormat"\n      [dayNames]="s.dayNames"\n      [dayNamesMin]="s.dayNamesMin"\n      [dayNamesShort]="s.dayNamesShort"\n      [eventText]="s.eventText"\n      [eventsText]="s.eventsText"\n      [firstDay]="s.firstDay"\n      [monthNames]="s.monthNames"\n      [monthNamesShort]="s.monthNamesShort"\n      [moreEventsPluralText]="s.moreEventsPluralText"\n      [moreEventsText]="s.moreEventsText"\n      [todayText]="s.todayText"\n      [weekText]="s.weekText"\n      [yearSuffix]="s.yearSuffix"\n    >\n    </mbsc-calendar-view>\n  '}]}],propDecorators:{onCancel:[{type:Output}],onChange:[{type:Output}],onClose:[{type:Output}],onOpen:[{type:Output}],vCal:[{type:ViewChild,args:["cal",{static:false}]}]}});var MbscCalendarModule=/*#__PURE__*/function(){function MbscCalendarModule(){}MbscCalendarModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscCalendarModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarModule,declarations:[CalendarBase,MbscCalendar],imports:[CommonModule,MbscCalendarViewModule],exports:[MbscCalendar]});MbscCalendarModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarModule,imports:[[CommonModule,MbscCalendarViewModule]]});return MbscCalendarModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCalendarModule,decorators:[{type:NgModule,args:[{declarations:[CalendarBase,MbscCalendar],exports:[MbscCalendar],imports:[CommonModule,MbscCalendarViewModule]}]}]});function getPickerTemplate(content){return'\n    <mbsc-input *ngIf="_showInput" #input\n      [ariaExpanded]="!!_isOpen"\n      [ariaHaspopup]="\'dialog\'"\n      [ariaLabel]="ariaLabel"\n      [dropdown]="s.dropdown"\n      [disabled]="disabled"\n      [endIcon]="endIcon"\n      [endIconSrc]="endIconSrc"\n      [endIconSvg]="endIconSvg"\n      [error]="error"\n      [errorMessage]="errorMessage"\n      [inputStyle]="s.inputStyle"\n      [label]="label"\n      [labelStyle]="s.labelStyle"\n      [name]="name"\n      [placeholder]="placeholder"\n      [pickerMap]="_valueMap"\n      [pickerValue]="_value"\n      [role]="\'combobox\'"\n      [rtl]="s.rtl"\n      [startIcon]="startIcon"\n      [startIconSrc]="startIconSrc"\n      [startIconSvg]="startIconSvg"\n      [tags]="s.tagInput === undefined ? s.selectMultiple : s.tagInput"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [value]="(_value != null && _valueText) || \'\'"\n    >\n      <ng-content></ng-content>\n    </mbsc-input>\n    <mbsc-popup #popup\n      [activeElm]="s.activeElm"\n      [anchor]="_anchor"\n      [anchorAlign]="_anchorAlign"\n      [animation]="s.animation"\n      [ariaLabel]="s.ariaLabel"\n      [buttons]="_buttons"\n      [cancelText]="s.cancelText"\n      [closeOnEsc]="s.closeOnEsc"\n      [closeOnOverlayClick]="s.closeOnOverlayClick"\n      [closeOnScroll]="s.closeOnScroll"\n      [closeText]="s.closeText"\n      [contentPadding]="false"\n      [context]="s.context"\n      [cssClass]="_cssClass"\n      [disableLeftRight]="true"\n      [display]="s.display"\n      [focusElm]="_focusElm"\n      [focusOnClose]="s.focusOnClose"\n      [focusOnOpen]="!_allowTyping"\n      [focusTrap]="s.focusTrap"\n      [fullScreen]="s.fullScreen"\n      [headerText]="_headerText"\n      [height]="s.height"\n      [isOpen]="_isOpen"\n      [maxHeight]="s.maxHeight"\n      [maxWidth]="_maxWidth"\n      [setText]="s.setText"\n      [showArrow]="s.showArrow"\n      [showOverlay]="_allowTyping ? false : s.showOverlay"\n      [rtl]="s.rtl"\n      [scrollLock]="_scrollLock"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [touchUi]="_touchUi"\n      [windowWidth]="state.width"\n      [width]="s.width"\n      (onClose)="_onPopupClose($event)"\n      (onClosed)="_onPopupClosed($event)"\n      (onKeyDown)="_onPopupKey($event)"\n      (onOpen)="_onPopupOpen($event)"\n      (onResize)="_onResize($event)"\n    >\n      <ng-container *ngIf="(_popup && _popup._isVisible) || s.display === \'inline\'">\n        '.concat(content,"\n      </ng-container>\n    </mbsc-popup>")}function getValid(wheel,val,disabled,direction){var min=wheel.min===UNDEFINED?-Infinity:wheel.min;var max=wheel.max===UNDEFINED?Infinity:wheel.max;var index=getIndex(wheel,val);var value=getValue(wheel,index);var value1=value;var value2=value;var dist1=0;var dist2=0;if(disabled&&disabled.get(value)){while(index-dist1>=min&&disabled.get(value1)&&dist1<100){dist1++;value1=getValue(wheel,index-dist1)}while(index+dist2<max&&disabled.get(value2)&&dist2<100){dist2++;value2=getValue(wheel,index+dist2)}if(disabled.get(value1)&&disabled.get(value2)){return value}if((dist2<dist1&&dist2&&direction!==-1||!dist1||index-dist1<0||direction===1)&&!disabled.get(value2)){value=value2}else{value=value1}}return value}function getItemValue(item){return item!==UNDEFINED?item.value!==UNDEFINED?item.value:item.display!==UNDEFINED?item.display:item:item}function getItem(wheel,index){if(wheel.getItem){return wheel.getItem(index)}var data=wheel.data||[];var len=data.length;var i=index%len;return wheel._circular?data[i>=0?i:i+len]:data[constrain(index,0,len-1)]}function getIndex(wheel,value){var val=wheel.multiple?value&&value.length&&value[0]||UNDEFINED:value;return(wheel.getIndex?+wheel.getIndex(value):wheel._map.get(val))||0}function getFirstIndex(wheel,index){if(wheel.getItem&&wheel.getIndex){return wheel.getIndex(getItemValue(wheel.getItem(index)))}var data=wheel.data||[];var len=data.length;var i=index%len;return!len?0:i>=0?i:i+len}function getValue(wheel,index){return getItemValue(getItem(wheel,index))}function initWheel(wheel,key,circular,rows){wheel._key=key;wheel._map=new Map;wheel._circular=circular===UNDEFINED?wheel.circular===UNDEFINED?wheel.data&&wheel.data.length>(rows||5):wheel.circular:isArray(circular)?circular[key]:circular;if(wheel.data){wheel.min=wheel._circular?UNDEFINED:0;wheel.max=wheel._circular?UNDEFINED:wheel.data.length-1;wheel.data.forEach((function(item,i){wheel._map.set(getItemValue(item),i)}))}}var ScrollerBase=/*#__PURE__*/function(_super){__extends(ScrollerBase,_super);function ScrollerBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._indexes=[];_this._activeIndexes=[];_this._wheels=[];_this._batches=[];_this._lastIndexes=[];_this._onSet=function(){_this._hook("onChange",{value:_this._get(_this._tempValueRep)})};_this._onActiveChange=function(_a){var wheel=_a.wheel,index=_a.index;var wheelIndex=wheel._key;_this._activeIndexes[wheelIndex]=index;var indexes=_this._indexes;var currentIndex=indexes[wheelIndex];if(_this._scroll3d){currentIndex=index}else if(index-currentIndex>=_this._rows){currentIndex++}else if(index<currentIndex){currentIndex--}indexes[wheelIndex]=currentIndex;_this.forceUpdate()};_this._onWheelIndexChange=function(args){var s=_this.s;var wheel=args.wheel;var key=wheel._key;var isMultiple=wheel.multiple;var newValue=getValue(wheel,args.index);var disabled=_this._disabled&&_this._disabled[key]&&_this._disabled[key].get(newValue);var lengths=[];var selectOnScroll=s.selectOnScroll;var updateIndex=selectOnScroll||!args.click;if(updateIndex){_this._lastIndexes[key]=_this._indexes[key]=args.index;_this._indexes.forEach((function(val,i){var w=_this._wheelMap[i];var len=w.data?w.data.length:0;_this._batches[i]=len?floor(val/len):0;lengths[i]=len}))}_this._activeIndexes[key]=args.index;var beforeTempValue=_this._get(_this._tempValueRep);var itemTap=!!args.click&&!disabled;var scrollOrTapSelect=selectOnScroll||itemTap;if(isMultiple){if(itemTap){var selectionArr=__spreadArray([],_this._tempValueRep[key]||[],true);if(args.selected===false){selectionArr.push(newValue)}else if(args.selected===true){selectionArr.splice(selectionArr.indexOf(newValue),1)}_this._tempValueRep[key]=selectionArr}}else if(scrollOrTapSelect){_this._tempValueRep[key]=newValue}if(s.onWheelMove&&args.index!==UNDEFINED){var wheelRep=s.onWheelMove({dataItem:getItem(wheel,args.index),selection:scrollOrTapSelect,wheelIndex:key});if(wheelRep){wheelRep.forEach((function(v,i){if(v!==UNDEFINED){_this._tempValueRep[i]=v}if(!scrollOrTapSelect){var w=_this._wheelMap[i];var newIndex=getIndex(w,v);_this._constrainIndex(newIndex,w)}}))}}if(scrollOrTapSelect){_this._validate(key,args.diff>0?1:-1)}if(selectOnScroll){_this._tempValueRep.forEach((function(val,i){var w=_this._wheelMap[i];var len=w.data?w.data.length:0;var oldIndex=_this._indexes[i];var newIndex=getIndex(w,val)+_this._batches[i]*len;_this._activeIndexes[i]=_this._lastIndexes[i]=_this._indexes[i]=newIndex;w._offset=len!==lengths[i]?newIndex-oldIndex:0}))}var currentTempValue=_this._get(_this._tempValueRep);var tempValueChanged=!_this._valueEquals(beforeTempValue,currentTempValue);if(tempValueChanged||itemTap&&isEmpty(s.value)){_this._hook("onChange",{value:currentTempValue,itemTap:itemTap,closeOnTap:wheel.closeOnTap})}else{_this.forceUpdate()}};return _this}ScrollerBase.prototype._initWheels=function(){var _this=this;var key=0;var wheels=this.s.wheels||[];this._wheelMap=[];wheels.forEach((function(wheelGroup){wheelGroup.forEach((function(wheel){initWheel(wheel,key,_this._circular,_this._rows);_this._wheelMap[key]=wheel;key++}))}));this._wheels=wheels};ScrollerBase.prototype._render=function(s,state){var _this=this;var props=this.props||{};var resp=this._respProps||{};var prevS=this._prevS;var circular=this._touchUi?s.circular:false;var rows=this._touchUi?s.rows:resp.rows||props.rows||7;this._displayStyle=s.displayStyle||s.display;this._scroll3d=s.scroll3d&&this._touchUi&&has3d;if(s.itemHeight!==prevS.itemHeight||rows!==this._rows){this._rows=rows;this._lineStyle={height:s.itemHeight+"px"};if(this._scroll3d){var translateZ="translateZ("+(s.itemHeight*rows/2+3)+"px";this._overlayStyle={};this._overlayStyle[cssPrefix+"transform"]=translateZ;this._lineStyle[cssPrefix+"transform"]="translateY(-50%) "+translateZ}}if(s.wheels!==prevS.wheels||circular!==this._circular){this._batches=[];this._shouldSetIndex=true;this._circular=circular;this._initWheels()}var valueChange=!this._valueEquals(s.value,prevS.value);if(valueChange||this._tempValueRep===UNDEFINED||this._shouldValidate(s,prevS)||s.invalid!==prevS.invalid||s.valid!==prevS.valid){this._tempValueRep=this._parse(s.value);this._shouldSetIndex=true;this._validate();var newValue_1=this._get(this._tempValueRep);var validationChange_1=!this._valueEquals(s.value,newValue_1);var validationChangeOut_1=validationChange_1&&!isEmpty(s.value);setTimeout((function(){if(validationChangeOut_1){_this._hook("onChange",{value:newValue_1})}else if(validationChange_1){_this._hook("onTempChange",{value:newValue_1})}}))}if(this._shouldSetIndex){this._setIndexes();this._shouldSetIndex=this._indexFromValue=false}if(s.wheels!==prevS.wheels&&prevS.wheels!==UNDEFINED){setTimeout((function(){for(var _i=0,_a=_this._wheelMap;_i<_a.length;_i++){var wheel=_a[_i];_this._onWheelIndexChange({diff:0,index:_this._indexes[wheel._key],wheel:wheel})}}))}};ScrollerBase.prototype._validate=function(index,direction){var _this=this;if(this.s.validate){var ret=this.s.validate.call(this._el,{direction:direction,index:index,values:this._tempValueRep.slice(0),wheels:this._wheelMap});this._disabled=ret.disabled;if(ret.init){this._initWheels()}if(ret.indexes){ret.indexes.forEach((function(value,i){if(value!==UNDEFINED){var w=_this._wheelMap[i];var newIndex=getIndex(w,value);_this._constrainIndex(newIndex,w)}}))}if(ret.valid){this._tempValueRep=ret.valid.slice(0)}else{this._wheelMap.forEach((function(wheel,i){_this._tempValueRep[i]=getValid(wheel,_this._tempValueRep[i],_this._disabled&&_this._disabled[i],direction)}))}}};ScrollerBase.prototype._setIndexes=function(){var _this=this;var currentIndexes=this._indexes||[];this._indexes=[];this._activeIndexes=[];this._tempValueRep.forEach((function(val,i){var w=_this._wheelMap[i];var len=w.data?w.data.length:0;var newIndex=getIndex(w,val);if(_this.s.selectOnScroll){_this._activeIndexes[i]=_this._indexes[i]=newIndex+(_this._batches[i]||0)*len}else{var currentIndex=newIndex;if(!_this._indexFromValue){currentIndex=_this._prevS.wheels!==_this.s.wheels?0:currentIndexes[i];if(currentIndex!==UNDEFINED){currentIndex=getFirstIndex(w,currentIndex)+(_this._batches[i]||0)*len}}_this._constrainIndex(currentIndex,w)}}))};ScrollerBase.prototype._constrainIndex=function(newIndex,wheel){var i=wheel._key;if(newIndex!==UNDEFINED&&wheel.data){if(!wheel.spaceAround){newIndex=constrain(newIndex,0,Math.max(wheel.data.length-this._rows,0))}this._activeIndexes[i]=this._indexes[i]=newIndex}else{this._activeIndexes[i]=this._indexes[i]=this._lastIndexes[i]||0}};ScrollerBase.prototype._shouldValidate=function(s,prevS){return s.shouldValidate?s.shouldValidate(s,prevS):false};ScrollerBase.prototype._valueEquals=function(v1,v2){if(this.s.valueEquality){return this.s.valueEquality(v1,v2)}return v1===v2};ScrollerBase.prototype._get=function(value){if(this.s.getValue){return this.s.getValue(value)}return value};ScrollerBase.prototype._parse=function(value){if(this.s.parseValue){return this.s.parseValue(value)}return value};ScrollerBase.defaults={itemHeight:40,rows:5,selectOnScroll:true};ScrollerBase._name="Scroller";ScrollerBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ScrollerBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});ScrollerBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:ScrollerBase,selector:"[mbsc-sc-b]",usesInheritance:true,ngImport:i0});return ScrollerBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ScrollerBase,decorators:[{type:Directive,args:[{selector:"[mbsc-sc-b]"}]}]});var WHEEL_WIDTHS={ios:50,material:46,windows:50};var TIME_PARTS=["a","h","i","s","tt"];function validateTimes(s,hasAmPm,i,valid,wheelOrder,getDatePart,maxs,steps,key,disabled,order,validDate,startDate,endDate,isValid,exclusiveEndDates){var start=isSameDay(validDate,startDate)?startDate:getDayStart(s,startDate);var end=isSameDay(validDate,endDate)?endDate:getDayEnd(s,endDate);var startAmPm=getDatePart.a(start);var endAmPm=getDatePart.a(end);var startProp=true;var endProp=true;var all=false;var add=0;var remove=0;for(var j=0;j<i;j++){var k=TIME_PARTS[j];var validVal=valid[wheelOrder[k]];if(validVal!==UNDEFINED){var startVal=startProp?getDatePart[k](start):0;var endVal=endProp?getDatePart[k](end):maxs[k];if(hasAmPm&&j===1){startVal+=startAmPm?12:0;endVal+=endAmPm?12:0;validVal+=valid[wheelOrder.a]?12:0}if((startProp||endProp)&&startVal<validVal&&validVal<endVal){all=true}if(validVal!==startVal){startProp=false}if(validVal!==endVal){endProp=false}}}if(!isValid){for(var j=i+1;j<4;j++){var k=TIME_PARTS[j];if(wheelOrder[k]!==UNDEFINED){if(getDatePart[k](start)>0&&startProp){add=steps[key]}if(getDatePart[k](end)<maxs[k]&&endProp){remove=steps[key]}}}if(endProp&&exclusiveEndDates&&!remove){remove=end.getMilliseconds()!==999?steps[key]:0}}if(startProp||endProp||all){var startVal=startProp&&!all?getDatePart[key](start)+add:0;var endVal=endProp&&!all?getDatePart[key](end)-remove:maxs[key];for(var j=startVal;j<=endVal;j+=steps[key]){disabled[order].set(j,!isValid)}}}function getDateIndex(d,hasDay){var dt=new Date(d);return hasDay?floor(+dt/864e5):dt.getMonth()+12*(dt.getFullYear()-1970)}function getFullDate(d){return d.getFullYear()+"-"+pad(d.getMonth()+1)+"-"+pad(d.getDate())}function getMilliseconds(d){return d.getMilliseconds()}function getAmPm(d){return d.getHours()>11?1:0}var DatetimeBase=/*#__PURE__*/function(_super){__extends(DatetimeBase,_super);function DatetimeBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._preset="date";_this._innerValues={};_this._parseDate=function(value){var s=_this.s;if(!value){_this._innerValues={}}return _this._getArray(makeDate(value||s.defaultSelection||new Date,s,_this._format),!!value)};_this._getDate=function(values){var s=_this.s;var getArrayPart=_this._getArrayPart;var wheelOrder=_this._wheelOrder;var today=new Date((new Date).setHours(0,0,0,0));var d;var t;if(values===null||values===UNDEFINED){return null}if(wheelOrder.dd!==UNDEFINED){var parts=values[wheelOrder.dd].split("-");d=new Date(parts[0],parts[1]-1,parts[2])}if(wheelOrder.tt!==UNDEFINED){t=new Date(+REF_DATE+values[wheelOrder.tt]%86400*1e3)}var year=getArrayPart(values,"y",d,today);var month=getArrayPart(values,"m",d,today);var day=Math.min(getArrayPart(values,"d",d,today),s.getMaxDayOfMonth(year,month));var hour=getArrayPart(values,"h",t,today);return s.getDate(year,month,day,_this._hasAmPm&&getArrayPart(values,"a",t,today)?hour+12:hour,getArrayPart(values,"i",t,today),getArrayPart(values,"s",t,today),getArrayPart(values,"u",t,today))};_this._validate=function(_a){var direction=_a.direction,index=_a.index,values=_a.values,wheels=_a.wheels;var disabled=[];var s=_this.s;var stepHour=s.stepHour;var stepMinute=s.stepMinute;var stepSecond=s.stepSecond;var preset=s.mode||_this._preset;var wheelOrder=_this._wheelOrder;var getDatePart=_this._getDatePart;var maxDate=_this._max;var minDate=_this._min;var current=addTimezone(s,_this._getDate(values));var currYear=s.getYear(current);var currMonth=s.getMonth(current);var from=s.getDate(currYear,currMonth-1,1);var until=s.getDate(currYear,currMonth+2,1);if(index===wheelOrder.y||index===wheelOrder.m||index===wheelOrder.d||index===wheelOrder.dd||index===UNDEFINED){_this._valids=getEventMap(s.valid,from,until,s,true,true);_this._invalids=getEventMap(s.invalid,from,until,s,true,true)}var valids=_this._valids;var invalids=_this._invalids;var mind=minDate?+minDate:-Infinity;var maxd=maxDate?+maxDate:Infinity;var validated=getClosestValidDate(current,s,mind,maxd,invalids,valids,direction);var valid=_this._getArray(validated);var dayWheel=_this._wheels&&_this._wheels[0][wheelOrder.d];var y=getDatePart.y(validated);var m=getDatePart.m(validated);var maxDays=s.getMaxDayOfMonth(y,m);var mins={y:minDate?minDate.getFullYear():-Infinity,m:0,d:1,h:0,i:0,s:0,a:0,tt:0};var maxs={y:maxDate?maxDate.getFullYear():Infinity,m:11,d:31,h:step(_this._hasAmPm?11:23,stepHour),i:step(59,stepMinute),s:step(59,stepSecond),a:1,tt:86400};var steps={y:1,m:1,d:1,h:stepHour,i:stepMinute,s:stepSecond,a:1,tt:_this._timeStep};var init=false;var minprop=true;var maxprop=true;["dd","y","m","d","tt","a","h","i","s"].forEach((function(key){var min=mins[key];var max=maxs[key];var val=getDatePart[key](validated);var order=wheelOrder[key];if(minprop&&minDate){min=getDatePart[key](minDate)}if(maxprop&&maxDate){max=getDatePart[key](maxDate)}if(val<min){val=min}if(val>max){val=max}if(key!=="dd"&&key!=="tt"&&!(key==="a"&&order===UNDEFINED)){if(minprop){minprop=val===min}if(maxprop){maxprop=val===max}}if(order!==UNDEFINED){disabled[order]=new Map;if(key!=="y"&&key!=="dd"){for(var i=mins[key];i<=maxs[key];i+=steps[key]){if(i<min||i>max){disabled[order].set(i,true)}}}if(key==="d"&&invalids){for(var d in invalids){if(!valids||!valids[d]){var dd=makeDate(d,s);var yy=s.getYear(dd);var mm=s.getMonth(dd);if(yy===y&&mm===m&&isInvalid(s,dd,invalids,valids)){disabled[order].set(s.getDay(dd),true)}}}}}}));if(/time/i.test(preset)){var invalidsForDay_1=invalids&&invalids[getDateStr(validated)];var validsForDay_1=valids&&valids[getDateStr(validated)];TIME_PARTS.forEach((function(key,i){var order=wheelOrder[key];if(order!==UNDEFINED){var entries=s.valid?validsForDay_1:invalidsForDay_1;if(entries){if(s.valid){for(var j=0;j<=maxs[key];j++){disabled[order].set(j,true)}}for(var _i=0,entries_1=entries;_i<entries_1.length;_i++){var entry=entries_1[_i];var start=entry.start;var end=entry.end;if(start&&end){validateTimes(s,_this._hasAmPm,i,valid,wheelOrder,getDatePart,maxs,steps,key,disabled,order,validated,start,end,!!s.valid,s.exclusiveEndDates)}}}valid[order]=getValid(wheels[order],getDatePart[key](validated),disabled[order],direction)}}))}var dateDisplay=_this._dateDisplay;if(dayWheel&&(dayWheel.data.length!==maxDays||/DDD/.test(dateDisplay))){var data=[];var dayDisplay=dateDisplay.replace(/[my|]/gi,"").replace(/DDDD/,"{dddd}").replace(/DDD/,"{ddd}").replace(/DD/,"{dd}").replace(/D/,"{d}");for(var j=1;j<=maxDays;j++){var weekDay=s.getDate(y,m,j).getDay();var dayStr=dayDisplay.replace(/{dddd}/,s.dayNames[weekDay]).replace(/{ddd}/,s.dayNamesShort[weekDay]).replace(/{dd}/,pad(j)+s.daySuffix).replace(/{d}/,j+s.daySuffix);data.push({display:dayStr,value:j})}dayWheel.data=data;init=true}return{disabled:disabled,init:init,valid:valid}};_this._shouldValidate=function(s,prevS){return!!(s.min&&+s.min!==+prevS.min||s.max&&+s.max!==+prevS.max)||s.wheels!==prevS.wheels||s.dataTimezone!==prevS.dataTimezone||s.displayTimezone!==prevS.displayTimezone};_this._getYearValue=function(i){return{display:(/yy/i.test(_this._dateDisplay)?i:(i+"").substr(2,2))+_this.s.yearSuffix,value:i}};_this._getYearIndex=function(i){return+i};_this._getDateIndex=function(i){return getDateIndex(i,_this._hasDay)};_this._getDateItem=function(i){var s=_this.s;var hasDay=_this._hasDay;var today=new Date((new Date).setHours(0,0,0,0));var d=hasDay?new Date(i*864e5):new Date(1970,i,1);if(hasDay){d=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate())}return{disabled:hasDay&&isInvalid(s,d,_this._invalids,_this._valids),display:today.getTime()===d.getTime()?s.todayText:formatDate(_this._dateTemplate,d,s),value:getFullDate(d)}};_this._getArrayPart=function(values,part,d,def){var ret;if(_this._wheelOrder[part]!==UNDEFINED){ret=+values[_this._wheelOrder[part]];if(!isNaN(ret)){return ret}}if(d){return _this._getDatePart[part](d)}if(_this._innerValues[part]!==UNDEFINED){return _this._innerValues[part]}return _this._getDatePart[part](def)};_this._getHours=function(d){var hour=d.getHours();hour=_this._hasAmPm&&hour>=12?hour-12:hour;return step(hour,_this.s.stepHour)};_this._getMinutes=function(d){return step(d.getMinutes(),_this.s.stepMinute)};_this._getSeconds=function(d){return step(d.getSeconds(),_this.s.stepSecond)};_this._getFullTime=function(d){return step(round(getDayMilliseconds(d)/1e3),_this._timeStep||1)};return _this}DatetimeBase.prototype._valueEquals=function(v1,v2){return dateValueEquals(v1,v2,this.s)};DatetimeBase.prototype._render=function(s,state){var genWheels=false;var prevProps=this._prevS;var dateFormat=s.dateFormat;var timeFormat=s.timeFormat;var preset=s.mode||this._preset;var format=preset==="datetime"?dateFormat+s.separator+timeFormat:preset==="time"?timeFormat:dateFormat;this._minWheelWidth=s.minWheelWidth||(preset==="datetime"?WHEEL_WIDTHS[s.baseTheme||s.theme]:UNDEFINED);this._dateWheels=s.dateWheels||(preset==="datetime"?s.dateWheelFormat:dateFormat);this._dateDisplay=s.dateWheels||s.dateDisplay;this._timeWheels=s.timeWheels||timeFormat;this._timeDisplay=this._timeWheels;this._format=format;this._hasAmPm=/h/.test(this._timeDisplay);this._getDatePart={y:s.getYear,m:s.getMonth,d:s.getDay,h:this._getHours,i:this._getMinutes,s:this._getSeconds,u:getMilliseconds,a:getAmPm,dd:getFullDate,tt:this._getFullTime};if(+makeDate(prevProps.min)!==+makeDate(s.min)){genWheels=true;this._min=isEmpty(s.min)?UNDEFINED:makeDate(s.min,s,format)}if(+makeDate(prevProps.max)!==+makeDate(s.max)){genWheels=true;this._max=isEmpty(s.max)?UNDEFINED:makeDate(s.max,s,format)}if(s.theme!==prevProps.theme||s.mode!==prevProps.mode||s.locale!==prevProps.locale||s.dateWheels!==prevProps.dateWheels||s.timeWheels!==prevProps.timeWheels||genWheels){this._wheels=this._getWheels()}};DatetimeBase.prototype._getWheels=function(){this._wheelOrder={};var s=this.s;var preset=s.mode||this._preset;var hasAmPm=this._hasAmPm;var dateDisplay=this._dateDisplay;var timeDisplay=this._timeDisplay;var wheelOrder=this._wheelOrder;var wheels=[];var dateGroup=[];var values;var timeGroup=[];var nr=0;if(/date/i.test(preset)){var dateParts=this._dateWheels.split(/\|/.test(this._dateWheels)?"|":"");for(var _i=0,dateParts_1=dateParts;_i<dateParts_1.length;_i++){var template=dateParts_1[_i];var types=0;if(template.length){if(/y/i.test(template)){types++}if(/m/i.test(template)){types++}if(/d/i.test(template)){types++}if(types>1&&wheelOrder.dd===UNDEFINED){wheelOrder.dd=nr;nr++;dateGroup.push(this._getDateWheel(template));timeGroup=dateGroup}else if(/y/i.test(template)&&wheelOrder.y===UNDEFINED){wheelOrder.y=nr;nr++;dateGroup.push({cssClass:"mbsc-datetime-year-wheel",getIndex:this._getYearIndex,getItem:this._getYearValue,label:s.yearText,max:this._max?s.getYear(this._max):UNDEFINED,min:this._min?s.getYear(this._min):UNDEFINED,spaceAround:true})}else if(/m/i.test(template)&&wheelOrder.m===UNDEFINED){wheelOrder.m=nr;values=[];nr++;var monthDisplay=dateDisplay.replace(/[dy|]/gi,"").replace(/MMMM/,"{mmmm}").replace(/MMM/,"{mmm}").replace(/MM/,"{mm}").replace(/M/,"{m}");for(var j=0;j<12;j++){var monthStr=monthDisplay.replace(/{mmmm}/,s.monthNames[j]).replace(/{mmm}/,s.monthNamesShort[j]).replace(/{mm}/,pad(j+1)+(s.monthSuffix||"")).replace(/{m}/,j+1+(s.monthSuffix||""));values.push({display:monthStr,value:j})}dateGroup.push({cssClass:"mbsc-datetime-month-wheel",data:values,label:s.monthText,spaceAround:true})}else if(/d/i.test(template)&&wheelOrder.d===UNDEFINED){wheelOrder.d=nr;values=[];nr++;for(var j=1;j<32;j++){values.push({display:(/dd/i.test(dateDisplay)?pad(j):j)+s.daySuffix,value:j})}dateGroup.push({cssClass:"mbsc-datetime-day-wheel",data:values,label:s.dayText,spaceAround:true})}}}wheels.push(dateGroup)}if(/time/i.test(preset)){var timeParts=this._timeWheels.split(/\|/.test(this._timeWheels)?"|":"");for(var _a=0,timeParts_1=timeParts;_a<timeParts_1.length;_a++){var template=timeParts_1[_a];var types=0;if(template.length){if(/h/i.test(template)){types++}if(/m/i.test(template)){types++}if(/s/i.test(template)){types++}if(/a/i.test(template)){types++}}if(types>1&&wheelOrder.tt===UNDEFINED){wheelOrder.tt=nr;nr++;timeGroup.push(this._getTimeWheel(template))}else if(/h/i.test(template)&&wheelOrder.h===UNDEFINED){values=[];wheelOrder.h=nr;nr++;for(var j=0;j<(hasAmPm?12:24);j+=s.stepHour){values.push({display:hasAmPm&&j===0?12:/hh/i.test(timeDisplay)?pad(j):j,value:j})}timeGroup.push({cssClass:"mbsc-datetime-hour-wheel",data:values,label:s.hourText,spaceAround:true})}else if(/m/i.test(template)&&wheelOrder.i===UNDEFINED){values=[];wheelOrder.i=nr;nr++;for(var j=0;j<60;j+=s.stepMinute){values.push({display:/mm/i.test(timeDisplay)?pad(j):j,value:j})}timeGroup.push({cssClass:"mbsc-datetime-minute-wheel",data:values,label:s.minuteText,spaceAround:true})}else if(/s/i.test(template)&&wheelOrder.s===UNDEFINED){values=[];wheelOrder.s=nr;nr++;for(var j=0;j<60;j+=s.stepSecond){values.push({display:/ss/i.test(timeDisplay)?pad(j):j,value:j})}timeGroup.push({cssClass:"mbsc-datetime-second-wheel",data:values,label:s.secondText,spaceAround:true})}else if(/a/i.test(template)&&wheelOrder.a===UNDEFINED){wheelOrder.a=nr;nr++;timeGroup.push({cssClass:"mbsc-dt-whl-a",data:/A/.test(template)?[{display:s.amText.toUpperCase(),value:0},{display:s.pmText.toUpperCase(),value:1}]:[{display:s.amText,value:0},{display:s.pmText,value:1}],spaceAround:true})}}if(timeGroup!==dateGroup){wheels.push(timeGroup)}}return wheels};DatetimeBase.prototype._getDateWheel=function(template){var hasDay=/d/i.test(template);this._hasDay=hasDay;this._dateTemplate=template;return{cssClass:"mbsc-datetime-date-wheel",getIndex:this._getDateIndex,getItem:this._getDateItem,label:this.s.dateText,max:this._max?getDateIndex(getFullDate(this._max),hasDay):UNDEFINED,min:this._min?getDateIndex(getFullDate(this._min),hasDay):UNDEFINED,spaceAround:true}};DatetimeBase.prototype._getTimeWheel=function(template){var s=this.s;var values=[];var st=1;if(/s/i.test(template)){st=s.stepSecond}else if(/m/i.test(template)){st=s.stepMinute*60}else if(/h/i.test(template)){st=s.stepHour*3600}this._timeStep=st;for(var i=0;i<86400;i+=st){var time=new Date(+REF_DATE+i*1e3);values.push({display:formatDate(template,time,s),value:i})}return{data:values,label:s.timeText,spaceAround:true}};DatetimeBase.prototype._getArray=function(d,fillInner){var parts=["y","m","d","a","h","i","s","u","dd","tt"];var ret=[];var wheelOrder=this._wheelOrder;if(d===null||d===UNDEFINED){return ret}for(var _i=0,parts_1=parts;_i<parts_1.length;_i++){var part=parts_1[_i];var v=this._getDatePart[part](d);if(wheelOrder[part]!==UNDEFINED){ret[wheelOrder[part]]=v}if(fillInner){this._innerValues[part]=v}}return ret};DatetimeBase.defaults=__assign(__assign({},dateTimeLocale),{dateDisplay:"MMMMDDYYYY",dateWheelFormat:"|DDD MMM D|",stepHour:1,stepMinute:1,stepSecond:1});DatetimeBase._name="Datetime";DatetimeBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:DatetimeBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});DatetimeBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:DatetimeBase,selector:"[mbsc-dt-b]",usesInheritance:true,ngImport:i0});return DatetimeBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:DatetimeBase,decorators:[{type:Directive,args:[{selector:"[mbsc-dt-b]"}]}]});var WheelBase=/*#__PURE__*/function(_super){__extends(WheelBase,_super);function WheelBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._onIndexChange=function(args){args.wheel=_this.s.wheel;_this._hook("onIndexChange",args)};_this._onItemClick=function(args){_this._hook("onIndexChange",{click:true,index:args.index,wheel:_this.s.wheel,selected:args.selected})};_this._onKeyDown=function(ev){var dir=0;if(ev.keyCode===UP_ARROW){dir=-1}else if(ev.keyCode===DOWN_ARROW){dir=1}var s=_this.s;var newIndex=s.activeIndex+dir;var change=!(newIndex<s.minIndex)&&!(newIndex>s.maxIndex);if(dir){ev.preventDefault()}if(dir&&change){var hook=s.selectOnScroll?"onIndexChange":"onActiveChange";_this._shouldFocus=true;_this._hook(hook,{diff:dir,index:newIndex,wheel:s.wheel})}else if(ev.keyCode===ENTER&&s.multiple){_this._hook("onSet",{})}};return _this}WheelBase.prototype._getText=function(data){return data!==UNDEFINED?data.display!==UNDEFINED?data.display:data:UNDEFINED};WheelBase.prototype._getValue=function(data){return data?data.value!==UNDEFINED?data.value:data.display!==UNDEFINED?data.display:data:data};WheelBase.prototype._isActive=function(item,text,is3d){var s=this.s;var d3=s.scroll3d&&s.multiple?is3d:!is3d;return s.activeIndex===item.key&&text&&d3};WheelBase.prototype._isSelected=function(item){var s=this.s;var selectedValues=s.selectedValues;var value=this._getValue(item.data);return s.multiple?!!(selectedValues&&selectedValues.indexOf)&&selectedValues.indexOf(value)>=0:s.selectOnScroll?item.key===s.selectedIndex:value!==UNDEFINED&&value===selectedValues};WheelBase.prototype._isDisabled=function(data){var disabledMap=this.s.disabled;var disabledProp=data&&data.disabled;var value=this._getValue(data);return!!(disabledProp||disabledMap&&disabledMap.get(value))};WheelBase.prototype._render=function(s){var rows=s.rows;var itemHeight=s.itemHeight;var key=s.wheel._key;var itemHeight3d=round((itemHeight-(itemHeight*rows/2+3)*.03)/2)*2;this._items=s.wheel.getItem||s.wheel.data||[];this._batchSize3d=round(rows*1.8);this._angle3d=360/(this._batchSize3d*2);this._style={height:round(rows*itemHeight*(s.scroll3d?1.1:1)/2)*2+"px"};this._itemNr=s.wheel.spaceAround?1:rows;this._innerStyle={height:(s.scroll3d?itemHeight3d:s.wheel.spaceAround?itemHeight:itemHeight*rows)+"px"};this._wheelStyle=s.wheelWidth?{width:(isArray(s.wheelWidth)?s.wheelWidth[key]:s.wheelWidth)+"px"}:{maxWidth:(isArray(s.maxWheelWidth)?s.maxWheelWidth[key]:s.maxWheelWidth)+"px",minWidth:(isArray(s.minWheelWidth)?s.minWheelWidth[key]:s.minWheelWidth)+"px"};if(s.scroll3d){this._innerStyle[cssPrefix+"transform"]="translateY(-50%) translateZ("+(itemHeight*rows/2+3)+"px"}};WheelBase.prototype._updated=function(){if(this._shouldFocus){var item_1=this._el.querySelector('[tabindex="0"]');if(item_1){setTimeout((function(){item_1.focus()}))}this._shouldFocus=false}};WheelBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:WheelBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});WheelBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:WheelBase,selector:"[mbsc-wh-b]",usesInheritance:true,ngImport:i0});return WheelBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:WheelBase,decorators:[{type:Directive,args:[{selector:"[mbsc-wh-b]"}]}]});var WheelItemBase=/*#__PURE__*/function(_super){__extends(WheelItemBase,_super);function WheelItemBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._onClick=function(){var s=_this.s;if(s.text!==UNDEFINED&&!s.isGroup){_this._hook("onClick",{index:s.index,selected:s.selected,disabled:s.disabled})}};return _this}WheelItemBase.prototype._mounted=function(){var _this=this;this._unlisten=gestureListener(this._el,{click:true,keepFocus:false,onBlur:function(){_this.setState({hasFocus:false})},onFocus:function(){_this.setState({hasFocus:true})},onHoverIn:function(){if(_this.s.text!==UNDEFINED){_this.setState({hasHover:true})}},onHoverOut:function(){if(_this.s.text!==UNDEFINED){_this.setState({hasHover:false})}},onKeyDown:function(ev){if(ev.keyCode===SPACE||!_this.s.multiple&&ev.keyCode===ENTER){_this._onClick()}},onPress:function(){if(_this.s.text!==UNDEFINED){_this.setState({isActive:true})}},onRelease:function(){if(_this.s.text!==UNDEFINED){_this.setState({isActive:false})}}})};WheelItemBase.prototype._destroy=function(){this._unlisten()};WheelItemBase.prototype._render=function(s,state){var height=s.height;this._cssClass="mbsc-scroller-wheel-"+(s.isGroup?"header":"item")+this._theme+this._rtl+(s.checkmark&&!s.isGroup?" mbsc-wheel-item-checkmark":"")+(s.is3d?" mbsc-scroller-wheel-item-3d":"")+(s.scroll3d&&!s.is3d?" mbsc-scroller-wheel-item-2d":"")+(s.selected&&!s.is3d?" mbsc-selected":"")+(s.selected&&s.is3d?" mbsc-selected-3d":"")+(s.disabled?" mbsc-disabled":"")+(s.multiple&&!s.isGroup?" mbsc-wheel-item-multi":"")+(state.hasHover?" mbsc-hover":"")+(state.hasFocus?" mbsc-focus":"")+(state.isActive?" mbsc-active":"");this._style={height:height+"px",lineHeight:height+"px"};this._checkmarkClass=this._theme+this._rtl+" mbsc-wheel-checkmark"+(s.selected?" mbsc-selected":"");if(s.is3d){this._transform="rotateX("+(s.offset-s.index)*s.angle3d%360+"deg) translateZ("+height*s.rows/2+"px)";this._style[cssPrefix+"transform"]=this._transform}};WheelItemBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:WheelItemBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});WheelItemBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:WheelItemBase,selector:"[mbsc-whi-b]",usesInheritance:true,ngImport:i0});return WheelItemBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:WheelItemBase,decorators:[{type:Directive,args:[{selector:"[mbsc-whi-b]"}]}]});var MbscWheelItem=/*#__PURE__*/function(_super){__extends(MbscWheelItem,_super);function MbscWheelItem(){return _super!==null&&_super.apply(this,arguments)||this}MbscWheelItem.prototype._render=function(s,state){_super.prototype._render.call(this,s,state);this._transform=this._sanitizer.bypassSecurityTrustStyle(this._transform)};MbscWheelItem.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscWheelItem,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscWheelItem.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscWheelItem,selector:"mbsc-wheel-item",inputs:{active:"active",angle3d:"angle3d",data:"data",disabled:"disabled",height:"height",is3d:"is3d",isGroup:"isGroup",index:"index",itemTemplate:"itemTemplate",multiple:"multiple",offset:"offset",rows:"rows",scroll3d:"scroll3d",selected:"selected",text:"text",onClick:"onClick",checkmark:"checkmark"},host:{attributes:{role:"option"},listeners:{click:"_onClick()"},properties:{"attr.aria-disabled":'disabled ? "true" : undefined',"attr.aria-hidden":'text === undefined || is3d ? "true" : undefined',"attr.aria-selected":'selected ? "true" : undefined',"attr.tabindex":"active ? 0 : text === undefined || is3d ? undefined : -1",class:"_cssClass","style.height.px":"height","style.lineHeight.px":"height","style.transform":"_transform"}},usesInheritance:true,ngImport:i0,template:'<div [innerHTML]="textParam"></div><span *ngIf="checkmark" [class]="_checkmarkClass"></span>\n    <div *ngIf="itemTemplate && data">\n      <ng-template [ngTemplateOutlet]="itemTemplate" [ngTemplateOutletContext]="{ $implicit: data }"></ng-template>\n    </div>\n    <ng-container *ngIf="!itemTemplate || !data">{{ text }}</ng-container>',isInline:true,directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscWheelItem}(WheelItemBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscWheelItem,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"(click)":"_onClick()","[attr.aria-disabled]":'disabled ? "true" : undefined',"[attr.aria-hidden]":'text === undefined || is3d ? "true" : undefined',"[attr.aria-selected]":'selected ? "true" : undefined',"[attr.tabindex]":"active ? 0 : text === undefined || is3d ? undefined : -1","[class]":"_cssClass","[style.height.px]":"height","[style.lineHeight.px]":"height","[style.transform]":"_transform",role:"option"},selector:"mbsc-wheel-item",template:'<div [innerHTML]="textParam"></div><span *ngIf="checkmark" [class]="_checkmarkClass"></span>\n    <div *ngIf="itemTemplate && data">\n      <ng-template [ngTemplateOutlet]="itemTemplate" [ngTemplateOutletContext]="{ $implicit: data }"></ng-template>\n    </div>\n    <ng-container *ngIf="!itemTemplate || !data">{{ text }}</ng-container>'}]}],propDecorators:{active:[{type:Input}],angle3d:[{type:Input}],data:[{type:Input}],disabled:[{type:Input}],height:[{type:Input}],is3d:[{type:Input}],isGroup:[{type:Input}],index:[{type:Input}],itemTemplate:[{type:Input}],multiple:[{type:Input}],offset:[{type:Input}],rows:[{type:Input}],scroll3d:[{type:Input}],selected:[{type:Input}],text:[{type:Input}],onClick:[{type:Input}],checkmark:[{type:Input}]}});var MbscWheel=/*#__PURE__*/function(_super){__extends(MbscWheel,_super);function MbscWheel(){return _super!==null&&_super.apply(this,arguments)||this}MbscWheel.prototype._getItemKey=function(index,item){return item.key};MbscWheel.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscWheel,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscWheel.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscWheel,selector:"mbsc-wheel",inputs:{activeIndex:"activeIndex",disabled:"disabled",display:"display",itemHeight:"itemHeight",itemTemplate:"itemTemplate",maxIndex:"maxIndex",maxWheelWidth:"maxWheelWidth",minIndex:"minIndex",minWheelWidth:"minWheelWidth",multiple:"multiple",rows:"rows",scroll3d:"scroll3d",selectedIndex:"selectedIndex",selectedValues:"selectedValues",selectOnScroll:"selectOnScroll",touchUi:"touchUi",wheel:"wheel",wheelWidth:"wheelWidth",onGestureEnd:"onGestureEnd",onGestureStart:"onGestureStart",onIndexChange:"onIndexChange",onActiveChange:"onActiveChange",onSet:"onSet"},host:{attributes:{role:"listbox"},listeners:{keydown:"_onKeyDown($event)"},properties:{"attr.aria-label":"wheel.label","attr.aria-multiselectable":'multiple ? "true" : undefined',class:'"mbsc-scroller-wheel-wrapper mbsc-scroller-wheel-wrapper-" + wheel._key + " " +\n        (wheel.cssClass || "") + (scroll3d ? " mbsc-scroller-wheel-wrapper-3d" : "") + _theme + _rtl',"style.maxWidth":"_wheelStyle.maxWidth","style.minWidth":"_wheelStyle.minWidth","style.width":"_wheelStyle.width"}},usesInheritance:true,ngImport:i0,template:'\n    <mbsc-scrollview-base\n      [class]="\'mbsc-scroller-wheel\' + (scroll3d ? \' mbsc-scroller-wheel-3d\' : \'\') + _theme"\n      #scrollview\n      [batchSize3d]="_batchSize3d"\n      [innerClass]="\n        \'mbsc-scroller-wheel-cont mbsc-scroller-wheel-cont-\' +\n        display +\n        (scroll3d ? \' mbsc-scroller-wheel-cont-3d\' : \'\') +\n        (multiple ? \' mbsc-scroller-wheel-multi\' : \'\') +\n        _theme\n      "\n      [innerStyles]="_innerStyle"\n      [items]="_items"\n      [itemSize]="itemHeight"\n      [itemNr]="_itemNr"\n      [margin]="true"\n      [maxIndex]="maxIndex"\n      [minIndex]="minIndex"\n      [offset]="wheel._offset"\n      [onIndexChange]="_onIndexChange"\n      [rtl]="rtl"\n      [scroll3d]="scroll3d"\n      [scrollBar]="!_touchUi"\n      [selectedIndex]="selectedIndex"\n      [snap]="true"\n      [spaceAround]="wheel.spaceAround"\n      [style.height]="_style.height"\n      [visibleSize]="rows"\n    >\n      <mbsc-wheel-item\n        *ngFor="let item of scrollview.visibleItems; trackBy: _getItemKey"\n        [active]="_isActive(item, _getText(item.data), false)"\n        [angle3d]="_angle3d"\n        [data]="item.data"\n        [disabled]="_isDisabled(item.data)"\n        [height]="itemHeight"\n        [is3d]="false"\n        [isGroup]="item.data && item.data.isGroup"\n        [index]="item.key"\n        [itemTemplate]="itemTemplate"\n        [multiple]="multiple"\n        [offset]="scrollview._offset"\n        [checkmark]="wheel.checkmark"\n        [rows]="rows"\n        [rtl]="rtl"\n        [scroll3d]="scroll3d"\n        [selected]="_isSelected(item)"\n        [text]="_getText(item.data)"\n        [theme]="theme"\n        [onClick]="_onItemClick"\n      >\n      </mbsc-wheel-item>\n      <ng-container content-3d>\n        <mbsc-wheel-item\n          *ngFor="let item of scrollview.visible3dItems; trackBy: _getItemKey"\n          [active]="_isActive(item, _getText(item.data), true)"\n          [angle3d]="_angle3d"\n          [data]="item.data"\n          [disabled]="_isDisabled(item.data)"\n          [height]="itemHeight"\n          [is3d]="true"\n          [isGroup]="item.data && item.data.isGroup"\n          [index]="item.key"\n          [itemTemplate]="itemTemplate"\n          [multiple]="multiple"\n          [offset]="scrollview._offset"\n          [checkmark]="wheel.checkmark"\n          [rows]="rows"\n          [rtl]="rtl"\n          [scroll3d]="scroll3d"\n          [selected]="_isSelected(item)"\n          [text]="_getText(item.data)"\n          [theme]="theme"\n          [onClick]="_onItemClick"\n        >\n        </mbsc-wheel-item>\n      </ng-container>\n    </mbsc-scrollview-base>\n  ',isInline:true,components:[{type:MbscScrollviewBase,selector:"mbsc-scrollview-base",inputs:["axis","batchSize","batchSize3d","changeOnEnd","easing","innerClass","innerStyles","items","itemSize","itemNr","selectedIndex","margin","maxIndex","minIndex","mouseSwipe","mousewheel","offset","prevAnim","scroll3d","scrollBar","snap","spaceAround","swipe","time","touchUi","visibleSize","onAnimationEnd","onGestureStart","onGestureEnd","onIndexChange","onStart"]},{type:MbscWheelItem,selector:"mbsc-wheel-item",inputs:["active","angle3d","data","disabled","height","is3d","isGroup","index","itemTemplate","multiple","offset","rows","scroll3d","selected","text","onClick","checkmark"]}],directives:[{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscWheel}(WheelBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscWheel,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"(keydown)":"_onKeyDown($event)","[attr.aria-label]":"wheel.label","[attr.aria-multiselectable]":'multiple ? "true" : undefined',"[class]":'"mbsc-scroller-wheel-wrapper mbsc-scroller-wheel-wrapper-" + wheel._key + " " +\n        (wheel.cssClass || "") + (scroll3d ? " mbsc-scroller-wheel-wrapper-3d" : "") + _theme + _rtl',"[style.maxWidth]":"_wheelStyle.maxWidth","[style.minWidth]":"_wheelStyle.minWidth","[style.width]":"_wheelStyle.width",role:"listbox"},selector:"mbsc-wheel",template:'\n    <mbsc-scrollview-base\n      [class]="\'mbsc-scroller-wheel\' + (scroll3d ? \' mbsc-scroller-wheel-3d\' : \'\') + _theme"\n      #scrollview\n      [batchSize3d]="_batchSize3d"\n      [innerClass]="\n        \'mbsc-scroller-wheel-cont mbsc-scroller-wheel-cont-\' +\n        display +\n        (scroll3d ? \' mbsc-scroller-wheel-cont-3d\' : \'\') +\n        (multiple ? \' mbsc-scroller-wheel-multi\' : \'\') +\n        _theme\n      "\n      [innerStyles]="_innerStyle"\n      [items]="_items"\n      [itemSize]="itemHeight"\n      [itemNr]="_itemNr"\n      [margin]="true"\n      [maxIndex]="maxIndex"\n      [minIndex]="minIndex"\n      [offset]="wheel._offset"\n      [onIndexChange]="_onIndexChange"\n      [rtl]="rtl"\n      [scroll3d]="scroll3d"\n      [scrollBar]="!_touchUi"\n      [selectedIndex]="selectedIndex"\n      [snap]="true"\n      [spaceAround]="wheel.spaceAround"\n      [style.height]="_style.height"\n      [visibleSize]="rows"\n    >\n      <mbsc-wheel-item\n        *ngFor="let item of scrollview.visibleItems; trackBy: _getItemKey"\n        [active]="_isActive(item, _getText(item.data), false)"\n        [angle3d]="_angle3d"\n        [data]="item.data"\n        [disabled]="_isDisabled(item.data)"\n        [height]="itemHeight"\n        [is3d]="false"\n        [isGroup]="item.data && item.data.isGroup"\n        [index]="item.key"\n        [itemTemplate]="itemTemplate"\n        [multiple]="multiple"\n        [offset]="scrollview._offset"\n        [checkmark]="wheel.checkmark"\n        [rows]="rows"\n        [rtl]="rtl"\n        [scroll3d]="scroll3d"\n        [selected]="_isSelected(item)"\n        [text]="_getText(item.data)"\n        [theme]="theme"\n        [onClick]="_onItemClick"\n      >\n      </mbsc-wheel-item>\n      <ng-container content-3d>\n        <mbsc-wheel-item\n          *ngFor="let item of scrollview.visible3dItems; trackBy: _getItemKey"\n          [active]="_isActive(item, _getText(item.data), true)"\n          [angle3d]="_angle3d"\n          [data]="item.data"\n          [disabled]="_isDisabled(item.data)"\n          [height]="itemHeight"\n          [is3d]="true"\n          [isGroup]="item.data && item.data.isGroup"\n          [index]="item.key"\n          [itemTemplate]="itemTemplate"\n          [multiple]="multiple"\n          [offset]="scrollview._offset"\n          [checkmark]="wheel.checkmark"\n          [rows]="rows"\n          [rtl]="rtl"\n          [scroll3d]="scroll3d"\n          [selected]="_isSelected(item)"\n          [text]="_getText(item.data)"\n          [theme]="theme"\n          [onClick]="_onItemClick"\n        >\n        </mbsc-wheel-item>\n      </ng-container>\n    </mbsc-scrollview-base>\n  '}]}],propDecorators:{activeIndex:[{type:Input}],disabled:[{type:Input}],display:[{type:Input}],itemHeight:[{type:Input}],itemTemplate:[{type:Input}],maxIndex:[{type:Input}],maxWheelWidth:[{type:Input}],minIndex:[{type:Input}],minWheelWidth:[{type:Input}],multiple:[{type:Input}],rows:[{type:Input}],scroll3d:[{type:Input}],selectedIndex:[{type:Input}],selectedValues:[{type:Input}],selectOnScroll:[{type:Input}],touchUi:[{type:Input}],wheel:[{type:Input}],wheelWidth:[{type:Input}],onGestureEnd:[{type:Input}],onGestureStart:[{type:Input}],onIndexChange:[{type:Input}],onActiveChange:[{type:Input}],onSet:[{type:Input}]}});var MbscScroller=/*#__PURE__*/function(_super){__extends(MbscScroller,_super);function MbscScroller(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.onChange=new EventEmitter;_this.onTempChange=new EventEmitter;return _this}MbscScroller.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScroller,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscScroller.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscScroller,selector:"mbsc-scroller",inputs:{circular:"circular",displayStyle:"displayStyle",getValue:"getValue",maxWheelWidth:"maxWheelWidth",minWheelWidth:"minWheelWidth",inContentTemplate:"inContentTemplate",invalid:"invalid",itemHeight:"itemHeight",itemTemplate:"itemTemplate",onWheelMove:"onWheelMove",parseValue:"parseValue",preContentTemplate:"preContentTemplate",preContentData:"preContentData",rows:"rows",selectOnScroll:"selectOnScroll",shouldValidate:"shouldValidate",validate:"validate",valueEquality:"valueEquality",wheels:"wheels",wheelWidth:"wheelWidth",display:"display",valid:"valid"},outputs:{onChange:"onChange",onTempChange:"onTempChange"},usesInheritance:true,ngImport:i0,template:' <ng-template [ngTemplateOutlet]="preContentTemplate" [ngTemplateOutletContext]="{ data: preContentData }"> </ng-template>\n\n    <div\n      [class]="\n        \'mbsc-scroller mbsc-scroller-\' +\n        _displayStyle +\n        _theme +\n        _rtl +\n        (_touchUi ? \' mbsc-scroller-touch\' : \' mbsc-scroller-pointer \') +\n        (s.display === \'inline\' ? \' mbsc-font \' : \' \') +\n        _className\n      "\n    >\n      <ng-template [ngTemplateOutlet]="inContentTemplate" [ngTemplateOutletContext]="{ data: preContentData }"> </ng-template>\n      <div\n        *ngFor="let wheelGroup of _wheels"\n        [class]="\'mbsc-scroller-wheel-group-cont\' + (s.scroll3d ? \' mbsc-scroller-wheel-group-cont-3d\' : \'\') + _theme"\n      >\n        <div *ngIf="s.selectOnScroll" [class]="\'mbsc-scroller-wheel-line\' + _theme" [ngStyle]="_lineStyle"></div>\n        <div [class]="\'mbsc-flex mbsc-scroller-wheel-group\' + (s.scroll3d ? \' mbsc-scroller-wheel-group-3d\' : \'\') + _theme">\n          <div\n            [class]="\'mbsc-scroller-wheel-overlay mbsc-scroller-wheel-overlay-\' + _displayStyle + _theme"\n            [ngStyle]="_overlayStyle"\n          ></div>\n          <mbsc-wheel\n            *ngFor="let wheel of wheelGroup"\n            [activeIndex]="_activeIndexes[wheel._key!]"\n            [disabled]="_disabled && _disabled[wheel._key!]"\n            [display]="_displayStyle"\n            [itemHeight]="s.itemHeight"\n            [onActiveChange]="_onActiveChange"\n            [onIndexChange]="_onWheelIndexChange"\n            [onSet]="_onSet"\n            [maxIndex]="wheel.max"\n            [maxWheelWidth]="s.maxWheelWidth"\n            [minIndex]="wheel.min"\n            [minWheelWidth]="s.minWheelWidth"\n            [multiple]="wheel.multiple"\n            [rows]="_rows"\n            [scroll3d]="_scroll3d"\n            [selectedIndex]="_indexes[wheel._key!]"\n            [selectedValues]="_tempValueRep[wheel._key!]"\n            [selectOnScroll]="s.selectOnScroll"\n            [itemTemplate]="s.itemTemplate"\n            [theme]="s.theme"\n            [rtl]="s.rtl"\n            [wheel]="wheel"\n            [wheelWidth]="s.wheelWidth"\n            [touchUi]="s.touchUi"\n          >\n          </mbsc-wheel>\n        </div>\n      </div>\n    </div>',isInline:true,components:[{type:MbscWheel,selector:"mbsc-wheel",inputs:["activeIndex","disabled","display","itemHeight","itemTemplate","maxIndex","maxWheelWidth","minIndex","minWheelWidth","multiple","rows","scroll3d","selectedIndex","selectedValues","selectOnScroll","touchUi","wheel","wheelWidth","onGestureEnd","onGestureStart","onIndexChange","onActiveChange","onSet"]}],directives:[{type:i1$1.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});MbscScroller=__decorate([FormControl],MbscScroller);return MbscScroller}(ScrollerBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScroller,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,selector:"mbsc-scroller",template:' <ng-template [ngTemplateOutlet]="preContentTemplate" [ngTemplateOutletContext]="{ data: preContentData }"> </ng-template>\n\n    <div\n      [class]="\n        \'mbsc-scroller mbsc-scroller-\' +\n        _displayStyle +\n        _theme +\n        _rtl +\n        (_touchUi ? \' mbsc-scroller-touch\' : \' mbsc-scroller-pointer \') +\n        (s.display === \'inline\' ? \' mbsc-font \' : \' \') +\n        _className\n      "\n    >\n      <ng-template [ngTemplateOutlet]="inContentTemplate" [ngTemplateOutletContext]="{ data: preContentData }"> </ng-template>\n      <div\n        *ngFor="let wheelGroup of _wheels"\n        [class]="\'mbsc-scroller-wheel-group-cont\' + (s.scroll3d ? \' mbsc-scroller-wheel-group-cont-3d\' : \'\') + _theme"\n      >\n        <div *ngIf="s.selectOnScroll" [class]="\'mbsc-scroller-wheel-line\' + _theme" [ngStyle]="_lineStyle"></div>\n        <div [class]="\'mbsc-flex mbsc-scroller-wheel-group\' + (s.scroll3d ? \' mbsc-scroller-wheel-group-3d\' : \'\') + _theme">\n          <div\n            [class]="\'mbsc-scroller-wheel-overlay mbsc-scroller-wheel-overlay-\' + _displayStyle + _theme"\n            [ngStyle]="_overlayStyle"\n          ></div>\n          <mbsc-wheel\n            *ngFor="let wheel of wheelGroup"\n            [activeIndex]="_activeIndexes[wheel._key!]"\n            [disabled]="_disabled && _disabled[wheel._key!]"\n            [display]="_displayStyle"\n            [itemHeight]="s.itemHeight"\n            [onActiveChange]="_onActiveChange"\n            [onIndexChange]="_onWheelIndexChange"\n            [onSet]="_onSet"\n            [maxIndex]="wheel.max"\n            [maxWheelWidth]="s.maxWheelWidth"\n            [minIndex]="wheel.min"\n            [minWheelWidth]="s.minWheelWidth"\n            [multiple]="wheel.multiple"\n            [rows]="_rows"\n            [scroll3d]="_scroll3d"\n            [selectedIndex]="_indexes[wheel._key!]"\n            [selectedValues]="_tempValueRep[wheel._key!]"\n            [selectOnScroll]="s.selectOnScroll"\n            [itemTemplate]="s.itemTemplate"\n            [theme]="s.theme"\n            [rtl]="s.rtl"\n            [wheel]="wheel"\n            [wheelWidth]="s.wheelWidth"\n            [touchUi]="s.touchUi"\n          >\n          </mbsc-wheel>\n        </div>\n      </div>\n    </div>'}]}],propDecorators:{circular:[{type:Input}],displayStyle:[{type:Input}],getValue:[{type:Input}],maxWheelWidth:[{type:Input}],minWheelWidth:[{type:Input}],inContentTemplate:[{type:Input}],invalid:[{type:Input}],itemHeight:[{type:Input}],itemTemplate:[{type:Input}],onWheelMove:[{type:Input}],parseValue:[{type:Input}],preContentTemplate:[{type:Input}],preContentData:[{type:Input}],rows:[{type:Input}],selectOnScroll:[{type:Input}],shouldValidate:[{type:Input}],validate:[{type:Input}],valueEquality:[{type:Input}],wheels:[{type:Input}],wheelWidth:[{type:Input}],display:[{type:Input}],valid:[{type:Input}],onChange:[{type:Output}],onTempChange:[{type:Output}]}});var TEMPLATE='\n  <mbsc-scroller\n    [display]="s.display"\n    [circular]="s.circular"\n    [displayStyle]="s.displayStyle"\n    [getValue]="_getDate"\n    [itemHeight]="s.itemHeight"\n    [maxWheelWidth]="s.maxWheelWidth"\n    [minWheelWidth]="_minWheelWidth"\n    [value]="s.value"\n    [parseValue]="_parseDate"\n    [rows]="s.rows"\n    [rtl]="s.rtl"\n    [shouldValidate]="_shouldValidate"\n    [theme]="s.theme"\n    [themeVariant]="s.themeVariant"\n    [touchUi]="_touchUi"\n    [validate]="_validate"\n    [valueEquality]="_valueEquals"\n    [wheels]="_wheels"\n    [wheelWidth]="s.wheelWidth"\n    [invalid]="s.invalid"\n    [valid]="s.valid"\n    (onChange)="_proxyHook($event)"\n    (onTempChange)="_proxyHook($event)"\n  ></mbsc-scroller>\n  ';var MbscDateBase=/*#__PURE__*/function(_super){__extends(MbscDateBase,_super);function MbscDateBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.onChange=new EventEmitter;_this.onTempChange=new EventEmitter;return _this}MbscDateBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDateBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});MbscDateBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:MbscDateBase,selector:"[mbsc-dtb-b]",outputs:{onChange:"onChange",onTempChange:"onTempChange"},usesInheritance:true,ngImport:i0});MbscDateBase=__decorate([FormControl],MbscDateBase);return MbscDateBase}(DatetimeBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDateBase,decorators:[{type:Directive,args:[{selector:"[mbsc-dtb-b]"}]}],propDecorators:{onChange:[{type:Output}],onTempChange:[{type:Output}]}});var MbscDate=/*#__PURE__*/function(_super){__extends(MbscDate,_super);function MbscDate(){return _super!==null&&_super.apply(this,arguments)||this}MbscDate.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDate,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscDate.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscDate,selector:"mbsc-date",usesInheritance:true,ngImport:i0,template:'\n  <mbsc-scroller\n    [display]="s.display"\n    [circular]="s.circular"\n    [displayStyle]="s.displayStyle"\n    [getValue]="_getDate"\n    [itemHeight]="s.itemHeight"\n    [maxWheelWidth]="s.maxWheelWidth"\n    [minWheelWidth]="_minWheelWidth"\n    [value]="s.value"\n    [parseValue]="_parseDate"\n    [rows]="s.rows"\n    [rtl]="s.rtl"\n    [shouldValidate]="_shouldValidate"\n    [theme]="s.theme"\n    [themeVariant]="s.themeVariant"\n    [touchUi]="_touchUi"\n    [validate]="_validate"\n    [valueEquality]="_valueEquals"\n    [wheels]="_wheels"\n    [wheelWidth]="s.wheelWidth"\n    [invalid]="s.invalid"\n    [valid]="s.valid"\n    (onChange)="_proxyHook($event)"\n    (onTempChange)="_proxyHook($event)"\n  ></mbsc-scroller>\n  ',isInline:true,components:[{type:MbscScroller,selector:"mbsc-scroller",inputs:["circular","displayStyle","getValue","maxWheelWidth","minWheelWidth","inContentTemplate","invalid","itemHeight","itemTemplate","onWheelMove","parseValue","preContentTemplate","preContentData","rows","selectOnScroll","shouldValidate","validate","valueEquality","wheels","wheelWidth","display","valid"],outputs:["onChange","onTempChange"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscDate}(MbscDateBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDate,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,selector:"mbsc-date",template:TEMPLATE}]}]});var MbscDatetime=/*#__PURE__*/function(_super){__extends(MbscDatetime,_super);function MbscDatetime(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._preset="datetime";return _this}MbscDatetime.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatetime,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscDatetime.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscDatetime,selector:"mbsc-datetime",usesInheritance:true,ngImport:i0,template:'\n  <mbsc-scroller\n    [display]="s.display"\n    [circular]="s.circular"\n    [displayStyle]="s.displayStyle"\n    [getValue]="_getDate"\n    [itemHeight]="s.itemHeight"\n    [maxWheelWidth]="s.maxWheelWidth"\n    [minWheelWidth]="_minWheelWidth"\n    [value]="s.value"\n    [parseValue]="_parseDate"\n    [rows]="s.rows"\n    [rtl]="s.rtl"\n    [shouldValidate]="_shouldValidate"\n    [theme]="s.theme"\n    [themeVariant]="s.themeVariant"\n    [touchUi]="_touchUi"\n    [validate]="_validate"\n    [valueEquality]="_valueEquals"\n    [wheels]="_wheels"\n    [wheelWidth]="s.wheelWidth"\n    [invalid]="s.invalid"\n    [valid]="s.valid"\n    (onChange)="_proxyHook($event)"\n    (onTempChange)="_proxyHook($event)"\n  ></mbsc-scroller>\n  ',isInline:true,components:[{type:MbscScroller,selector:"mbsc-scroller",inputs:["circular","displayStyle","getValue","maxWheelWidth","minWheelWidth","inContentTemplate","invalid","itemHeight","itemTemplate","onWheelMove","parseValue","preContentTemplate","preContentData","rows","selectOnScroll","shouldValidate","validate","valueEquality","wheels","wheelWidth","display","valid"],outputs:["onChange","onTempChange"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscDatetime}(MbscDateBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatetime,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,selector:"mbsc-datetime",template:TEMPLATE}]}]});var MbscTime=/*#__PURE__*/function(_super){__extends(MbscTime,_super);function MbscTime(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._preset="time";return _this}MbscTime.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTime,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscTime.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscTime,selector:"mbsc-time",usesInheritance:true,ngImport:i0,template:'\n  <mbsc-scroller\n    [display]="s.display"\n    [circular]="s.circular"\n    [displayStyle]="s.displayStyle"\n    [getValue]="_getDate"\n    [itemHeight]="s.itemHeight"\n    [maxWheelWidth]="s.maxWheelWidth"\n    [minWheelWidth]="_minWheelWidth"\n    [value]="s.value"\n    [parseValue]="_parseDate"\n    [rows]="s.rows"\n    [rtl]="s.rtl"\n    [shouldValidate]="_shouldValidate"\n    [theme]="s.theme"\n    [themeVariant]="s.themeVariant"\n    [touchUi]="_touchUi"\n    [validate]="_validate"\n    [valueEquality]="_valueEquals"\n    [wheels]="_wheels"\n    [wheelWidth]="s.wheelWidth"\n    [invalid]="s.invalid"\n    [valid]="s.valid"\n    (onChange)="_proxyHook($event)"\n    (onTempChange)="_proxyHook($event)"\n  ></mbsc-scroller>\n  ',isInline:true,components:[{type:MbscScroller,selector:"mbsc-scroller",inputs:["circular","displayStyle","getValue","maxWheelWidth","minWheelWidth","inContentTemplate","invalid","itemHeight","itemTemplate","onWheelMove","parseValue","preContentTemplate","preContentData","rows","selectOnScroll","shouldValidate","validate","valueEquality","wheels","wheelWidth","display","valid"],outputs:["onChange","onTempChange"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscTime}(MbscDateBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTime,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,selector:"mbsc-time",template:TEMPLATE}]}]});function getClosestNumber(arr,value){if(isEmpty(value)||!arr.length){return null}var i=0;while(i<arr.length&&value>=arr[i]){i++}if(i===arr.length){return arr[i-1]}else if(i===0){return arr[0]}else{var prev=arr[i-1];var next=arr[i];return value-prev<next-value?prev:next}}var TimegridBase=/*#__PURE__*/function(_super){__extends(TimegridBase,_super);function TimegridBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._setTime=function(timeSlot){_this._hook("onChange",{value:createDate$1(_this.s,timeSlot.value)})};_this._isDisabled=function(d){if(d){var key=getDateStr(createDate$1(_this.s,d));var invalidsForDay=_this._invalids&&_this._invalids[key];var validsForDay=_this._valids&&_this._valids[key];var exclusiveEndDates=_this.s.exclusiveEndDates;if(validsForDay){for(var _i=0,validsForDay_1=validsForDay;_i<validsForDay_1.length;_i++){var valid=validsForDay_1[_i];var lessThanEnd=valid.end&&(exclusiveEndDates?d<+valid.end:d<=+valid.end);if(valid.start&&d>=+valid.start&&lessThanEnd||valid.allDay){return false}}return true}if(invalidsForDay){for(var _a=0,invalidsForDay_1=invalidsForDay;_a<invalidsForDay_1.length;_a++){var invalid=invalidsForDay_1[_a];var lessThanEnd=invalid.end&&(exclusiveEndDates?d<+invalid.end:d<=+invalid.end);if(invalid.start&&d>=+invalid.start&&lessThanEnd||invalid.allDay){return true}}return false}}return false};_this._onKeyDown=function(ev){switch(ev.keyCode){case SPACE:ev.target.click();ev.preventDefault();break}};_this._setCont=function(el){_this._gridContEl=el&&el.parentElement};return _this}TimegridBase.prototype._render=function(s,state){var _this=this;var prevS=this._prevS;this._cssClass="mbsc-timegrid-container mbsc-font"+this._theme+this._rtl;var minChanged=s.min!==prevS.min;var maxChanged=s.max!==prevS.max;var timeFormat=s.timeFormat;var valueChanged=prevS.value&&!s.value||s.value&&+s.value!==this._value;if(minChanged){this._min=isEmpty(s.min)?UNDEFINED:makeDate(s.min,s,timeFormat)}if(maxChanged){this._max=isEmpty(s.max)?UNDEFINED:makeDate(s.max,s,timeFormat)}var selected=s.value||getClosestValidDate(createDate$1(s),s,-Infinity,+Infinity);var dayStart=getDateOnly(selected);var dayEnd=addDays(dayStart,1);var currentDateChanged=this._selectedDate!==+dayStart;var invChanged=s.invalid!==prevS.invalid;var validChanged=s.valid!==prevS.valid;if(invChanged||currentDateChanged){this._invalids=getEventMap(s.invalid,dayStart,dayEnd,s,true,true)}if(validChanged||currentDateChanged){this._valids=getEventMap(s.valid,dayStart,dayEnd,s,true,true)}if(valueChanged){this._value=s.value&&+s.value}var timeSlotsChange=currentDateChanged||invChanged||minChanged||maxChanged||timeFormat!==prevS.timeFormat;if(timeSlotsChange){this._selectedDate=+dayStart;var start=Math.max(+dayStart,+(this._min||-Infinity));var end=Math.min(+dayEnd,+(this._max||Infinity)+1);var timeInterval=s.stepHour*36e5+s.stepMinute*6e4;this._timeSlots=[];this._validTimes=[];var arr=[];var i=0;for(var d=+dayStart;d<+dayEnd;d+=timeInterval){if(end>=start?d>=start&&d<end:d>=start||d<end){var timeslot={formattedValue:formatDate(timeFormat,createDate$1(s,d),s),value:d};arr.push(timeslot);if(i===2){this._timeSlots.push(arr);arr=[];i=-1}if(!this._isDisabled(d)){this._validTimes.push(timeslot)}i++}}if(arr.length){this._timeSlots.push(arr)}}if(this._isDisabled(this._value)||(valueChanged||timeSlotsChange)&&findIndex(this._validTimes,(function(ts){return ts.value===_this._value}))===-1){var validated_1=getClosestNumber(this._validTimes.map((function(slot){return slot.value})),this._value);if(validated_1){clearTimeout(this._validationHandle);this._validationHandle=setTimeout((function(){var validTimeslot=find(_this._validTimes,(function(slot){return slot.value===validated_1}));_this._setTime(validTimeslot)}))}}else if(timeSlotsChange){clearTimeout(this._validationHandle)}this._valueChanged=this._valueChanged||valueChanged};TimegridBase.prototype._updated=function(){var isOpen=this.s.isOpen;if(isBrowser&&this._value!==UNDEFINED&&(this._valueChanged||this._isOpen!==isOpen&&isOpen)){var animate_1=this._lastValue!==UNDEFINED;var grid_1=this._gridContEl;var timeslot_1=grid_1.querySelector('[data-timeslot="'+this._value+'"]');if(timeslot_1){setTimeout((function(){var itemRect=timeslot_1.getBoundingClientRect();var itemTop=itemRect.top;var itemHeight=itemRect.height;var gridRect=grid_1.getBoundingClientRect();var gridTop=gridRect.top;var gridHeight=gridRect.height;var currPos=getScrollTop(grid_1);if(itemTop+itemHeight>gridTop+gridHeight||itemTop<gridTop){var scrollPos=itemTop-gridTop+currPos-5;smoothScroll(grid_1,UNDEFINED,scrollPos,animate_1)}}))}this._valueChanged=false;this._lastValue=this._value}this._isOpen=isOpen};TimegridBase.defaults=__assign(__assign({},dateTimeLocale),{stepHour:0,stepMinute:30});TimegridBase._name="Timegrid";TimegridBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:TimegridBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});TimegridBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:TimegridBase,selector:"[mbsc-tg-b]",usesInheritance:true,ngImport:i0});return TimegridBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:TimegridBase,decorators:[{type:Directive,args:[{selector:"[mbsc-tg-b]"}]}]});var MbscTimeBox=/*#__PURE__*/function(){function MbscTimeBox(){}MbscTimeBox.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTimeBox,deps:[],target:i0.ɵɵFactoryTarget.Component});MbscTimeBox.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscTimeBox,selector:"mbsc-timebox",inputs:{disabled:"disabled",selected:"selected",timeSlot:"timeSlot",theme:"theme",onClick:"onClick",onKeyDown:"onKeyDown"},ngImport:i0,template:"<div\n    [attr.data-timeslot]=\"timeSlot.value\"\n    [attr.tabIndex]=\"disabled ? null : 0\"\n    [class]=\"'mbsc-timegrid-item' + (selected ? ' mbsc-selected' : '') + (disabled ? ' mbsc-disabled' : '') + theme\"\n    (click)=\"onClick(timeSlot)\"\n    (keydown)=\"onKeyDown($event)\"\n  >\n    {{ timeSlot.formattedValue }}\n  </div>",isInline:true,changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscTimeBox}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTimeBox,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,selector:"mbsc-timebox",template:"<div\n    [attr.data-timeslot]=\"timeSlot.value\"\n    [attr.tabIndex]=\"disabled ? null : 0\"\n    [class]=\"'mbsc-timegrid-item' + (selected ? ' mbsc-selected' : '') + (disabled ? ' mbsc-disabled' : '') + theme\"\n    (click)=\"onClick(timeSlot)\"\n    (keydown)=\"onKeyDown($event)\"\n  >\n    {{ timeSlot.formattedValue }}\n  </div>"}]}],propDecorators:{disabled:[{type:Input}],selected:[{type:Input}],timeSlot:[{type:Input}],theme:[{type:Input}],onClick:[{type:Input}],onKeyDown:[{type:Input}]}});var MbscTimegrid=/*#__PURE__*/function(_super){__extends(MbscTimegrid,_super);function MbscTimegrid(){return _super!==null&&_super.apply(this,arguments)||this}MbscTimegrid.prototype._mounted=function(){var el=this._elr.nativeElement;this._gridContEl=el&&el.parentElement};MbscTimegrid.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTimegrid,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscTimegrid.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscTimegrid,selector:"mbsc-timegrid",host:{properties:{class:"_cssClass"}},usesInheritance:true,ngImport:i0,template:'\n    <div *ngFor="let arr of _timeSlots; let rowIndex = index; trackBy: _getKey" class="mbsc-timegrid-row">\n      <div\n        *ngFor="let v of arr; let cellIndex = index; trackBy: _getKey"\n        [class]="\'mbsc-timegrid-cell\' + (_isDisabled(v.value) ? \' mbsc-disabled\' : \'\')"\n      >\n        <div [innerHTML]="textParamMulti(rowIndex*3+cellIndex)"></div>\n        <mbsc-timebox\n          [disabled]="_isDisabled(v.value)"\n          [selected]="_value === v.value"\n          [timeSlot]="v"\n          [theme]="_theme"\n          [onClick]="_setTime"\n          [onKeyDown]="_onKeyDown"\n        >\n        </mbsc-timebox>\n      </div>\n    </div>\n  ',isInline:true,components:[{type:MbscTimeBox,selector:"mbsc-timebox",inputs:["disabled","selected","timeSlot","theme","onClick","onKeyDown"]}],directives:[{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscTimegrid}(TimegridBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTimegrid,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-timegrid",template:'\n    <div *ngFor="let arr of _timeSlots; let rowIndex = index; trackBy: _getKey" class="mbsc-timegrid-row">\n      <div\n        *ngFor="let v of arr; let cellIndex = index; trackBy: _getKey"\n        [class]="\'mbsc-timegrid-cell\' + (_isDisabled(v.value) ? \' mbsc-disabled\' : \'\')"\n      >\n        <div [innerHTML]="textParamMulti(rowIndex*3+cellIndex)"></div>\n        <mbsc-timebox\n          [disabled]="_isDisabled(v.value)"\n          [selected]="_value === v.value"\n          [timeSlot]="v"\n          [theme]="_theme"\n          [onClick]="_setTime"\n          [onKeyDown]="_onKeyDown"\n        >\n        </mbsc-timebox>\n      </div>\n    </div>\n  '}]}]});var radios={};function subscribeRadio(name,handler){if(!radios[name]){radios[name]={change:new Observable,selectedIndex:-1}}return radios[name].change.subscribe(handler)}function unsubscribeRadio(name,key){var data=radios[name];if(data){data.change.unsubscribe(key);if(!data.change.nr){delete radios[name]}}}function setRadio(name,value,selectedIndex){var data=radios[name];if(data){if(selectedIndex!==UNDEFINED){data.selectedIndex=selectedIndex}if(value!==UNDEFINED){data.value=value}data.change.next(data.value)}}function getSelectedIndex(name){return radios[name]&&radios[name].selectedIndex}function setSelectedIndex(name,selectedIndex){if(radios[name]){radios[name].selectedIndex=selectedIndex}}var guid$5=1;var SegmentedGroupBase=/*#__PURE__*/function(_super){__extends(SegmentedGroupBase,_super);function SegmentedGroupBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._id="mbsc-segmented-group"+guid$5++;_this._onChange=function(ev,val){var s=_this.s;var value=s.modelValue!==UNDEFINED?s.modelValue:_this.value;if(s.select==="multiple"){if(value!==UNDEFINED){value=value||[];var index=value.indexOf(val);if(index!==-1){value.splice(index,1)}else{value.push(val)}_this.value=__spreadArray([],value,true)}}else{_this.value=val}_this._change(_this.value);if(s.onChange){s.onChange(ev)}};return _this}SegmentedGroupBase.prototype._change=function(value){};SegmentedGroupBase.prototype._render=function(s,state){this._name=s.name===UNDEFINED?this._id:s.name;this._groupClass="mbsc-segmented mbsc-flex "+this._className+this._theme+this._rtl+(s.color?" mbsc-segmented-"+s.color:"")+(state.dragging?" mbsc-segmented-dragging":"");this._groupOpt={color:s.color,disabled:s.disabled,name:this._name,onChange:this._onChange,select:s.select,value:s.modelValue!==UNDEFINED?s.modelValue:s.value}};SegmentedGroupBase.prototype._updated=function(){if(this.s.drag&&this.s.select!=="multiple"){if(!this._unlisten){this._setupDrag()}}else{this._cleanupDrag()}};SegmentedGroupBase.prototype._destroy=function(){this._cleanupDrag()};SegmentedGroupBase.prototype._setupDrag=function(){var _this=this;var disabledArray;var itemLefts;var isDragging;var selectedIndex;var oldIndex;var name;this._unlisten=gestureListener(this._el,{onEnd:function(){if(isDragging&&selectedIndex!==oldIndex&&!disabledArray[selectedIndex]){var inputElement=_this._el.querySelectorAll(".mbsc-segmented-input")[selectedIndex];inputElement.click()}isDragging=false;_this.setState({dragging:false})},onMove:function(ev){if(isDragging){var i=0;var newIndex=0;while(ev.endX>itemLefts[i]&&i<itemLefts.length){newIndex=i;i++}newIndex=_this.s.rtl?itemLefts.length-newIndex-1:newIndex;if(newIndex!==selectedIndex&&!disabledArray[newIndex]){selectedIndex=newIndex;setRadio(name,UNDEFINED,selectedIndex)}}},onStart:function(ev){var item=closest(ev.domEvent.target,".mbsc-segmented-item",_this._el);if(!item){return}var input=item.querySelector(".mbsc-segmented-input");var classList=input.classList;if(classList.contains("mbsc-selected")){disabledArray=[];forEach(_this._el.querySelectorAll(".mbsc-segmented-button"),(function(button){disabledArray.push(button.classList.contains("mbsc-disabled"))}));itemLefts=[];forEach(_this._el.querySelectorAll(".mbsc-segmented-item"),(function(el){if(_this.s.rtl){itemLefts.unshift(getOffset(el).left)}else{itemLefts.push(getOffset(el).left)}}));name=input.name;selectedIndex=getSelectedIndex(name);oldIndex=selectedIndex;if(itemLefts.length&&input.type==="radio"){isDragging=true;_this.setState({dragging:true})}}}})};SegmentedGroupBase.prototype._cleanupDrag=function(){if(this._unlisten){this._unlisten();this._unlisten=null}};SegmentedGroupBase.defaults={select:"single"};SegmentedGroupBase._name="SegmentedGroup";SegmentedGroupBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:SegmentedGroupBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});SegmentedGroupBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:SegmentedGroupBase,selector:"[mbsc-sgr-b]",usesInheritance:true,ngImport:i0});return SegmentedGroupBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:SegmentedGroupBase,decorators:[{type:Directive,args:[{selector:"[mbsc-sgr-b]"}]}]});var MbscRadioService=/*#__PURE__*/function(){function MbscRadioService(){}MbscRadioService.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscRadioService,deps:[],target:i0.ɵɵFactoryTarget.Injectable});MbscRadioService.ɵprov=i0.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscRadioService});return MbscRadioService}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscRadioService,decorators:[{type:Injectable}]});var MbscSegmentedGroup=/*#__PURE__*/function(_super){__extends(MbscSegmentedGroup,_super);function MbscSegmentedGroup(){return _super!==null&&_super.apply(this,arguments)||this}MbscSegmentedGroup.prototype._onValueChange=function(value){this._radioService.value=value;setRadio(this._radioService.name,value)};MbscSegmentedGroup.prototype._ctor=function(){this._radioService=this._injector.get(MbscRadioService)};MbscSegmentedGroup.prototype._render=function(s,state){_super.prototype._render.call(this,s,state);var rs=this._radioService;rs.color=s.color;rs.disabled=s.disabled;rs.name=this._name;rs.select=s.select;rs.value=this.value;rs.onChange=this._onChange};MbscSegmentedGroup.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSegmentedGroup,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscSegmentedGroup.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscSegmentedGroup,selector:"mbsc-segmented-group",inputs:{color:"color",disabled:"disabled",name:"name",select:"select"},host:{properties:{class:"_groupClass"}},providers:[MbscRadioService],usesInheritance:true,ngImport:i0,template:"<ng-content></ng-content>",isInline:true,changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});MbscSegmentedGroup=__decorate([FormControl],MbscSegmentedGroup);return MbscSegmentedGroup}(SegmentedGroupBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSegmentedGroup,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_groupClass"},providers:[MbscRadioService],selector:"mbsc-segmented-group",template:"<ng-content></ng-content>"}]}],propDecorators:{color:[{type:Input}],disabled:[{type:Input}],name:[{type:Input}],select:[{type:Input}]}});var guid$4=1;var SegmentedBase=/*#__PURE__*/function(_super){__extends(SegmentedBase,_super);function SegmentedBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._onChange=function(ev){var s=_this.s;var checked=ev.target.checked;if(checked===_this._checked){return}_this._change(checked);if(_this._onGroupChange){_this._onGroupChange(ev,_this._value)}_this._toggle(checked);if(s.onChange){s.onChange(ev)}};_this._onValueChange=function(value){var s=_this.s;var selected=_this._isMultiple?isArray(value)&&value.indexOf(_this._value)!==-1:value===_this._value;if(s.checked===UNDEFINED&&selected!==_this.state.selected){_this.setState({selected:selected})}else{_this.forceUpdate()}_this._change(selected)};_this._setBox=function(box){_this._box=box};return _this}SegmentedBase.prototype._change=function(checked){};SegmentedBase.prototype._groupOptions=function(_a){var _this=this;var color=_a.color,disabled=_a.disabled,name=_a.name,onChange=_a.onChange,select=_a.select,value=_a.value;var s=this.s;var state=this.state;var prevChecked=this._checked;var modelValue=s.modelValue!==UNDEFINED?s.modelValue===s.value:s.checked;var checked=modelValue!==UNDEFINED?emptyOrTrue(modelValue):state.selected===UNDEFINED?emptyOrTrue(s.defaultChecked):state.selected;this._id=s.id===UNDEFINED?this._id||"mbsc-segmented-"+guid$4++:s.id;this._value=s.value===UNDEFINED?this._id:s.value;this._onGroupChange=onChange;this._isMultiple=(select||s.select)==="multiple";this._name=name===UNDEFINED?s.name:name;this._disabled=disabled===UNDEFINED?s.disabled===UNDEFINED?state.disabled:emptyOrTrue(s.disabled):emptyOrTrue(disabled);this._color=color===UNDEFINED?s.color:color;this._checked=value===UNDEFINED?checked:this._isMultiple?value&&value.indexOf(this._value)!==-1:value===this._value;if(!this._isMultiple&&!prevChecked&&this._checked){setTimeout((function(){if(_this._checked){setRadio(_this._name,_this._value,_this._index)}}))}this._selectedIndex=getSelectedIndex(this._name);this._cssClass="mbsc-segmented-item "+this._className+this._theme+this._rtl+(this._checked?" mbsc-segmented-item-checked":"")+(state.hasFocus?" mbsc-focus":"")+(this._index===this._selectedIndex||this._index===UNDEFINED&&this._checked||this._isMultiple&&this._checked?" mbsc-segmented-item-selected":"")};SegmentedBase.prototype._toggle=function(checked){if(this.s.checked===UNDEFINED){this.setState({selected:checked})}};SegmentedBase.prototype._mounted=function(){var _this=this;listen(this._el,CLICK,this._onChange);this._unlisten=gestureListener(this._el,{onBlur:function(){_this.setState({hasFocus:false})},onFocus:function(){_this.setState({hasFocus:true})}})};SegmentedBase.prototype._updated=function(){if(this._name&&!this._unsubscribe){this._unsubscribe=subscribeRadio(this._name,this._onValueChange)}if(!this._isMultiple){var cont=closest(this._el,".mbsc-segmented");var index=-1;var selectedIndex=-1;if(cont){var items=cont.querySelectorAll('.mbsc-segmented-input[name="'+this._name+'"]');for(var i=0;i<items.length;i++){if(items[i]===this._el){index=i}if(items[i].checked){selectedIndex=i}}}if(this._index!==index&&selectedIndex!==-1){setSelectedIndex(this._name,selectedIndex)}if(this._selectedIndex!==-1){this._box.style.transform="translateX("+(this.s.rtl?-1:1)*(this._selectedIndex-index)*100+"%)";this._animate=true}if(index!==-1){this._index=index}}};SegmentedBase.prototype._destroy=function(){unlisten(this._el,CLICK,this._onChange);if(this._unsubscribe){unsubscribeRadio(this._name,this._unsubscribe);this._unsubscribe=UNDEFINED}if(this._unlisten){this._unlisten()}};SegmentedBase.defaults={select:"single"};SegmentedBase._name="Segmented";SegmentedBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:SegmentedBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});SegmentedBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:SegmentedBase,selector:"[mbsc-seg-b]",usesInheritance:true,ngImport:i0});return SegmentedBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:SegmentedBase,decorators:[{type:Directive,args:[{selector:"[mbsc-seg-b]"}]}]});var MbscSegmented=/*#__PURE__*/function(_super){__extends(MbscSegmented,_super);function MbscSegmented(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.checkedChange=new EventEmitter;return _this}Object.defineProperty(MbscSegmented.prototype,"checked",{get:function(){return this._check},set:function(val){var rs=this._radioService;if(this._check!==val){if(this._isMultiple){this._onFormChange(val)}else if(val){if(rs){rs.value=this.value}this._onFormChange(this.value)}this.props.checked=val;this._check=val;this.setState({selected:val})}},enumerable:false,configurable:true});MbscSegmented.prototype.registerOnChange=function(fn){this._onFormChange=fn};MbscSegmented.prototype.registerOnTouched=function(fn){this._onFormTouch=fn};MbscSegmented.prototype.setDisabledState=function(disabled){this.setState({disabled:disabled})};MbscSegmented.prototype.writeValue=function(val){this.checked=this._isMultiple?val:this.value===val};MbscSegmented.prototype._change=function(checked){this.checked=checked};MbscSegmented.prototype._ctor=function(){var rs;this._radioService=rs=this._injector.get(MbscRadioService,null);var select=rs&&rs.select||this.select;this._isMultiple=select==="multiple"};MbscSegmented.prototype._render=function(s,state){this._groupOptions(this._radioService||{});_super.prototype._render.call(this,s,state)};MbscSegmented.prototype._mounted=function(){this._el=this.vInput.nativeElement;this._box=this.vBox.nativeElement;_super.prototype._mounted.call(this)};MbscSegmented.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSegmented,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscSegmented.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscSegmented,selector:"mbsc-segmented",inputs:{ariaLabel:"ariaLabel",color:"color",disabled:"disabled",endIcon:"endIcon",endIconSrc:"endIconSrc",endIconSvg:"endIconSvg",icon:"icon",iconSvg:"iconSvg",iconSrc:"iconSrc",id:"id",name:"name",ripple:"ripple",startIcon:"startIcon",startIconSrc:"startIconSrc",startIconSvg:"startIconSvg",select:"select",checked:"checked"},outputs:{checkedChange:"checkedChange"},host:{properties:{class:"_cssClass"}},viewQueries:[{propertyName:"vInput",first:true,predicate:["input"],descendants:true},{propertyName:"vBox",first:true,predicate:["box"],descendants:true}],usesInheritance:true,ngImport:i0,template:'\n    <label class="mbsc-segmented-label">\n      <div\n        #box\n        [class]="\n          \'mbsc-segmented-selectbox\' + _theme + (_animate ? \' mbsc-segmented-selectbox-animate\' : \'\') + (_checked ? \' mbsc-selected\' : \'\')\n        "\n      >\n        <div\n          [class]="\n            \'mbsc-segmented-selectbox-inner\' +\n            (_index === _selectedIndex || _checked ? \' mbsc-segmented-selectbox-inner-visible\' : \'\') +\n            (_checked ? \' mbsc-selected\' : \'\') +\n            _theme\n          "\n        ></div>\n      </div>\n      <input\n        #input\n        [attr.aria-labelledby]="_id"\n        [class]="\'mbsc-segmented-input mbsc-reset\' + _theme + (_checked ? \' mbsc-selected\' : \'\')"\n        [checked]="_checked"\n        [disabled]="_disabled"\n        [name]="_isMultiple ? (s.name === undefined ? \'\' : s.name) : _name"\n        [type]="_isMultiple ? \'checkbox\' : \'radio\'"\n        [value]="_value"\n      />\n      <mbsc-button\n        aria-hidden="true"\n        [ariaLabel]="s.ariaLabel"\n        [class]="\'mbsc-segmented-button\' + (_checked ? \' mbsc-selected\' : \'\') + (state.hasFocus ? \' mbsc-focus\' : \'\')"\n        [color]="_color"\n        [disabled]="_disabled"\n        [endIcon]="s.endIcon"\n        [endIconSrc]="s.endIconSrc"\n        [endIconSvg]="s.endIconSvg"\n        [hidden]="true"\n        [icon]="s.icon"\n        [iconSrc]="s.iconSrc"\n        [iconSvg]="s.iconSvg"\n        [id]="_id"\n        [ripple]="s.ripple"\n        [rtl]="s.rtl"\n        role="none"\n        [startIcon]="s.startIcon"\n        [startIconSrc]="s.startIconSrc"\n        [startIconSvg]="s.startIconSvg"\n        [theme]="s.theme"\n        [themeVariant]="s.themeVariant"\n      >\n        <ng-content></ng-content>\n      </mbsc-button>\n    </label>\n  ',isInline:true,components:[{type:MbscButton,selector:"mbsc-button",inputs:["ariaLabel","color","disabled","endIcon","endIconSrc","endIconSvg","hidden","icon","iconSvg","iconSrc","ripple","role","startIcon","startIconSrc","startIconSvg","tabIndex","variant"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscSegmented}(SegmentedBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSegmented,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-segmented",template:'\n    <label class="mbsc-segmented-label">\n      <div\n        #box\n        [class]="\n          \'mbsc-segmented-selectbox\' + _theme + (_animate ? \' mbsc-segmented-selectbox-animate\' : \'\') + (_checked ? \' mbsc-selected\' : \'\')\n        "\n      >\n        <div\n          [class]="\n            \'mbsc-segmented-selectbox-inner\' +\n            (_index === _selectedIndex || _checked ? \' mbsc-segmented-selectbox-inner-visible\' : \'\') +\n            (_checked ? \' mbsc-selected\' : \'\') +\n            _theme\n          "\n        ></div>\n      </div>\n      <input\n        #input\n        [attr.aria-labelledby]="_id"\n        [class]="\'mbsc-segmented-input mbsc-reset\' + _theme + (_checked ? \' mbsc-selected\' : \'\')"\n        [checked]="_checked"\n        [disabled]="_disabled"\n        [name]="_isMultiple ? (s.name === undefined ? \'\' : s.name) : _name"\n        [type]="_isMultiple ? \'checkbox\' : \'radio\'"\n        [value]="_value"\n      />\n      <mbsc-button\n        aria-hidden="true"\n        [ariaLabel]="s.ariaLabel"\n        [class]="\'mbsc-segmented-button\' + (_checked ? \' mbsc-selected\' : \'\') + (state.hasFocus ? \' mbsc-focus\' : \'\')"\n        [color]="_color"\n        [disabled]="_disabled"\n        [endIcon]="s.endIcon"\n        [endIconSrc]="s.endIconSrc"\n        [endIconSvg]="s.endIconSvg"\n        [hidden]="true"\n        [icon]="s.icon"\n        [iconSrc]="s.iconSrc"\n        [iconSvg]="s.iconSvg"\n        [id]="_id"\n        [ripple]="s.ripple"\n        [rtl]="s.rtl"\n        role="none"\n        [startIcon]="s.startIcon"\n        [startIconSrc]="s.startIconSrc"\n        [startIconSvg]="s.startIconSvg"\n        [theme]="s.theme"\n        [themeVariant]="s.themeVariant"\n      >\n        <ng-content></ng-content>\n      </mbsc-button>\n    </label>\n  '}]}],propDecorators:{vInput:[{type:ViewChild,args:["input",{static:false}]}],vBox:[{type:ViewChild,args:["box",{static:false}]}],ariaLabel:[{type:Input}],color:[{type:Input}],disabled:[{type:Input}],endIcon:[{type:Input}],endIconSrc:[{type:Input}],endIconSvg:[{type:Input}],icon:[{type:Input}],iconSvg:[{type:Input}],iconSrc:[{type:Input}],id:[{type:Input}],name:[{type:Input}],ripple:[{type:Input}],startIcon:[{type:Input}],startIconSrc:[{type:Input}],startIconSvg:[{type:Input}],select:[{type:Input}],checkedChange:[{type:Output}],checked:[{type:Input}]}});var template$1='\n<div [class]="\'mbsc-datepicker mbsc-flex-col mbsc-datepicker-\' + s.display + _theme +\n  (s.display === \'inline\' ? \' \' + _className + _hb : \'\') + _controlsClass"\n>\n  <div *ngIf="_headerText && s.display === \'inline\'" [class]="\'mbsc-picker-header\' + _theme + _hb">\n    {{_headerText}}\n  </div>\n\n  <mbsc-segmented-group *ngIf="_renderTabs"\n    [rtl]="s.rtl"\n    [theme]="s.theme"\n    [themeVariant]="s.themeVariant"\n    [(ngModel)]="_activeTab"\n    (change)="_changeActiveTab($event)"\n  >\n    <mbsc-segmented *ngFor="let control of _controls"\n      [rtl]="s.rtl"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [value]="control.name"\n    >\n      {{control.title}}\n    </mbsc-segmented>\n  </mbsc-segmented-group>\n  <div *ngIf="_renderControls" [class]="\'mbsc-range-control-wrapper\' + _theme">\n    <mbsc-segmented-group\n      [rtl]="s.rtl"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [(ngModel)]="_activeSelect"\n      (change)="_changeActiveSelect($event)"\n    >\n      <mbsc-segmented [rtl]="s.rtl" [theme]="s.theme" [themeVariant]="s.themeVariant" value="start" [class]="\'mbsc-range-start\' +\n        (_tempStartText ? \' mbsc-range-value-nonempty\' : \'\')">\n        <div [class]="\'mbsc-range-control-label\' + _theme + _rtl +\n        (_activeSelect === \'start\'? \' active\' : \'\')">{{s.rangeStartLabel}}</div>\n        <div [class]="\'mbsc-range-control-value\' + _theme + _rtl +\n        (_activeSelect === \'start\' ? \' active\' : \'\') +\n        (!_tempStartText ? \' mbsc-range-control-text-empty\' : \'\')">{{_tempStartText || s.rangeStartHelp}}</div>\n        <mbsc-icon *ngIf="_activeSelect === \'start\' && _tempStartText" [class]="\'mbsc-range-label-clear\' + _rtl"\n          (click)="_clearStart()" [svg]="s.clearIcon" [theme]="s.theme"></mbsc-icon>\n      </mbsc-segmented>\n      <mbsc-segmented [rtl]="s.rtl" [theme]="s.theme" [themeVariant]="s.themeVariant" value="end" [class]="\'mbsc-range-end\' +\n        (_tempEndText ? \' mbsc-range-value-nonempty\' : \'\')">\n        <div [class]="\'mbsc-range-control-label\' + _theme + _rtl +\n        (_activeSelect === \'end\'? \' active\' : \'\')">{{s.rangeEndLabel}}</div>\n        <div [class]="\'mbsc-range-control-value\' + _theme + _rtl +\n        (_activeSelect === \'end\' ? \' active\' : \'\') +\n        (!_tempEndText ? \' mbsc-range-control-text-empty\' : \'\')">{{_tempEndText || s.rangeEndHelp}}</div>\n        <mbsc-icon *ngIf="_activeSelect === \'end\' && _tempEndText" [class]="\'mbsc-range-label-clear\' + _rtl"\n          (click)="_clearEnd()" [svg]="s.clearIcon" [theme]="s.theme"></mbsc-icon>\n      </mbsc-segmented>\n    </mbsc-segmented-group>\n  </div>\n  <div [class]="\'mbsc-datepicker-tab-wrapper mbsc-flex mbsc-flex-1-1 \' + _theme" #wrapper>\n    <div *ngFor="let control of _controls"\n      [class]="\'mbsc-flex mbsc-datepicker-tab mbsc-datepicker-tab-\' + control.name + _theme +\n        ((_renderTabs && control.name === _activeTab) || !_renderTabs ? \' mbsc-datepicker-tab-active\' : \'\') +\n        (_renderTabs && control.name === \'time\' ? \' mbsc-datepicker-time-modal\' : \'\') +\n        (_renderTabs || _controls.length === 1 ? \' mbsc-datepicker-tab-expand mbsc-flex-1-1\' : \'\')"\n      >\n      <mbsc-calendar *ngIf="control.name === \'calendar\'" [options]="control.options" #ctrlVar></mbsc-calendar>\n      <mbsc-datetime *ngIf="control.name === \'datetime\'" [options]="control.options" #ctrlVar></mbsc-datetime>\n      <mbsc-date *ngIf="control.name === \'date\'" [options]="control.options" #ctrlVar></mbsc-date>\n      <mbsc-time *ngIf="control.name === \'time\'" [options]="control.options" #ctrlVar></mbsc-time>\n      <mbsc-timegrid *ngIf="control.name === \'timegrid\'" [options]="control.options" #ctrlVar></mbsc-timegrid>\n      \x3c!--<ng-container mbsc-tpl></ng-container>--\x3e\n    </div>\n  </div>\n</div>\n';var MbscDatepickerBase=/*#__PURE__*/function(_super){__extends(MbscDatepickerBase,_super);function MbscDatepickerBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.onCancel=new EventEmitter;_this.onCellClick=new EventEmitter;_this.onCellHoverIn=new EventEmitter;_this.onCellHoverOut=new EventEmitter;_this.onChange=new EventEmitter;_this.onClose=new EventEmitter;_this.onLabelClick=new EventEmitter;_this.onPageChange=new EventEmitter(true);_this.onPageLoaded=new EventEmitter(true);_this.onPageLoading=new EventEmitter(true);_this.onOpen=new EventEmitter;_this.onPosition=new EventEmitter;_this.onTempChange=new EventEmitter;_this.onActiveDateChange=new EventEmitter;return _this}MbscDatepickerBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatepickerBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});MbscDatepickerBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:MbscDatepickerBase,selector:"[mbsc-dp-b]",inputs:{ariaLabel:"ariaLabel",calendarHeaderTemplate:"calendarHeaderTemplate",calendarScroll:"calendarScroll",calendarSize:"calendarSize",calendarSystem:"calendarSystem",calendarType:"calendarType",colors:"colors",controls:"controls",dataTimezone:"dataTimezone",defaultSelection:"defaultSelection",displayTimezone:"displayTimezone",element:"element",endInput:"endInput",exclusiveEndDates:"exclusiveEndDates",firstSelectDay:"firstSelectDay",inputTyping:"inputTyping",invalid:"invalid",inRangeInvalid:"inRangeInvalid",labels:"labels",marked:"marked",max:"max",maxRange:"maxRange",maxTime:"maxTime",min:"min",minRange:"minRange",minTime:"minTime",mode:"mode",moment:"moment",pages:"pages",rangeHighlight:"rangeHighlight",rangeEndInvalid:"rangeEndInvalid",refDate:"refDate",returnFormat:"returnFormat",showInput:"showInput",startInput:"startInput",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",select:"select",selectCounter:"selectCounter",selectSize:"selectSize",selectMax:"selectMax",selectMin:"selectMin",selectMultiple:"selectMultiple",showOuterDays:"showOuterDays",showRangeLabels:"showRangeLabels",showWeekNumbers:"showWeekNumbers",tabs:"tabs",theme:"theme",timezonePlugin:"timezonePlugin",valid:"valid",weeks:"weeks",disabled:"disabled",dropdown:"dropdown",endIcon:"endIcon",endIconSrc:"endIconSrc",endIconSvg:"endIconSvg",error:"error",errorMessage:"errorMessage",inputStyle:"inputStyle",label:"label",labelStyle:"labelStyle",name:"name",placeholder:"placeholder",startIcon:"startIcon",startIconSrc:"startIconSrc",startIconSvg:"startIconSvg",tagInput:"tagInput",circular:"circular",clearText:"clearText",itemHeight:"itemHeight",maxWheelWidth:"maxWheelWidth",minWheelWidth:"minWheelWidth",rows:"rows",showOnClick:"showOnClick",showOnFocus:"showOnFocus",wheelWidth:"wheelWidth",anchor:"anchor",anchorAlign:"anchorAlign",animation:"animation",buttons:"buttons",cancelText:"cancelText",closeOnEsc:"closeOnEsc",closeOnOverlayClick:"closeOnOverlayClick",closeOnScroll:"closeOnScroll",closeText:"closeText",context:"context",display:"display",focusOnClose:"focusOnClose",focusTrap:"focusTrap",fullScreen:"fullScreen",headerText:"headerText",height:"height",isOpen:"isOpen",maxHeight:"maxHeight",maxWidth:"maxWidth",scrollLock:"scrollLock",setText:"setText",showArrow:"showArrow",showOverlay:"showOverlay",width:"width",amText:"amText",dateFormat:"dateFormat",dateWheels:"dateWheels",dayNames:"dayNames",dayNamesMin:"dayNamesMin",dayNamesShort:"dayNamesShort",dateText:"dateText",daySuffix:"daySuffix",dayText:"dayText",hourText:"hourText",monthText:"monthText",minuteText:"minuteText",secondText:"secondText",separator:"separator",timeText:"timeText",yearText:"yearText",dayTemplate:"dayTemplate",dayContentTemplate:"dayContentTemplate",firstDay:"firstDay",monthNames:"monthNames",monthNamesShort:"monthNamesShort",monthSuffix:"monthSuffix",moreEventsPluralText:"moreEventsPluralText",moreEventsText:"moreEventsText",nextPageText:"nextPageText",nowText:"nowText",pmText:"pmText",prevPageText:"prevPageText",rangeEndHelp:"rangeEndHelp",rangeEndLabel:"rangeEndLabel",rangeStartHelp:"rangeStartHelp",rangeStartLabel:"rangeStartLabel",selectedPluralText:"selectedPluralText",selectedText:"selectedText",timeFormat:"timeFormat",timeWheels:"timeWheels",yearSuffix:"yearSuffix"},outputs:{onCancel:"onCancel",onCellClick:"onCellClick",onCellHoverIn:"onCellHoverIn",onCellHoverOut:"onCellHoverOut",onChange:"onChange",onClose:"onClose",onLabelClick:"onLabelClick",onPageChange:"onPageChange",onPageLoaded:"onPageLoaded",onPageLoading:"onPageLoading",onOpen:"onOpen",onPosition:"onPosition",onTempChange:"onTempChange",onActiveDateChange:"onActiveDateChange"},usesInheritance:true,ngImport:i0});MbscDatepickerBase=__decorate([FormControl],MbscDatepickerBase);return MbscDatepickerBase}(DatepickerBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatepickerBase,decorators:[{type:Directive,args:[{selector:"[mbsc-dp-b]"}]}],propDecorators:{ariaLabel:[{type:Input}],calendarHeaderTemplate:[{type:Input}],calendarScroll:[{type:Input}],calendarSize:[{type:Input}],calendarSystem:[{type:Input}],calendarType:[{type:Input}],colors:[{type:Input}],controls:[{type:Input}],dataTimezone:[{type:Input}],defaultSelection:[{type:Input}],displayTimezone:[{type:Input}],element:[{type:Input}],endInput:[{type:Input}],exclusiveEndDates:[{type:Input}],firstSelectDay:[{type:Input}],inputTyping:[{type:Input}],invalid:[{type:Input}],inRangeInvalid:[{type:Input}],labels:[{type:Input}],marked:[{type:Input}],max:[{type:Input}],maxRange:[{type:Input}],maxTime:[{type:Input}],min:[{type:Input}],minRange:[{type:Input}],minTime:[{type:Input}],mode:[{type:Input}],moment:[{type:Input}],pages:[{type:Input}],rangeHighlight:[{type:Input}],rangeEndInvalid:[{type:Input}],refDate:[{type:Input}],returnFormat:[{type:Input}],showInput:[{type:Input}],startInput:[{type:Input}],stepHour:[{type:Input}],stepMinute:[{type:Input}],stepSecond:[{type:Input}],select:[{type:Input}],selectCounter:[{type:Input}],selectSize:[{type:Input}],selectMax:[{type:Input}],selectMin:[{type:Input}],selectMultiple:[{type:Input}],showOuterDays:[{type:Input}],showRangeLabels:[{type:Input}],showWeekNumbers:[{type:Input}],tabs:[{type:Input}],theme:[{type:Input}],timezonePlugin:[{type:Input}],valid:[{type:Input}],weeks:[{type:Input}],disabled:[{type:Input}],dropdown:[{type:Input}],endIcon:[{type:Input}],endIconSrc:[{type:Input}],endIconSvg:[{type:Input}],error:[{type:Input}],errorMessage:[{type:Input}],inputStyle:[{type:Input}],label:[{type:Input}],labelStyle:[{type:Input}],name:[{type:Input}],placeholder:[{type:Input}],startIcon:[{type:Input}],startIconSrc:[{type:Input}],startIconSvg:[{type:Input}],tagInput:[{type:Input}],circular:[{type:Input}],clearText:[{type:Input}],itemHeight:[{type:Input}],maxWheelWidth:[{type:Input}],minWheelWidth:[{type:Input}],rows:[{type:Input}],showOnClick:[{type:Input}],showOnFocus:[{type:Input}],wheelWidth:[{type:Input}],anchor:[{type:Input}],anchorAlign:[{type:Input}],animation:[{type:Input}],buttons:[{type:Input}],cancelText:[{type:Input}],closeOnEsc:[{type:Input}],closeOnOverlayClick:[{type:Input}],closeOnScroll:[{type:Input}],closeText:[{type:Input}],context:[{type:Input}],display:[{type:Input}],focusOnClose:[{type:Input}],focusTrap:[{type:Input}],fullScreen:[{type:Input}],headerText:[{type:Input}],height:[{type:Input}],isOpen:[{type:Input}],maxHeight:[{type:Input}],maxWidth:[{type:Input}],scrollLock:[{type:Input}],setText:[{type:Input}],showArrow:[{type:Input}],showOverlay:[{type:Input}],width:[{type:Input}],amText:[{type:Input}],dateFormat:[{type:Input}],dateWheels:[{type:Input}],dayNames:[{type:Input}],dayNamesMin:[{type:Input}],dayNamesShort:[{type:Input}],dateText:[{type:Input}],daySuffix:[{type:Input}],dayText:[{type:Input}],hourText:[{type:Input}],monthText:[{type:Input}],minuteText:[{type:Input}],secondText:[{type:Input}],separator:[{type:Input}],timeText:[{type:Input}],yearText:[{type:Input}],dayTemplate:[{type:Input}],dayContentTemplate:[{type:Input}],firstDay:[{type:Input}],monthNames:[{type:Input}],monthNamesShort:[{type:Input}],monthSuffix:[{type:Input}],moreEventsPluralText:[{type:Input}],moreEventsText:[{type:Input}],nextPageText:[{type:Input}],nowText:[{type:Input}],pmText:[{type:Input}],prevPageText:[{type:Input}],rangeEndHelp:[{type:Input}],rangeEndLabel:[{type:Input}],rangeStartHelp:[{type:Input}],rangeStartLabel:[{type:Input}],selectedPluralText:[{type:Input}],selectedText:[{type:Input}],timeFormat:[{type:Input}],timeWheels:[{type:Input}],yearSuffix:[{type:Input}],onCancel:[{type:Output}],onCellClick:[{type:Output}],onCellHoverIn:[{type:Output}],onCellHoverOut:[{type:Output}],onChange:[{type:Output}],onClose:[{type:Output}],onLabelClick:[{type:Output}],onPageChange:[{type:Output}],onPageLoaded:[{type:Output}],onPageLoading:[{type:Output}],onOpen:[{type:Output}],onPosition:[{type:Output}],onTempChange:[{type:Output}],onActiveDateChange:[{type:Output}]}});var MbscDatepicker=/*#__PURE__*/function(_super){__extends(MbscDatepicker,_super);function MbscDatepicker(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MbscDatepicker.prototype,"vInput",{set:function(inp){if(inp){this._el=inp.nativeElement}},enumerable:false,configurable:true});Object.defineProperty(MbscDatepicker.prototype,"vPopup",{set:function(popup){this._popup=popup},enumerable:false,configurable:true});Object.defineProperty(MbscDatepicker.prototype,"vWrapper",{set:function(wrapper){this._wrapper=wrapper&&wrapper.nativeElement},enumerable:false,configurable:true});MbscDatepicker.prototype._render=function(s,state){_super.prototype._render.call(this,s,state);if(this._controlRefs){this._controlRefs.forEach((function(ctrl){ctrl.props=ctrl.options;ctrl.forceUpdate()}))}};MbscDatepicker.prototype._destroy=function(){_super.prototype._destroy.call(this)};MbscDatepicker.prototype._onClosed=function(){_super.prototype._onClosed.call(this);this._onFormTouch()};MbscDatepicker.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatepicker,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscDatepicker.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscDatepicker,selector:"mbsc-datepicker",providers:[MbscInstanceService],viewQueries:[{propertyName:"vInput",first:true,predicate:["input"],descendants:true},{propertyName:"vPopup",first:true,predicate:["popup"],descendants:true},{propertyName:"vWrapper",first:true,predicate:["wrapper"],descendants:true},{propertyName:"_controlRefs",predicate:["ctrlVar"],descendants:true}],usesInheritance:true,ngImport:i0,template:'\n    <mbsc-input *ngIf="_showInput" #input\n      [ariaExpanded]="!!_isOpen"\n      [ariaHaspopup]="\'dialog\'"\n      [ariaLabel]="ariaLabel"\n      [dropdown]="s.dropdown"\n      [disabled]="disabled"\n      [endIcon]="endIcon"\n      [endIconSrc]="endIconSrc"\n      [endIconSvg]="endIconSvg"\n      [error]="error"\n      [errorMessage]="errorMessage"\n      [inputStyle]="s.inputStyle"\n      [label]="label"\n      [labelStyle]="s.labelStyle"\n      [name]="name"\n      [placeholder]="placeholder"\n      [pickerMap]="_valueMap"\n      [pickerValue]="_value"\n      [role]="\'combobox\'"\n      [rtl]="s.rtl"\n      [startIcon]="startIcon"\n      [startIconSrc]="startIconSrc"\n      [startIconSvg]="startIconSvg"\n      [tags]="s.tagInput === undefined ? s.selectMultiple : s.tagInput"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [value]="(_value != null && _valueText) || \'\'"\n    >\n      <ng-content></ng-content>\n    </mbsc-input>\n    <mbsc-popup #popup\n      [activeElm]="s.activeElm"\n      [anchor]="_anchor"\n      [anchorAlign]="_anchorAlign"\n      [animation]="s.animation"\n      [ariaLabel]="s.ariaLabel"\n      [buttons]="_buttons"\n      [cancelText]="s.cancelText"\n      [closeOnEsc]="s.closeOnEsc"\n      [closeOnOverlayClick]="s.closeOnOverlayClick"\n      [closeOnScroll]="s.closeOnScroll"\n      [closeText]="s.closeText"\n      [contentPadding]="false"\n      [context]="s.context"\n      [cssClass]="_cssClass"\n      [disableLeftRight]="true"\n      [display]="s.display"\n      [focusElm]="_focusElm"\n      [focusOnClose]="s.focusOnClose"\n      [focusOnOpen]="!_allowTyping"\n      [focusTrap]="s.focusTrap"\n      [fullScreen]="s.fullScreen"\n      [headerText]="_headerText"\n      [height]="s.height"\n      [isOpen]="_isOpen"\n      [maxHeight]="s.maxHeight"\n      [maxWidth]="_maxWidth"\n      [setText]="s.setText"\n      [showArrow]="s.showArrow"\n      [showOverlay]="_allowTyping ? false : s.showOverlay"\n      [rtl]="s.rtl"\n      [scrollLock]="_scrollLock"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [touchUi]="_touchUi"\n      [windowWidth]="state.width"\n      [width]="s.width"\n      (onClose)="_onPopupClose($event)"\n      (onClosed)="_onPopupClosed($event)"\n      (onKeyDown)="_onPopupKey($event)"\n      (onOpen)="_onPopupOpen($event)"\n      (onResize)="_onResize($event)"\n    >\n      <ng-container *ngIf="(_popup && _popup._isVisible) || s.display === \'inline\'">\n        \n<div [class]="\'mbsc-datepicker mbsc-flex-col mbsc-datepicker-\' + s.display + _theme +\n  (s.display === \'inline\' ? \' \' + _className + _hb : \'\') + _controlsClass"\n>\n  <div *ngIf="_headerText && s.display === \'inline\'" [class]="\'mbsc-picker-header\' + _theme + _hb">\n    {{_headerText}}\n  </div>\n\n  <mbsc-segmented-group *ngIf="_renderTabs"\n    [rtl]="s.rtl"\n    [theme]="s.theme"\n    [themeVariant]="s.themeVariant"\n    [(ngModel)]="_activeTab"\n    (change)="_changeActiveTab($event)"\n  >\n    <mbsc-segmented *ngFor="let control of _controls"\n      [rtl]="s.rtl"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [value]="control.name"\n    >\n      {{control.title}}\n    </mbsc-segmented>\n  </mbsc-segmented-group>\n  <div *ngIf="_renderControls" [class]="\'mbsc-range-control-wrapper\' + _theme">\n    <mbsc-segmented-group\n      [rtl]="s.rtl"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [(ngModel)]="_activeSelect"\n      (change)="_changeActiveSelect($event)"\n    >\n      <mbsc-segmented [rtl]="s.rtl" [theme]="s.theme" [themeVariant]="s.themeVariant" value="start" [class]="\'mbsc-range-start\' +\n        (_tempStartText ? \' mbsc-range-value-nonempty\' : \'\')">\n        <div [class]="\'mbsc-range-control-label\' + _theme + _rtl +\n        (_activeSelect === \'start\'? \' active\' : \'\')">{{s.rangeStartLabel}}</div>\n        <div [class]="\'mbsc-range-control-value\' + _theme + _rtl +\n        (_activeSelect === \'start\' ? \' active\' : \'\') +\n        (!_tempStartText ? \' mbsc-range-control-text-empty\' : \'\')">{{_tempStartText || s.rangeStartHelp}}</div>\n        <mbsc-icon *ngIf="_activeSelect === \'start\' && _tempStartText" [class]="\'mbsc-range-label-clear\' + _rtl"\n          (click)="_clearStart()" [svg]="s.clearIcon" [theme]="s.theme"></mbsc-icon>\n      </mbsc-segmented>\n      <mbsc-segmented [rtl]="s.rtl" [theme]="s.theme" [themeVariant]="s.themeVariant" value="end" [class]="\'mbsc-range-end\' +\n        (_tempEndText ? \' mbsc-range-value-nonempty\' : \'\')">\n        <div [class]="\'mbsc-range-control-label\' + _theme + _rtl +\n        (_activeSelect === \'end\'? \' active\' : \'\')">{{s.rangeEndLabel}}</div>\n        <div [class]="\'mbsc-range-control-value\' + _theme + _rtl +\n        (_activeSelect === \'end\' ? \' active\' : \'\') +\n        (!_tempEndText ? \' mbsc-range-control-text-empty\' : \'\')">{{_tempEndText || s.rangeEndHelp}}</div>\n        <mbsc-icon *ngIf="_activeSelect === \'end\' && _tempEndText" [class]="\'mbsc-range-label-clear\' + _rtl"\n          (click)="_clearEnd()" [svg]="s.clearIcon" [theme]="s.theme"></mbsc-icon>\n      </mbsc-segmented>\n    </mbsc-segmented-group>\n  </div>\n  <div [class]="\'mbsc-datepicker-tab-wrapper mbsc-flex mbsc-flex-1-1 \' + _theme" #wrapper>\n    <div *ngFor="let control of _controls"\n      [class]="\'mbsc-flex mbsc-datepicker-tab mbsc-datepicker-tab-\' + control.name + _theme +\n        ((_renderTabs && control.name === _activeTab) || !_renderTabs ? \' mbsc-datepicker-tab-active\' : \'\') +\n        (_renderTabs && control.name === \'time\' ? \' mbsc-datepicker-time-modal\' : \'\') +\n        (_renderTabs || _controls.length === 1 ? \' mbsc-datepicker-tab-expand mbsc-flex-1-1\' : \'\')"\n      >\n      <mbsc-calendar *ngIf="control.name === \'calendar\'" [options]="control.options" #ctrlVar></mbsc-calendar>\n      <mbsc-datetime *ngIf="control.name === \'datetime\'" [options]="control.options" #ctrlVar></mbsc-datetime>\n      <mbsc-date *ngIf="control.name === \'date\'" [options]="control.options" #ctrlVar></mbsc-date>\n      <mbsc-time *ngIf="control.name === \'time\'" [options]="control.options" #ctrlVar></mbsc-time>\n      <mbsc-timegrid *ngIf="control.name === \'timegrid\'" [options]="control.options" #ctrlVar></mbsc-timegrid>\n      \x3c!--<ng-container mbsc-tpl></ng-container>--\x3e\n    </div>\n  </div>\n</div>\n\n      </ng-container>\n    </mbsc-popup>',isInline:true,components:[{type:MbscInput,selector:"mbsc-input",inputs:["ariaExpanded","ariaHaspopup","ariaLabel","accept","autocapitalize","autocomplete","autocorrect","autofocus","disabled","dropdown","endIcon","endIconSrc","endIconSvg","error","errorMessage","hideIcon","hideIconSvg","id","inputClass","inputStyle","label","labelStyle","max","maxlength","min","minlength","multiple","name","passwordToggle","pattern","pickerMap","pickerValue","placeholder","readonly","required","ripple","role","rows","showIcon","showIconSvg","spellcheck","startIcon","startIconSrc","startIconSvg","step","tags","type"],outputs:["onChange"]},{type:MbscPopup,selector:"mbsc-popup",inputs:["activeElm","anchor","anchorAlign","animation","ariaLabel","buttons","buttonVariant","closeOnEsc","closeOnOverlayClick","closeOnScroll","contentPadding","cssClass","disableLeftRight","display","focusElm","focusOnClose","focusOnOpen","focusTrap","fullScreen","headerText","height","isOpen","maxHeight","maxWidth","scrollLock","setActive","showArrow","showOverlay","windowWidth","width","cancelText","closeText","okText","setText"],outputs:["onButtonClick","onOverlayClick","onClose","onClosed","onKeyDown","onOpen","onPosition","onResize"]},{type:MbscSegmentedGroup,selector:"mbsc-segmented-group",inputs:["color","disabled","name","select"]},{type:MbscSegmented,selector:"mbsc-segmented",inputs:["ariaLabel","color","disabled","endIcon","endIconSrc","endIconSvg","icon","iconSvg","iconSrc","id","name","ripple","startIcon","startIconSrc","startIconSvg","select","checked"],outputs:["checkedChange"]},{type:MbscIcon,selector:"mbsc-icon",inputs:["name","svg"]},{type:MbscCalendar,selector:"mbsc-calendar",outputs:["onCancel","onChange","onClose","onOpen"]},{type:MbscDatetime,selector:"mbsc-datetime"},{type:MbscDate,selector:"mbsc-date"},{type:MbscTime,selector:"mbsc-time"},{type:MbscTimegrid,selector:"mbsc-timegrid"}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i2.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{type:i2.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});MbscDatepicker=__decorate([FormControl],MbscDatepicker);return MbscDatepicker}(MbscDatepickerBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatepicker,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,providers:[MbscInstanceService],selector:"mbsc-datepicker",template:getPickerTemplate(template$1)}]}],propDecorators:{_controlRefs:[{type:ViewChildren,args:["ctrlVar",{static:false}]}],vInput:[{type:ViewChild,args:["input",{static:false}]}],vPopup:[{type:ViewChild,args:["popup",{static:false}]}],vWrapper:[{type:ViewChild,args:["wrapper",{static:false}]}]}});var MbscDatepickerDirective=/*#__PURE__*/function(_super){__extends(MbscDatepickerDirective,_super);function MbscDatepickerDirective(){return _super!==null&&_super.apply(this,arguments)||this}MbscDatepickerDirective.prototype._ctor=function(){this._cfr=this._injector.get(ComponentFactoryResolver)};MbscDatepickerDirective.prototype._init=function(){var _this=this;var componentFactory=this._cfr.resolveComponentFactory(MbscDatepicker);this._ref=this._vcf.createComponent(componentFactory);this._inst=this._ref.instance;var inst=this._inst;var _loop_1=function(prop){if(prop!=="onInit"&&prop!=="onDestroy"&&inst[prop]instanceof EventEmitter){inst[prop].subscribe((function(args){if(prop==="onClose"){_this._onFormTouch()}if(prop==="onChange"){_this.value=inst.value}_this[prop].emit(args)}))}};for(var prop in inst){_loop_1(prop)}modules[MbscCalendar._name]=MbscCalendar;modules[MbscDatetime._name]=MbscDatetime;modules[MbscTimegrid._name]=MbscTimegrid;_super.prototype._init.call(this)};MbscDatepickerDirective.prototype._destroy=function(){_super.prototype._destroy.call(this);if(this._ref){this._ref.destroy()}};MbscDatepickerDirective.prototype._render=function(s,state){_super.prototype._render.call(this,s,state);var inst=this._inst;inst.value=this.value;inst.props=s;inst.props.element=this._elr.nativeElement;inst.forceUpdate()};MbscDatepickerDirective.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatepickerDirective,deps:null,target:i0.ɵɵFactoryTarget.Directive});MbscDatepickerDirective.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:MbscDatepickerDirective,selector:"[mbsc-datepicker]",inputs:{options:["mbscOptions","options"]},providers:[MbscInstanceService],exportAs:["mobiscroll"],usesInheritance:true,ngImport:i0});return MbscDatepickerDirective}(MbscDatepickerBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatepickerDirective,decorators:[{type:Directive,args:[{exportAs:"mobiscroll",providers:[MbscInstanceService],selector:"[mbsc-datepicker]"}]}],propDecorators:{options:[{type:Input,args:["mbscOptions"]}]}});var MbscScrollerModule=/*#__PURE__*/function(){function MbscScrollerModule(){}MbscScrollerModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScrollerModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscScrollerModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScrollerModule,declarations:[MbscScroller,MbscWheelItem,MbscWheel,ScrollerBase,WheelBase,WheelItemBase],imports:[CommonModule,MbscInputModule,MbscPickerModule,MbscScrollviewBaseModule],exports:[MbscScroller]});MbscScrollerModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScrollerModule,imports:[[CommonModule,MbscInputModule,MbscPickerModule,MbscScrollviewBaseModule]]});return MbscScrollerModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScrollerModule,decorators:[{type:NgModule,args:[{declarations:[MbscScroller,MbscWheelItem,MbscWheel,ScrollerBase,WheelBase,WheelItemBase],exports:[MbscScroller],imports:[CommonModule,MbscInputModule,MbscPickerModule,MbscScrollviewBaseModule]}]}]});var MbscDatetimeModule=/*#__PURE__*/function(){function MbscDatetimeModule(){}MbscDatetimeModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatetimeModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscDatetimeModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatetimeModule,declarations:[DatetimeBase,MbscDate,MbscDateBase,MbscDatetime,MbscTime],imports:[CommonModule,FormsModule,MbscScrollerModule],exports:[MbscDate,MbscDatetime,MbscTime]});MbscDatetimeModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatetimeModule,imports:[[CommonModule,FormsModule,MbscScrollerModule]]});return MbscDatetimeModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatetimeModule,decorators:[{type:NgModule,args:[{declarations:[DatetimeBase,MbscDate,MbscDateBase,MbscDatetime,MbscTime],exports:[MbscDate,MbscDatetime,MbscTime],imports:[CommonModule,FormsModule,MbscScrollerModule]}]}]});var MbscSegmentedModule=/*#__PURE__*/function(){function MbscSegmentedModule(){}MbscSegmentedModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSegmentedModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscSegmentedModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSegmentedModule,declarations:[SegmentedBase,SegmentedGroupBase,MbscSegmented,MbscSegmentedGroup],imports:[CommonModule,MbscButtonModule],exports:[MbscSegmented,MbscSegmentedGroup]});MbscSegmentedModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSegmentedModule,imports:[[CommonModule,MbscButtonModule]]});return MbscSegmentedModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSegmentedModule,decorators:[{type:NgModule,args:[{declarations:[SegmentedBase,SegmentedGroupBase,MbscSegmented,MbscSegmentedGroup],exports:[MbscSegmented,MbscSegmentedGroup],imports:[CommonModule,MbscButtonModule]}]}]});var MbscTimegridModule=/*#__PURE__*/function(){function MbscTimegridModule(){}MbscTimegridModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTimegridModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscTimegridModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTimegridModule,declarations:[MbscTimeBox,TimegridBase,MbscTimegrid],imports:[CommonModule],exports:[MbscTimegrid]});MbscTimegridModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTimegridModule,imports:[[CommonModule]]});return MbscTimegridModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTimegridModule,decorators:[{type:NgModule,args:[{declarations:[MbscTimeBox,TimegridBase,MbscTimegrid],exports:[MbscTimegrid],imports:[CommonModule]}]}]});var id=0;function jsonp(url,callback){if(win){var script_1=doc.createElement("script");var unique_1="mbscjsonp"+ ++id;win[unique_1]=function(data){script_1.parentNode.removeChild(script_1);delete win[unique_1];if(!data){return}callback(data)};script_1.src=url+(url.indexOf("?")>=0?"&":"?")+"callback="+unique_1;doc.body.appendChild(script_1)}}function ajaxGet(url,callback){var request=new XMLHttpRequest;request.open("GET",url,true);request.onload=function(){if(request.status>=200&&request.status<400){callback(JSON.parse(request.response))}};request.onerror=function(){};request.send()}function getJson(url,callback,type){if(type==="jsonp"){jsonp(url,callback)}else{ajaxGet(url,callback)}}var localTimezone;function normTimezone$1(timezone){if(!localTimezone){localTimezone=luxonTimezone.luxon.DateTime.local().zoneName}return!timezone||timezone==="local"?localTimezone:timezone}function getVersion(DT){var fn=DT.fromObject.toString().trim();return/^(function )?\w*\(\w+\)/.test(fn)?1:2}var LDate=/*#__PURE__*/function(){function LDate(value,timezone){if(timezone===void 0){timezone="utc"}this._mbsc=true;this._zone=normTimezone$1(timezone);this._init(value)}LDate.prototype.clone=function(){return new LDate(this,this._zone)};LDate.prototype.createDate=function(year,month,date,h,min,sec,ms){return luxonTimezone.createDate({displayTimezone:this._zone},year,month,date,h,min,sec,ms)};LDate.prototype[Symbol.toPrimitive]=function(hint){return this._dt.toJSDate()[Symbol.toPrimitive](hint)};LDate.prototype.toDateString=function(){return this._dt.toFormat("ccc MMM dd yyyy")};LDate.prototype.toISOString=function(){return this._dt.toISO()};LDate.prototype.toJSON=function(){return this._dt.toISO()};LDate.prototype.valueOf=function(){return this._dt.valueOf()};LDate.prototype.getDate=function(){return this._dt.day};LDate.prototype.getDay=function(){return this._dt.weekday%7};LDate.prototype.getFullYear=function(){return this._dt.year};LDate.prototype.getHours=function(){return this._dt.hour};LDate.prototype.getMilliseconds=function(){return this._dt.millisecond};LDate.prototype.getMinutes=function(){return this._dt.minute};LDate.prototype.getMonth=function(){return this._dt.month-1};LDate.prototype.getSeconds=function(){return this._dt.second};LDate.prototype.getTime=function(){return this.valueOf()};LDate.prototype.getTimezoneOffset=function(){return-this._dt.offset};LDate.prototype.getUTCDate=function(){return this._dt.toUTC().day};LDate.prototype.getUTCDay=function(){return this._dt.toUTC().weekday%7};LDate.prototype.getUTCFullYear=function(){return this._dt.toUTC().year};LDate.prototype.getUTCHours=function(){return this._dt.toUTC().hour};LDate.prototype.getUTCMilliseconds=function(){return this._dt.toUTC().millisecond};LDate.prototype.getUTCMinutes=function(){return this._dt.toUTC().minute};LDate.prototype.getUTCMonth=function(){return this._dt.toUTC().month-1};LDate.prototype.getUTCSeconds=function(){return this._dt.toUTC().second};LDate.prototype.setMilliseconds=function(millisecond){return this._setter({millisecond:millisecond})};LDate.prototype.setSeconds=function(second,millisecond){return this._setter({second:second,millisecond:millisecond})};LDate.prototype.setMinutes=function(minute,second,millisecond){return this._setter({minute:minute,second:second,millisecond:millisecond})};LDate.prototype.setHours=function(hour,minute,second,millisecond){return this._setter({hour:hour,minute:minute,second:second,millisecond:millisecond})};LDate.prototype.setDate=function(day){return this._setter({day:day})};LDate.prototype.setMonth=function(month,day){month++;return this._setter({month:month,day:day})};LDate.prototype.setFullYear=function(year,month,day){if(month!==UNDEFINED){month++}return this._setter({year:year,month:month,day:day})};LDate.prototype.setTime=function(time){this._init(time);return this._dt.valueOf()};LDate.prototype.setTimezone=function(timezone){timezone=normTimezone$1(timezone);this._zone=timezone;this._dt=this._dt.setZone(timezone)};LDate.prototype.setUTCMilliseconds=function(ms){return 0};LDate.prototype.setUTCSeconds=function(sec,ms){return 0};LDate.prototype.setUTCMinutes=function(min,sec,ms){return 0};LDate.prototype.setUTCHours=function(hours,min,sec,ms){return 0};LDate.prototype.setUTCDate=function(date){return 0};LDate.prototype.setUTCMonth=function(month,date){return 0};LDate.prototype.setUTCFullYear=function(year,month,date){return 0};LDate.prototype.toUTCString=function(){return""};LDate.prototype.toTimeString=function(){return""};LDate.prototype.toLocaleDateString=function(){return""};LDate.prototype.toLocaleTimeString=function(){return""};LDate.prototype._init=function(value){var timezone=this._zone;var DT=luxonTimezone.luxon.DateTime;var zoneOpt={zone:timezone};if(isUndefined(value)){this._dt=DT.utc().setZone(timezone)}else if(isDate(value)||isNumber(value)){this._dt=DT.fromMillis(+value,zoneOpt)}else if(isString(value)){this._dt=DT.fromISO(value,zoneOpt)}else if(isArray(value)){var keys=["year","month","day","hour","minute","second","millisecond"];var valueObj={};for(var i=0;i<value.length&&i<7;i++){valueObj[keys[i]]=value[i]+(i===1?1:0)}luxonTimezone.version=luxonTimezone.version||getVersion(DT);if(luxonTimezone.version===1){this._dt=DT.fromObject(__assign(__assign({},valueObj),zoneOpt))}else{this._dt=DT.fromObject(valueObj,zoneOpt)}}};LDate.prototype._setter=function(obj){this._dt=this._dt.set(obj);return this._dt.valueOf()};return LDate}();var luxonTimezone={parse:function(date,s){return new LDate(date,s.dataTimezone||s.displayTimezone)},createDate:function(s,year,month,day,hour,minute,second,millisecond){var displayTimezone=s.displayTimezone;if(isObject(year)||isString(year)||isUndefined(month)){return new LDate(year,displayTimezone)}return new LDate([year||1970,month||0,day||1,hour||0,minute||0,second||0,millisecond||0],displayTimezone)},getLib:function(){return luxonTimezone.luxon}};var ISO_8601_WITH_TIMEZONE_OFFSET=/^(.*)([+-])([0-2]\d{1}):([0-5]\d{1})|(Z)$/;function normTimezone(plugin,timezone){return!timezone||timezone==="local"?plugin.getLib().tz.guess():timezone}function createDate(plugin,s,year,month,date,h,min,sec,ms){var displayTimezone=s.displayTimezone;if(isObject(year)||isString(year)||isUndefined(month)){return new MDate(year,displayTimezone,plugin)}var d=plugin.getLib().utc();d=d.year(year||1970);d=d.month(month||0);d=d.date(date||1);d=d.hour(h||0);d=d.minute(min||0);d=d.second(sec||0);d=d.millisecond(ms||0);return new MDate(d.format("YYYY-MM-DDTHH:mm:ss.SSS"),displayTimezone,plugin)}var MDate=/*#__PURE__*/function(){function MDate(value,timezone,plugin){this._mbsc=true;this._plugin=plugin||momentTimezone;this._timezone=normTimezone(this._plugin,timezone);this._init(value)}MDate.prototype.clone=function(){return new MDate(this,this._timezone,this._plugin)};MDate.prototype.createDate=function(year,month,date,h,min,sec,ms){return this._plugin.createDate({displayTimezone:this._timezone},year,month,date,h,min,sec,ms)};MDate.prototype[Symbol.toPrimitive]=function(hint){return this._m.toDate()[Symbol.toPrimitive](hint)};MDate.prototype.toDateString=function(){return this._m.format("ddd MMM DD YYYY")};MDate.prototype.toISOString=function(){return this._plugin.isMoment?this._m.toISOString(true):this._m.format("YYYY-MM-DDTHH:mm:ss.SSSZ")};MDate.prototype.toJSON=function(){return this._m.toISOString()};MDate.prototype.valueOf=function(){return this._m.valueOf()};MDate.prototype.getDate=function(){return this._m.date()};MDate.prototype.getDay=function(){return this._m.day()};MDate.prototype.getFullYear=function(){return this._m.year()};MDate.prototype.getHours=function(){return this._m.hour()};MDate.prototype.getMilliseconds=function(){return this._m.millisecond()};MDate.prototype.getMinutes=function(){return this._m.minute()};MDate.prototype.getMonth=function(){return this._m.month()};MDate.prototype.getSeconds=function(){return this._m.second()};MDate.prototype.getTime=function(){return this._m.valueOf()};MDate.prototype.getTimezoneOffset=function(){return-this._m.utcOffset()};MDate.prototype.getUTCDate=function(){return this._utc().date()};MDate.prototype.getUTCDay=function(){return this._utc().day()};MDate.prototype.getUTCFullYear=function(){return this._utc().year()};MDate.prototype.getUTCHours=function(){return this._utc().hour()};MDate.prototype.getUTCMilliseconds=function(){return this._utc().millisecond()};MDate.prototype.getUTCMinutes=function(){return this._utc().minute()};MDate.prototype.getUTCMonth=function(){return this._utc().month()};MDate.prototype.getUTCSeconds=function(){return this._utc().second()};MDate.prototype.setMilliseconds=function(millisecond){return this._setter({millisecond:millisecond})};MDate.prototype.setSeconds=function(second,millisecond){return this._setter({second:second,millisecond:millisecond})};MDate.prototype.setMinutes=function(minute,second,millisecond){return this._setter({minute:minute,second:second,millisecond:millisecond})};MDate.prototype.setHours=function(hour,minute,second,millisecond){return this._setter({hour:hour,minute:minute,second:second,millisecond:millisecond})};MDate.prototype.setDate=function(date){return this._setter({date:date})};MDate.prototype.setMonth=function(month,date){return this._setter({month:month,date:date})};MDate.prototype.setFullYear=function(year,month,date){return this._setter({year:year,month:month,date:date})};MDate.prototype.setTime=function(time){this._init(time);return this._m.valueOf()};MDate.prototype.setTimezone=function(timezone){this._timezone=normTimezone(this._plugin,timezone);this._m=this._m.tz(this._timezone)};MDate.prototype.setUTCMilliseconds=function(ms){return 0};MDate.prototype.setUTCSeconds=function(sec,ms){return 0};MDate.prototype.setUTCMinutes=function(min,sec,ms){return 0};MDate.prototype.setUTCHours=function(hours,min,sec,ms){return 0};MDate.prototype.setUTCDate=function(date){return 0};MDate.prototype.setUTCMonth=function(month,date){return 0};MDate.prototype.setUTCFullYear=function(year,month,date){return 0};MDate.prototype.toUTCString=function(){return""};MDate.prototype.toTimeString=function(){return""};MDate.prototype.toLocaleDateString=function(){return""};MDate.prototype.toLocaleTimeString=function(){return""};MDate.prototype._init=function(input){var lib=this._plugin.getLib();var tz=lib.tz;var normInput=isUndefined(input)||isString(input)||isNumber(input)||isArray(input)?input:+input;if(isString(input)&&ISO_8601_TIME.test(input)){this._m=tz(normInput,"HH:mm:ss",this._timezone)}else if(isString(input)&&!this._plugin.isMoment&&ISO_8601_WITH_TIMEZONE_OFFSET.test(input)){this._m=tz(lib.utc(input),this._timezone)}else{this._m=tz(normInput,this._timezone)}};MDate.prototype._setter=function(value){for(var key in value){if(value[key]!==UNDEFINED){this._m=this._m.set(key,value[key])}}return+this._m};MDate.prototype._utc=function(){return this._m.clone().utc()};return MDate}();var momentTimezone={isMoment:true,parse:function(date,s){return new MDate(date,s.dataTimezone||s.displayTimezone,momentTimezone)},createDate:function(s,year,month,date,h,min,sec,ms){return createDate(momentTimezone,s,year,month,date,h,min,sec,ms)},getLib:function(){return momentTimezone.moment}};var dayjsTimezone={parse:function(date,s){return new MDate(date,s.dataTimezone||s.displayTimezone,dayjsTimezone)},createDate:function(s,year,month,date,h,min,sec,ms){return createDate(dayjsTimezone,s,year,month,date,h,min,sec,ms)},getLib:function(){return dayjsTimezone.dayjs}};var MbscDatepickerModule=/*#__PURE__*/function(){function MbscDatepickerModule(){}MbscDatepickerModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatepickerModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscDatepickerModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatepickerModule,declarations:[DatepickerBase,MbscDatepicker,MbscDatepickerBase,MbscDatepickerDirective],imports:[CommonModule,FormsModule,MbscCalendarModule,MbscDatetimeModule,MbscIconModule,MbscInputModule,MbscPickerModule,MbscPopupModule,MbscSegmentedModule,MbscTimegridModule],exports:[MbscDatepicker,MbscDatepickerDirective,MbscCalendarHeaderModule]});MbscDatepickerModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatepickerModule,imports:[[CommonModule,FormsModule,MbscCalendarModule,MbscDatetimeModule,MbscIconModule,MbscInputModule,MbscPickerModule,MbscPopupModule,MbscSegmentedModule,MbscTimegridModule],MbscCalendarHeaderModule]});return MbscDatepickerModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDatepickerModule,decorators:[{type:NgModule,args:[{declarations:[DatepickerBase,MbscDatepicker,MbscDatepickerBase,MbscDatepickerDirective],entryComponents:[MbscDatepicker],exports:[MbscDatepicker,MbscDatepickerDirective,MbscCalendarHeaderModule],imports:[CommonModule,FormsModule,MbscCalendarModule,MbscDatetimeModule,MbscIconModule,MbscInputModule,MbscPickerModule,MbscPopupModule,MbscSegmentedModule,MbscTimegridModule]}]}]});var DELIMITER=", ";var DEF_GROUP="mbsc-group-0";function createDisabledMap(optionList,invalids){var map=new Map;if(optionList){optionList.forEach((function(item){if(item.disabled){map.set(item.value,true)}}))}if(invalids){invalids.forEach((function(value){map.set(value,true)}))}return map}function createDisabledGroupsMap(disabledMap,optionList){var map=new Map;if(optionList){optionList.forEach((function(_a){var group=_a.group,value=_a.value;if(group){if(!map.has(group)){map.set(group,true)}if(!disabledMap.get(value)){map.set(group,false)}}}))}return map}function filterOptions(optionList,filterText){if(!filterText){return optionList}var escapedText=filterText.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");var filterRegExp=new RegExp(escapedText,"i");var filtered=optionList.filter((function(item){return filterRegExp.test(item.text)}));return filtered}var SelectBase=/*#__PURE__*/function(_super){__extends(SelectBase,_super);function SelectBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._options=[];_this._selectMap=new Map;_this._onFilterChange=function(e){var filterText=e.target.value;clearTimeout(_this._debounce);_this._filterInput.value=filterText;_this._debounce=setTimeout((function(){_this._filter(filterText)}),300)};_this._onFilterClear=function(){var input=_this._filterInput;if(input){input.value=""}_this._filter("")};_this._onResize=function(args){_this.setState({width:args.windowWidth})};_this._onChange=function(args){var vals=args.value;_this._parsedValue=vals;_this._saveSelected(vals);_this._tempVal=vals;_this._tempValueRep=_this._parse(vals);_this._setOrUpdate();if(_this._live&&args.itemTap&&args.closeOnTap){_this.close()}};_this._onWheelMove=function(_a){var wheelIndex=_a.wheelIndex,selection=_a.selection,dataItem=_a.dataItem;if(!_this._selectOnScroll&&!selection&&wheelIndex===1&&dataItem){var opt=find(_this._options,(function(o){return o.value===dataItem.value}));var group=dataItem.isGroup?dataItem.value:_this._groupReMap[opt.group||""];return[group]}return UNDEFINED};_this._format=function(valueRep){var optionWheelIndex=_this.s.showGroupWheel?1:0;var value=valueRep[optionWheelIndex];var values=_this.s.selectMultiple?value:[value];var labels=values.map&&values.map((function(v){if(_this._valueMap){return _this._valueMap.get(v)}return UNDEFINED}));return(labels||[]).join(DELIMITER)};_this._parse=function(value){var map=_this._valueMap;var reMap=_this._reMap;var isMultiple=_this.s.selectMultiple;var defSel=_this.s.defaultSelection;var defValue=isMultiple?defSel?defSel.length!==UNDEFINED?defSel:__spreadArray([],defSel,true):[]:defSel!==UNDEFINED?defSel:null;var parsedValue;_this._parsedValue=value;if(map){if(isMultiple&&!isEmpty(value)){var representation=[];if(value.length===UNDEFINED){representation.push(value)}else{if(isString(value)){var labels=value.split(DELIMITER);for(var _i=0,labels_1=labels;_i<labels_1.length;_i++){var label=labels_1[_i];var valueFromLabel=reMap.get(label);if(valueFromLabel!==UNDEFINED){representation.push(valueFromLabel)}}}else{for(var _a=0,value_1=value;_a<value_1.length;_a++){var iValue=value_1[_a];if(map.has(iValue)){representation.push(iValue)}}}}parsedValue=representation}else{if(map.has(value)){parsedValue=value}else if(isString(value)&&reMap.has(value)){parsedValue=reMap.get(value)}}}if(parsedValue===UNDEFINED){parsedValue=defValue}if(_this.s.showGroupWheel){var firstValue_1=isMultiple?parsedValue[0]:parsedValue;var selectedItem=find(_this._options,(function(item){return item.value===firstValue_1}));return[selectedItem&&_this._groupReMap[selectedItem.group||""],parsedValue]}return[parsedValue]};_this._get=function(valueRep){var optWheelIndex=_this.s.showGroupWheel?1:0;var values=valueRep[optWheelIndex];return _this.s.selectMultiple?values||[]:values};_this._valueEquals=function(v1,v2){if(_this.s.selectMultiple){return arrayContentEquals(v1||[],v2||[])}else{return v1===v2}};_this._shouldValidate=function(s,prevS){var res=s.selectMultiple!==prevS.selectMultiple||!s.filter&&s.data!==prevS.data||_this._groupChanged;_this._groupChanged=false;return res};_this._validateScroller=function(_a){var values=_a.values,direction=_a.direction,wheels=_a.wheels,index=_a.index;var disabledMap=_this._disabled;var selectOnScroll=_this._selectOnScroll;var isMulti=_this.s.selectMultiple;var groupWheels=_this.s.showGroupWheel;var disabled=groupWheels?[_this._disabledGroups,disabledMap]:[disabledMap];var optWheelIndex=groupWheels?1:0;var val=_this._get(values);var ret={disabled:disabled};if(index===optWheelIndex||index===UNDEFINED){if(isMulti){var valid_1=[];val.forEach((function(selectedValue){if(!disabledMap.get(selectedValue)){valid_1.push(selectedValue)}}));ret.valid=_this._parse(valid_1);if(index!==UNDEFINED){ret.valid[0]=values[0]}}else{if(isEmpty(val)&&!selectOnScroll){ret.valid=groupWheels?[null,null]:[null];return ret}var validValue_1=getValid(wheels[optWheelIndex],values[optWheelIndex],disabledMap,direction);if(groupWheels){var item=find(_this._options,(function(o){return o.value===validValue_1}));ret.valid=[_this._groupReMap[item&&item.group||""],validValue_1]}else{ret.valid=[validValue_1]}}}else{var validGroup=getValid(wheels[0],values[0],disabled[0],direction);var validGroupName_1=validGroup===DEF_GROUP?UNDEFINED:_this._groupMap[validGroup];var firstValidItem=find(_this._options,(function(o){return o.group===validGroupName_1&&(!selectOnScroll||!disabledMap.get(o.value))}));var itemOrHeaderValue=_this._touchUi||firstValidItem.group===UNDEFINED?firstValidItem.value:validGroup;if(selectOnScroll){ret.valid=[validGroup,itemOrHeaderValue]}else{ret.valid=[validGroup,values[1]];var first=isMulti?[itemOrHeaderValue]:itemOrHeaderValue;var group=_this._touchUi?validGroup:UNDEFINED;ret.indexes=[group,first]}}return ret};_this._setScroller=function(scroller){_this._scroller=scroller};_this._setFilterInput=function(input){_this._filterInput=input&&input.nativeElement};_this._saveSelected=function(values){if(_this.s.selectMultiple){var selectMap_1=new Map;forEach(values,(function(value){var label=_this._valueMap.get(value);selectMap_1.set(value,label)}));_this._selectMap=selectMap_1}};return _this}SelectBase.prototype.reloadOptionElements=function(){var _this=this;this._optionsReloaded=true;this._setOptionsFromElm();setTimeout((function(){_this.forceUpdate()}))};SelectBase.prototype.setVal=function(value){_super.prototype.setVal.call(this,value)};SelectBase.prototype.getVal=function(){return isEmpty(this._parsedValue)?this._parsedValue:_super.prototype.getVal.call(this)};SelectBase.prototype.setTempVal=function(value){if(this._inst){this._inst.setTempVal(value)}else{this._tempVal=value;_super.prototype.setTempVal.call(this,value)}};SelectBase.prototype.getTempVal=function(){if(this._inst){return this._inst.getTempVal()}else{return _super.prototype.getTempVal.call(this)}};SelectBase.prototype._validate=function(){var wheels=this._wheels[0];wheels.forEach((function(wheel,i){if(!wheel._map){initWheel(wheel,i)}}));var ret=this._validateScroller({values:this._tempValueRep,wheels:wheels});if(ret.valid){this._tempValueRep=ret.valid;this._tempVal=this._get(ret.valid)}};SelectBase.prototype._onOpen=function(){this._tempVal=this._value};SelectBase.prototype._onClosed=function(){var _this=this;if(this._filterText){setTimeout((function(){return _this._onFilterClear()}),100)}};SelectBase.prototype._onRender=function(s){var prevS=this._prevS;var spaceAround=this._touchUi&&(!s.selectMultiple||(s.baseTheme||s.theme)==="ios");var selectOnScroll=this._touchUi&&!s.selectMultiple;var elementChanged=s.element!==prevS.element||s.selectElement!==prevS.selectElement;var dataChanged=s.data!==prevS.data;var dataReloaded=dataChanged||this._optionsReloaded;var placeholder=s.placeholder;var checkEmptyOption=s.display!==prevS.display||placeholder!==prevS.placeholder||selectOnScroll!==this._selectOnScroll;var disabledChanged=dataReloaded||elementChanged||s.invalid!==prevS.invalid||this._selectOnScroll!==selectOnScroll;var groupChanged=s.showGroupWheel!==prevS.showGroupWheel;this._selectOnScroll=selectOnScroll;if(groupChanged){this._groupChanged=true}if(elementChanged||checkEmptyOption){this._isSelect=s.selectElement!==UNDEFINED;if(this._isSelect){this._setOptionsFromElm()}else if(!s.element){this._options=[]}}if((dataChanged||checkEmptyOption)&&s.data){this._createOptionList(s.data)}if(disabledChanged){this._disabled=createDisabledMap(this._options,s.invalid);this._disabledGroups=createDisabledGroupsMap(this._disabled,selectOnScroll?this._options:UNDEFINED)}if(disabledChanged||groupChanged||spaceAround!==this._spaceAround||s.filter!==prevS.filter||s.selectMultiple!==prevS.selectMultiple){this._createWheels(this._filterText,spaceAround)}if(dataReloaded||s.filter!==prevS.filter||s.touchUi!==prevS.touchUi||s.rows!==prevS.rows){var dataLength=s.filter?Infinity:this._wheels[0][s.showGroupWheel?1:0].data.length;var respRows=(this._respProps||{}).rows;var propRows=this.props.rows;var defRows=this._touchUi?s.rows:Math.min(respRows||propRows||7,dataLength);this._rows=propRows||defRows}this._wheelWidth=s.wheelWidth||(s.filter?s.showGroupWheel?[150,250]:400:UNDEFINED);this._spaceAround=spaceAround;this._optionsReloaded=false};SelectBase.prototype._writeValue=function(elm,text,value){var oldValue=elm.value;elm.value=text;if(this._isSelect){if(!isArray(value)){value=[value]}var select=this.s.selectElement;var options=select.options;var changed=false;for(var i=0;i<options.length;i++){var opt=options[i];var wasSelected=opt.selected;opt.selected=value.indexOf(opt.value)>-1;if(wasSelected!==opt.selected){changed=true}}if(changed){trigger(select,CHANGE)}return changed}else{return oldValue!==text}};SelectBase.prototype._createOptionList=function(data){var s=this.s;var text=s.placeholder;var options=[];var map=new Map;var reMap=new Map;this._selectMap.forEach((function(label,value){map.set(value,label)}));var hasEmpty=false;var addOption=function(item,index){if(!item||item.value===UNDEFINED){item={text:item,value:item}}if(isEmpty(item.value)){hasEmpty=true}map.set(item.value,item.text);reMap.set(item.text,item.value);options.splice(index,0,item)};data.forEach(addOption);if(s.display==="inline"&&this._selectOnScroll&&text&&!hasEmpty){addOption({value:"",text:text},0)}this._valueMap=map;this._reMap=reMap;this._options=options};SelectBase.prototype._createWheels=function(filterText,spaceAround){var _this=this;var s=this.s;var isMultiple=s.selectMultiple;var options=s.filter&&filterText?filterOptions(this._options,filterText):this._options;var data=[];var groupData=[];var groups={};this._groupMap={};this._groupReMap={};options.forEach((function(option){var group=option.group;var groupName=group===UNDEFINED?"":group;var groupOptions=groups[groupName];var item={display:option.text,value:option.value,data:option,disabled:_this._disabled.get(option.value)};if(groupOptions){groupOptions.push(item)}else{groups[groupName]=[item]}}));var groupUnique=0;Object.keys(groups).forEach((function(groupName){var groupValue=groupName===""?DEF_GROUP:"mbsc-group-"+ ++groupUnique;var groupOptions=groups[groupName];if(groupName===""){data.unshift.apply(data,groupOptions);if(_this._selectOnScroll){groupData.unshift({display:"",value:groupValue})}}else{data.push({display:groupName,isGroup:true,value:groupValue});data.push.apply(data,groupOptions);groupData.push({display:groupName,value:groupValue});_this._disabled.set(groupValue,true)}_this._groupMap[groupValue]=groupName;_this._groupReMap[groupName]=groupValue}));var optWheel={checkmark:true,circular:false,closeOnTap:!isMultiple,data:data,label:s.label,multiple:isMultiple,spaceAround:spaceAround};var groupWheel={checkmark:false,circular:false,cssClass:"mbsc-select-group-wheel"+(isMultiple?" mbsc-select-group-wheel-multi":""),data:groupData,label:s.groupText,multiple:false,spaceAround:spaceAround};this._noResults=s.filter&&!options.length;this._wheels=s.showGroupWheel?[[groupWheel,optWheel]]:[[optWheel]]};SelectBase.prototype._setOptionsFromElm=function(){var select=this.s.selectElement;var doc=getDocument(select);var options=select.options;var data=[];var hasEmpty=false;var hasSelected=false;for(var i=0;i<options.length;i++){var opt=options[i];var parent_1=opt.parentElement;var group=parent_1.nodeName.toLowerCase()==="optgroup"?parent_1.label:UNDEFINED;if(opt.value!==""){data.push({disabled:opt.disabled,group:group,text:opt.text,value:opt.value})}else{hasEmpty=true}if(opt.defaultSelected){hasSelected=true}}if(!hasEmpty&&doc){select.insertBefore(doc.createElement("option"),select.childNodes[0]||null);if(!hasSelected){select.value=""}}this._createOptionList(data)};SelectBase.prototype._filter=function(filterText){var ret=this._hook("onFilter",{filterText:filterText});if(ret!==false){this._filterText=filterText;this._createWheels(filterText,this._spaceAround)}this.forceUpdate()};SelectBase.defaults=__assign(__assign({},PickerBase.defaults),{activeElm:".mbsc-select-filter-input",dropdown:true,filterEmptyText:"No results",filterPlaceholderText:"Search",groupText:"Group",rows:5,showOnClick:true});SelectBase._name="Select";SelectBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:SelectBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});SelectBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:SelectBase,selector:"[mbsc-sel-b]",usesInheritance:true,ngImport:i0});return SelectBase}(PickerBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:SelectBase,decorators:[{type:Directive,args:[{selector:"[mbsc-sel-b]"}]}]});var template='<input [hidden]="element || s.inputElement || !s.selectElement || s.display === \'inline\'" #defaultInput type="text" />'+getPickerTemplate('\n<ng-template #filterInputTemplate let-inst="data">\n  <div [class]="\'mbsc-select-filter-cont\' + inst._theme + inst._rtl">\n    <mbsc-input\n      #filterInput\n      autocomplete="off"\n      class="mbsc-select-filter"\n      (input)="inst._onFilterChange($event)"\n      inputClass="mbsc-select-filter-input"\n      inputStyle="box"\n      [placeholder]="inst.s.filterPlaceholderText"\n      [rtl]="inst.s.rtl"\n      [theme]="inst.s.theme"\n      [themeVariant]="inst.s.themeVariant"\n    >\n    </mbsc-input>\n    <mbsc-icon\n      *ngIf="inst._filterText"\n      [class]="\'mbsc-select-filter-clear\' + inst._rtl"\n      (click)="inst._onFilterClear()"\n      [svg]="inst.s.clearIcon"\n      [theme]="inst.s.theme"\n    ></mbsc-icon>\n  </div>\n</ng-template>\n<ng-template #filterEmptyTemplate let-inst="data">\n  <div *ngIf="inst._noResults" [class]="\'mbsc-select-empty-text mbsc-flex\' + inst._theme">{{ inst.s.filterEmptyText }}</div>\n</ng-template>\n\n<mbsc-scroller\n  [circular]="s.circular"\n  [class]="\n    (s.cssClass || s.class || \'\') + (_noResults ? \' mbsc-select-empty\' : \'\') + \' mbsc-select-scroller mbsc-select-scroller-\' + s.display\n  "\n  [display]="s.display"\n  [getValue]="_get"\n  [inContentTemplate]="filterEmptyTemplate"\n  [invalid]="s.invalid"\n  [itemHeight]="s.itemHeight"\n  [itemTemplate]="itemTemplate"\n  [maxWheelWidth]="s.maxWheelWidth"\n  [minWheelWidth]="s.minWheelWidth"\n  [onWheelMove]="_onWheelMove"\n  [parseValue]="_parse"\n  [preContentData]="this"\n  [preContentTemplate]="s.filter && filterInputTemplate"\n  [rows]="_rows"\n  [rtl]="s.rtl"\n  [selectOnScroll]="_selectOnScroll"\n  [shouldValidate]="_shouldValidate"\n  [theme]="s.theme"\n  [themeVariant]="s.themeVariant"\n  [touchUi]="_touchUi"\n  [validate]="_validateScroller"\n  [valueEquality]="_valueEquals"\n  [value]="_tempVal"\n  [wheelWidth]="_wheelWidth"\n  [wheels]="_wheels"\n  (onChange)="_onChange($event)"\n></mbsc-scroller>');var MbscSelectOptionBase=/*#__PURE__*/function(){function MbscSelectOptionBase(_host,_changeService){this._host=_host;this._changeService=_changeService;this._component=false}MbscSelectOptionBase.prototype.ngAfterViewInit=function(){this.text=this._host.nativeElement.textContent||""};MbscSelectOptionBase.prototype.ngOnChanges=function(changes){this.text=this._host.nativeElement.textContent||"";this._changeService.reloadOptions(this._component)};MbscSelectOptionBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectOptionBase,deps:[{token:i0.ElementRef},{token:MbscSelectOptionChangeService}],target:i0.ɵɵFactoryTarget.Directive});MbscSelectOptionBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:MbscSelectOptionBase,selector:"[mbsc-sel-b]",inputs:{value:"value",group:"group",disabled:"disabled"},usesOnChanges:true,ngImport:i0});return MbscSelectOptionBase}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectOptionBase,decorators:[{type:Directive,args:[{selector:"[mbsc-sel-b]"}]}],ctorParameters:function(){return[{type:i0.ElementRef},{type:MbscSelectOptionChangeService}]},propDecorators:{value:[{type:Input}],group:[{type:Input}],disabled:[{type:Input}]}});var MbscSelectOptionDirective=/*#__PURE__*/function(_super){__extends(MbscSelectOptionDirective,_super);function MbscSelectOptionDirective(){return _super!==null&&_super.apply(this,arguments)||this}MbscSelectOptionDirective.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectOptionDirective,deps:null,target:i0.ɵɵFactoryTarget.Directive});MbscSelectOptionDirective.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:MbscSelectOptionDirective,selector:"[mbsc-select-option]",inputs:{value:"value",group:"group",disabled:"disabled"},usesInheritance:true,ngImport:i0});return MbscSelectOptionDirective}(MbscSelectOptionBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectOptionDirective,decorators:[{type:Directive,args:[{selector:"[mbsc-select-option]"}]}],propDecorators:{value:[{type:Input}],group:[{type:Input}],disabled:[{type:Input}]}});var MbscSelectOptionComponent=/*#__PURE__*/function(_super){__extends(MbscSelectOptionComponent,_super);function MbscSelectOptionComponent(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._component=true;return _this}MbscSelectOptionComponent.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectOptionComponent,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscSelectOptionComponent.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscSelectOptionComponent,selector:"mbsc-select-option",inputs:{value:"value",group:"group",disabled:"disabled"},usesInheritance:true,ngImport:i0,template:"<ng-content></ng-content>",isInline:true});return MbscSelectOptionComponent}(MbscSelectOptionBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectOptionComponent,decorators:[{type:Component,args:[{selector:"mbsc-select-option",template:"<ng-content></ng-content>"}]}],propDecorators:{value:[{type:Input}],group:[{type:Input}],disabled:[{type:Input}]}});var MbscSelectBase=/*#__PURE__*/function(_super){__extends(MbscSelectBase,_super);function MbscSelectBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.onCancel=new EventEmitter;_this.onChange=new EventEmitter;_this.onClose=new EventEmitter;_this.onFilter=new EventEmitter;_this.onOpen=new EventEmitter;_this.onTempChange=new EventEmitter;return _this}MbscSelectBase.prototype._onValueChange=function(value){this.setState({value:value})};MbscSelectBase.prototype._render=function(s,state){var elm=s.element;s.element=(elm?elm._el||elm:UNDEFINED)||(s.selectElement?this._defaultInput:UNDEFINED);_super.prototype._render.call(this,s,state)};MbscSelectBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});MbscSelectBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:MbscSelectBase,selector:"[mbsc-sel-b]",inputs:{ariaLabel:"ariaLabel",circular:"circular",clearIcon:"clearIcon",data:"data",element:"element",defaultSelection:"defaultSelection",filter:"filter",formatValue:"formatValue",getValue:"getValue",invalid:"invalid",itemHeight:"itemHeight",itemTemplate:"itemTemplate",maxHeight:"maxHeight",maxWidth:"maxWidth",maxWheelWidth:"maxWheelWidth",minWheelWidth:"minWheelWidth",parseValue:"parseValue",rows:"rows",rtl:"rtl",selectMultiple:"selectMultiple",showGroupWheel:"showGroupWheel",showOnClick:"showOnClick",showOnFocus:"showOnFocus",valueEquality:"valueEquality",wheels:"wheels",wheelWidth:"wheelWidth",disabled:"disabled",dropdown:"dropdown",endIcon:"endIcon",endIconSrc:"endIconSrc",endIconSvg:"endIconSvg",error:"error",errorMessage:"errorMessage",inputStyle:"inputStyle",label:"label",labelStyle:"labelStyle",name:"name",placeholder:"placeholder",startIcon:"startIcon",startIconSrc:"startIconSrc",startIconSvg:"startIconSvg",tagInput:"tagInput",anchor:"anchor",animation:"animation",buttons:"buttons",cancelText:"cancelText",clearText:"clearText",closeOnEsc:"closeOnEsc",closeOnOverlayClick:"closeOnOverlayClick",closeText:"closeText",context:"context",display:"display",focusOnClose:"focusOnClose",focusTrap:"focusTrap",headerText:"headerText",height:"height",setText:"setText",showArrow:"showArrow",showInput:"showInput",showOverlay:"showOverlay",width:"width",filterEmptyText:"filterEmptyText",filterPlaceholderText:"filterPlaceholderText",groupText:"groupText"},outputs:{onCancel:"onCancel",onChange:"onChange",onClose:"onClose",onFilter:"onFilter",onOpen:"onOpen",onTempChange:"onTempChange"},usesInheritance:true,ngImport:i0});MbscSelectBase=__decorate([FormControl],MbscSelectBase);return MbscSelectBase}(SelectBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectBase,decorators:[{type:Directive,args:[{selector:"[mbsc-sel-b]"}]}],propDecorators:{ariaLabel:[{type:Input}],circular:[{type:Input}],clearIcon:[{type:Input}],data:[{type:Input}],element:[{type:Input}],defaultSelection:[{type:Input}],filter:[{type:Input}],formatValue:[{type:Input}],getValue:[{type:Input}],invalid:[{type:Input}],itemHeight:[{type:Input}],itemTemplate:[{type:Input}],maxHeight:[{type:Input}],maxWidth:[{type:Input}],maxWheelWidth:[{type:Input}],minWheelWidth:[{type:Input}],parseValue:[{type:Input}],rows:[{type:Input}],rtl:[{type:Input}],selectMultiple:[{type:Input}],showGroupWheel:[{type:Input}],showOnClick:[{type:Input}],showOnFocus:[{type:Input}],valueEquality:[{type:Input}],wheels:[{type:Input}],wheelWidth:[{type:Input}],disabled:[{type:Input}],dropdown:[{type:Input}],endIcon:[{type:Input}],endIconSrc:[{type:Input}],endIconSvg:[{type:Input}],error:[{type:Input}],errorMessage:[{type:Input}],inputStyle:[{type:Input}],label:[{type:Input}],labelStyle:[{type:Input}],name:[{type:Input}],placeholder:[{type:Input}],startIcon:[{type:Input}],startIconSrc:[{type:Input}],startIconSvg:[{type:Input}],tagInput:[{type:Input}],anchor:[{type:Input}],animation:[{type:Input}],buttons:[{type:Input}],cancelText:[{type:Input}],clearText:[{type:Input}],closeOnEsc:[{type:Input}],closeOnOverlayClick:[{type:Input}],closeText:[{type:Input}],context:[{type:Input}],display:[{type:Input}],focusOnClose:[{type:Input}],focusTrap:[{type:Input}],headerText:[{type:Input}],height:[{type:Input}],setText:[{type:Input}],showArrow:[{type:Input}],showInput:[{type:Input}],showOverlay:[{type:Input}],width:[{type:Input}],filterEmptyText:[{type:Input}],filterPlaceholderText:[{type:Input}],groupText:[{type:Input}],onCancel:[{type:Output}],onChange:[{type:Output}],onClose:[{type:Output}],onFilter:[{type:Output}],onOpen:[{type:Output}],onTempChange:[{type:Output}]}});var MbscSelectOptionChangeService=/*#__PURE__*/function(){function MbscSelectOptionChangeService(){}MbscSelectOptionChangeService.prototype.reloadOptions=function(component){var _this=this;clearTimeout(this._handler);this._handler=setTimeout((function(){if(_this._inst){if(component){_this._inst.updateOptionlist()}else{_this._inst.reloadOptionElements()}}}))};MbscSelectOptionChangeService.prototype.setInst=function(i){this._inst=i};return MbscSelectOptionChangeService}();var MbscSelect=/*#__PURE__*/function(_super){__extends(MbscSelect,_super);function MbscSelect(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MbscSelect.prototype,"vInput",{set:function(inp){if(inp){this._el=inp.nativeElement}},enumerable:false,configurable:true});Object.defineProperty(MbscSelect.prototype,"vDefInput",{set:function(inp){if(inp){this._defaultInput=inp.nativeElement}},enumerable:false,configurable:true});Object.defineProperty(MbscSelect.prototype,"vFilter",{set:function(input){this._filterInput=input&&input.nativeElement},enumerable:false,configurable:true});Object.defineProperty(MbscSelect.prototype,"vPopup",{set:function(popup){this._popup=popup},enumerable:false,configurable:true});MbscSelect.prototype.updateOptionlist=function(){var _this=this;var data=this.optionComponents.map((function(ch){return{disabled:ch.disabled,group:ch.group,text:ch.text,value:ch.value}}));this._createOptionList(data);this._optionsReloaded=true;setTimeout((function(){_this.forceUpdate()}))};MbscSelect.prototype.valueSet=function(event){this.value=event.value;this._saveSelected(event.value);this._hook("onChange",event)};MbscSelect.prototype._ctor=function(){var s=this._injector.get(MbscSelectOptionChangeService);s.setInst(this)};MbscSelect.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelect,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscSelect.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscSelect,selector:"mbsc-select",providers:[MbscSelectOptionChangeService],queries:[{propertyName:"optionComponents",predicate:MbscSelectOptionComponent}],viewQueries:[{propertyName:"vInput",first:true,predicate:["input"],descendants:true},{propertyName:"vDefInput",first:true,predicate:["defaultInput"],descendants:true},{propertyName:"vFilter",first:true,predicate:["filterInput"],descendants:true},{propertyName:"vPopup",first:true,predicate:["popup"],descendants:true}],usesInheritance:true,ngImport:i0,template:'<input [hidden]="element || s.inputElement || !s.selectElement || s.display === \'inline\'" #defaultInput type="text" />\n    <mbsc-input *ngIf="_showInput" #input\n      [ariaExpanded]="!!_isOpen"\n      [ariaHaspopup]="\'dialog\'"\n      [ariaLabel]="ariaLabel"\n      [dropdown]="s.dropdown"\n      [disabled]="disabled"\n      [endIcon]="endIcon"\n      [endIconSrc]="endIconSrc"\n      [endIconSvg]="endIconSvg"\n      [error]="error"\n      [errorMessage]="errorMessage"\n      [inputStyle]="s.inputStyle"\n      [label]="label"\n      [labelStyle]="s.labelStyle"\n      [name]="name"\n      [placeholder]="placeholder"\n      [pickerMap]="_valueMap"\n      [pickerValue]="_value"\n      [role]="\'combobox\'"\n      [rtl]="s.rtl"\n      [startIcon]="startIcon"\n      [startIconSrc]="startIconSrc"\n      [startIconSvg]="startIconSvg"\n      [tags]="s.tagInput === undefined ? s.selectMultiple : s.tagInput"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [value]="(_value != null && _valueText) || \'\'"\n    >\n      <ng-content></ng-content>\n    </mbsc-input>\n    <mbsc-popup #popup\n      [activeElm]="s.activeElm"\n      [anchor]="_anchor"\n      [anchorAlign]="_anchorAlign"\n      [animation]="s.animation"\n      [ariaLabel]="s.ariaLabel"\n      [buttons]="_buttons"\n      [cancelText]="s.cancelText"\n      [closeOnEsc]="s.closeOnEsc"\n      [closeOnOverlayClick]="s.closeOnOverlayClick"\n      [closeOnScroll]="s.closeOnScroll"\n      [closeText]="s.closeText"\n      [contentPadding]="false"\n      [context]="s.context"\n      [cssClass]="_cssClass"\n      [disableLeftRight]="true"\n      [display]="s.display"\n      [focusElm]="_focusElm"\n      [focusOnClose]="s.focusOnClose"\n      [focusOnOpen]="!_allowTyping"\n      [focusTrap]="s.focusTrap"\n      [fullScreen]="s.fullScreen"\n      [headerText]="_headerText"\n      [height]="s.height"\n      [isOpen]="_isOpen"\n      [maxHeight]="s.maxHeight"\n      [maxWidth]="_maxWidth"\n      [setText]="s.setText"\n      [showArrow]="s.showArrow"\n      [showOverlay]="_allowTyping ? false : s.showOverlay"\n      [rtl]="s.rtl"\n      [scrollLock]="_scrollLock"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [touchUi]="_touchUi"\n      [windowWidth]="state.width"\n      [width]="s.width"\n      (onClose)="_onPopupClose($event)"\n      (onClosed)="_onPopupClosed($event)"\n      (onKeyDown)="_onPopupKey($event)"\n      (onOpen)="_onPopupOpen($event)"\n      (onResize)="_onResize($event)"\n    >\n      <ng-container *ngIf="(_popup && _popup._isVisible) || s.display === \'inline\'">\n        \n<ng-template #filterInputTemplate let-inst="data">\n  <div [class]="\'mbsc-select-filter-cont\' + inst._theme + inst._rtl">\n    <mbsc-input\n      #filterInput\n      autocomplete="off"\n      class="mbsc-select-filter"\n      (input)="inst._onFilterChange($event)"\n      inputClass="mbsc-select-filter-input"\n      inputStyle="box"\n      [placeholder]="inst.s.filterPlaceholderText"\n      [rtl]="inst.s.rtl"\n      [theme]="inst.s.theme"\n      [themeVariant]="inst.s.themeVariant"\n    >\n    </mbsc-input>\n    <mbsc-icon\n      *ngIf="inst._filterText"\n      [class]="\'mbsc-select-filter-clear\' + inst._rtl"\n      (click)="inst._onFilterClear()"\n      [svg]="inst.s.clearIcon"\n      [theme]="inst.s.theme"\n    ></mbsc-icon>\n  </div>\n</ng-template>\n<ng-template #filterEmptyTemplate let-inst="data">\n  <div *ngIf="inst._noResults" [class]="\'mbsc-select-empty-text mbsc-flex\' + inst._theme">{{ inst.s.filterEmptyText }}</div>\n</ng-template>\n\n<mbsc-scroller\n  [circular]="s.circular"\n  [class]="\n    (s.cssClass || s.class || \'\') + (_noResults ? \' mbsc-select-empty\' : \'\') + \' mbsc-select-scroller mbsc-select-scroller-\' + s.display\n  "\n  [display]="s.display"\n  [getValue]="_get"\n  [inContentTemplate]="filterEmptyTemplate"\n  [invalid]="s.invalid"\n  [itemHeight]="s.itemHeight"\n  [itemTemplate]="itemTemplate"\n  [maxWheelWidth]="s.maxWheelWidth"\n  [minWheelWidth]="s.minWheelWidth"\n  [onWheelMove]="_onWheelMove"\n  [parseValue]="_parse"\n  [preContentData]="this"\n  [preContentTemplate]="s.filter && filterInputTemplate"\n  [rows]="_rows"\n  [rtl]="s.rtl"\n  [selectOnScroll]="_selectOnScroll"\n  [shouldValidate]="_shouldValidate"\n  [theme]="s.theme"\n  [themeVariant]="s.themeVariant"\n  [touchUi]="_touchUi"\n  [validate]="_validateScroller"\n  [valueEquality]="_valueEquals"\n  [value]="_tempVal"\n  [wheelWidth]="_wheelWidth"\n  [wheels]="_wheels"\n  (onChange)="_onChange($event)"\n></mbsc-scroller>\n      </ng-container>\n    </mbsc-popup>',isInline:true,components:[{type:MbscInput,selector:"mbsc-input",inputs:["ariaExpanded","ariaHaspopup","ariaLabel","accept","autocapitalize","autocomplete","autocorrect","autofocus","disabled","dropdown","endIcon","endIconSrc","endIconSvg","error","errorMessage","hideIcon","hideIconSvg","id","inputClass","inputStyle","label","labelStyle","max","maxlength","min","minlength","multiple","name","passwordToggle","pattern","pickerMap","pickerValue","placeholder","readonly","required","ripple","role","rows","showIcon","showIconSvg","spellcheck","startIcon","startIconSrc","startIconSvg","step","tags","type"],outputs:["onChange"]},{type:MbscPopup,selector:"mbsc-popup",inputs:["activeElm","anchor","anchorAlign","animation","ariaLabel","buttons","buttonVariant","closeOnEsc","closeOnOverlayClick","closeOnScroll","contentPadding","cssClass","disableLeftRight","display","focusElm","focusOnClose","focusOnOpen","focusTrap","fullScreen","headerText","height","isOpen","maxHeight","maxWidth","scrollLock","setActive","showArrow","showOverlay","windowWidth","width","cancelText","closeText","okText","setText"],outputs:["onButtonClick","onOverlayClick","onClose","onClosed","onKeyDown","onOpen","onPosition","onResize"]},{type:MbscIcon,selector:"mbsc-icon",inputs:["name","svg"]},{type:MbscScroller,selector:"mbsc-scroller",inputs:["circular","displayStyle","getValue","maxWheelWidth","minWheelWidth","inContentTemplate","invalid","itemHeight","itemTemplate","onWheelMove","parseValue","preContentTemplate","preContentData","rows","selectOnScroll","shouldValidate","validate","valueEquality","wheels","wheelWidth","display","valid"],outputs:["onChange","onTempChange"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});MbscSelect=__decorate([FormControl],MbscSelect);return MbscSelect}(MbscSelectBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelect,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,providers:[MbscSelectOptionChangeService],selector:"mbsc-select",template:template}]}],propDecorators:{optionComponents:[{type:ContentChildren,args:[MbscSelectOptionComponent]}],vInput:[{type:ViewChild,args:["input",{static:false}]}],vDefInput:[{type:ViewChild,args:["defaultInput",{static:false}]}],vFilter:[{type:ViewChild,args:["filterInput",{static:false}]}],vPopup:[{type:ViewChild,args:["popup",{static:false}]}]}});var MbscSelectDirective=/*#__PURE__*/function(_super){__extends(MbscSelectDirective,_super);function MbscSelectDirective(){return _super!==null&&_super.apply(this,arguments)||this}MbscSelectDirective.prototype.reloadOptionElements=function(){if(this._inst){this._inst.reloadOptionElements()}};MbscSelectDirective.prototype._ctor=function(){this._cfr=this._injector.get(ComponentFactoryResolver);var s=this._injector.get(MbscSelectOptionChangeService);s.setInst(this)};MbscSelectDirective.prototype._init=function(){var _this=this;var componentFactory=this._cfr.resolveComponentFactory(MbscSelect);this._ref=this._vcf.createComponent(componentFactory);this._inst=this._ref.instance;var inst=this._inst;var _loop_1=function(prop){if(prop!=="onInit"&&prop!=="onDestroy"&&inst[prop]instanceof EventEmitter){inst[prop].subscribe((function(args){if(prop==="onClose"){_this._onFormTouch()}if(prop==="onChange"){_this.value=inst.value}_this[prop].emit(args)}))}};for(var prop in inst){_loop_1(prop)}_super.prototype._init.call(this)};MbscSelectDirective.prototype._destroy=function(){_super.prototype._destroy.call(this);if(this._ref){this._ref.destroy()}};MbscSelectDirective.prototype._render=function(s,state){var inst=this._ref.instance;inst.value=this.value;inst.props=s;inst.props.rows=this.props.rows;var el=this._elr.nativeElement;if(el.nodeName.toLowerCase()==="select"){el.style.display="none";inst.props.selectElement=el;if(s.inputElement){inst.props.element=s.inputElement}}else{inst.props.element=el}_super.prototype._render.call(this,s,state);inst.forceUpdate()};MbscSelectDirective.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectDirective,deps:null,target:i0.ɵɵFactoryTarget.Directive});MbscSelectDirective.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:MbscSelectDirective,selector:"[mbsc-select]",inputs:{options:["mbscOptions","options"],inputElement:"inputElement"},providers:[MbscSelectOptionChangeService],exportAs:["mobiscroll"],usesInheritance:true,ngImport:i0});return MbscSelectDirective}(MbscSelectBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectDirective,decorators:[{type:Directive,args:[{exportAs:"mobiscroll",providers:[MbscSelectOptionChangeService],selector:"[mbsc-select]"}]}],propDecorators:{options:[{type:Input,args:["mbscOptions"]}],inputElement:[{type:Input}]}});var MbscSelectModule=/*#__PURE__*/function(){function MbscSelectModule(){}MbscSelectModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscSelectModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectModule,declarations:[SelectBase,MbscSelect,MbscSelectBase,MbscSelectDirective,MbscSelectOptionBase,MbscSelectOptionDirective,MbscSelectOptionComponent],imports:[CommonModule,FormsModule,MbscScrollerModule,MbscIconModule,MbscInputModule,MbscPopupModule],exports:[MbscSelect,MbscSelectDirective,MbscSelectOptionDirective,MbscSelectOptionComponent]});MbscSelectModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectModule,imports:[[CommonModule,FormsModule,MbscScrollerModule,MbscIconModule,MbscInputModule,MbscPopupModule]]});return MbscSelectModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSelectModule,decorators:[{type:NgModule,args:[{declarations:[SelectBase,MbscSelect,MbscSelectBase,MbscSelectDirective,MbscSelectOptionBase,MbscSelectOptionDirective,MbscSelectOptionComponent],entryComponents:[MbscSelect],exports:[MbscSelect,MbscSelectDirective,MbscSelectOptionDirective,MbscSelectOptionComponent],imports:[CommonModule,FormsModule,MbscScrollerModule,MbscIconModule,MbscInputModule,MbscPopupModule]}]}]});var dragObservable=new Observable;function subscribeExternalDrag(handler){return dragObservable.subscribe(handler)}function unsubscribeExternalDrag(key){dragObservable.unsubscribe(key)}function moveClone(ev,clone){clone.style.left=ev.endX+"px";clone.style.top=ev.endY+"px"}var DraggableBase=/*#__PURE__*/function(_super){__extends(DraggableBase,_super);function DraggableBase(){return _super!==null&&_super.apply(this,arguments)||this}DraggableBase.prototype._render=function(s){if(s.context!==this._prevS.context){this._ctx=UNDEFINED}if(s.dragData!==this._prevS.dragData){this._dragData=isString(s.dragData)?JSON.parse(s.dragData.toString()):s.dragData}};DraggableBase.prototype._updated=function(){var _this=this;var el=this.s.element||this._el;var doc=getDocument(el);var ctx=this._ctx;if(doc&&!ctx){ctx=getContext(this.s.context,doc);this._ctx=ctx}if(this._unlisten===UNDEFINED&&el&&ctx){el.classList.add("mbsc-draggable");var clone_1;var isDrag_1;var touchTimer_1;this._unlisten=gestureListener(el,{onEnd:function(ev){if(isDrag_1){var args=__assign({},ev);args.domEvent.preventDefault();args.action="externalDrop";args.dragData=_this._dragData;args.dragDataType=_this.s.type||"event";args.clone=clone_1;args.create=true;args.external=true;args.eventName="onDragEnd";dragObservable.next(args);isDrag_1=false;ctx.removeChild(clone_1)}clearTimeout(touchTimer_1)},onMove:function(ev){var args=__assign({},ev);args.dragData=_this._dragData;args.dragDataType=_this.s.type||"event";args.clone=clone_1;args.create=true;args.external=true;if(isDrag_1||!args.isTouch){args.domEvent.preventDefault()}if(isDrag_1){moveClone(ev,clone_1);args.eventName="onDragMove";dragObservable.next(args)}else if(Math.abs(args.deltaX)>7||Math.abs(args.deltaY)>7){clearTimeout(touchTimer_1);if(!args.isTouch){moveClone(ev,clone_1);ctx.appendChild(clone_1);args.eventName="onDragStart";dragObservable.next(args);isDrag_1=true}}},onStart:function(ev){var args=__assign({},ev);if(!isDrag_1){clone_1=el.cloneNode(true);clone_1.classList.add("mbsc-drag-clone");args.dragData=_this._dragData;args.dragDataType=_this.s.type||"event";args.create=true;args.external=true;if(args.isTouch){touchTimer_1=setTimeout((function(){moveClone(ev,clone_1);ctx.appendChild(clone_1);args.clone=clone_1;args.eventName="onDragStart";dragObservable.next(args);args.eventName="onDragModeOn";dragObservable.next(args);isDrag_1=true}),350)}}}})}};DraggableBase.prototype._destroy=function(){if(this._unlisten){this._unlisten();this._unlisten=UNDEFINED}};DraggableBase._name="Draggable";DraggableBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:DraggableBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});DraggableBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:DraggableBase,selector:"[mbsc-drag]",usesInheritance:true,ngImport:i0});return DraggableBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:DraggableBase,decorators:[{type:Directive,args:[{selector:"[mbsc-drag]"}]}]});var uid=1;function getDataInRange(data,s,firstDay,lastDay,start,end){var startDate=firstDay;var endDate=lastDay;var map=new Map;var dataInRange=[];if(start){startDate=makeDate(start,s)}if(end){endDate=makeDate(end,s)}else if(start){endDate=addDays(startDate,1)}var events=getEventMap(data,startDate,endDate,s);for(var date in events){if(date){for(var _i=0,_a=events[date];_i<_a.length;_i++){var event_1=_a[_i];if(!event_1.start){dataInRange.push(event_1)}else if(!map.has(event_1)){var eventStart=makeDate(event_1.start,s);var eventEnd=makeDate(event_1.end,s)||eventStart;if(event_1.allDay){eventStart=createDate$1(s,eventStart.getFullYear(),eventStart.getMonth(),eventStart.getDate());eventEnd=getEndDate(s,true,eventStart,eventEnd);eventEnd=createDate$1(s,eventEnd.getFullYear(),eventEnd.getMonth(),eventEnd.getDate(),23,59,59,999)}if(checkDateRangeOverlap(startDate,endDate,eventStart,eventEnd)){var eventCopy=__assign({},event_1);if(s.dataTimezone||s.displayTimezone){eventCopy.start=eventStart.toISOString();eventCopy.end=eventEnd.toISOString()}map.set(event_1,true);dataInRange.push(eventCopy)}}}}}return dataInRange}function getEventId(){return"mbsc_".concat(uid++)}function getEventData(s,event,eventDay,colorEvent,resource,slot,isList,isMultipart,isDailyResolution,skipLabels,fullDates){var color=event.color||resource&&resource.color;var st=event.start||event.date;var origStart=event.recurring?event.original.start:event.start;var allDay=event.allDay||!origStart;var tzOpt=getTzOpt(s,event);var start=st?makeDate(st,tzOpt):null;var end=event.end?makeDate(event.end,tzOpt):null;var endDate=getEndDate(s,event.allDay,start,end,isList);var bufferStart=event.bufferBefore?makeDate(+start-event.bufferBefore*6e4,tzOpt):null;var bufferEnd=event.bufferAfter?makeDate(+endDate+event.bufferAfter*6e4,tzOpt):null;var isMultiDay=start&&endDate&&!isSameDay(start,endDate);var isFirstDay=isMultiDay?isSameDay(start,eventDay):true;var isLastDay=isMultiDay?isSameDay(endDate,eventDay):true;var fillsAllDay=!fullDates&&(allDay||isMultipart&&isMultiDay&&!isFirstDay&&!isLastDay);var startTime="";var endTime="";if(!skipLabels){if(fullDates){var dateTimeFormat=s.dateFormat+(allDay?"":s.separator+s.timeFormat);startTime=start?formatDate(dateTimeFormat,start,s):"";endTime=end?formatDate(dateTimeFormat,allDay?endDate:end,s):""}else if(!isMultipart&&!isDailyResolution){startTime=start?formatDate(s.dateFormat,start,s):"";endTime=end?formatDate(s.dateFormat,endDate,s):""}else if(!allDay){startTime=start?formatDate(s.timeFormat,start,s):"";endTime=end?formatDate(s.timeFormat,end,s):""}}var eventStart=!fillsAllDay&&(isFirstDay||!isMultipart||fullDates)?startTime:"";var eventEnd=!fillsAllDay&&(isLastDay||!isMultipart||fullDates)?endTime:"";var html=event.title||event.text||"";var title=html;var tooltip=title+(fillsAllDay?"":", "+eventStart+" - "+eventEnd);var format=s.dateFormatFull;var startStr=!skipLabels&&start?", "+s.fromText+": "+formatDate(format,start,s)+(allDay?"":", "+startTime):"";var endStr=!skipLabels&&end?", "+s.toText+": "+formatDate(format,end,s)+(allDay?"":", "+endTime):"";var resourceStr=resource&&resource.name?", "+resource.name:"";return{allDay:allDay,allDayText:fillsAllDay?s.allDayText:"",ariaLabel:title+resourceStr+startStr+endStr,bufferEnd:bufferEnd,bufferStart:bufferStart,color:color,currentResource:resource,currentSlot:slot,date:+eventDay,end:eventEnd,endDate:end?end:start?new Date(start):null,html:html,id:event.id,isMultiDay:isMultiDay,lastDay:!fillsAllDay&&isMultiDay&&isLastDay?s.toText:"",original:event,position:{},resource:event.resource,slot:event.slot,start:eventStart,startDate:start,style:{background:color,color:colorEvent&&color?getTextColor(color):""},title:title,tooltip:s.showEventTooltip?event.tooltip||tooltip:UNDEFINED,uid:event.occurrenceId?event.occurrenceId:event.id}}function prepareEvents(events){var data=[];if(events){for(var _i=0,events_1=events;_i<events_1.length;_i++){var event_2=events_1[_i];if(event_2.id===UNDEFINED){event_2.id=getEventId()}data.push(event_2)}}return data}function checkInvalidCollision(s,invalids,valids,start,end,min,max,invalidateEvent,exclusiveEndDates){if(invalidateEvent==="start-end"){var invalidStart=isInvalid(s,start,invalids,valids,min,max);var invalidEnd=isInvalid(s,end,invalids,valids,min,max);if(invalidStart){return invalidStart}if(invalidEnd){return invalidEnd}}else{var until=exclusiveEndDates?end:getDateOnly(addDays(end,1));for(var d=getDateOnly(start);d<until;d.setDate(d.getDate()+1)){var invalid=isInvalid(s,d,invalids,valids,min,max);if(invalid){return invalid}}}return false}function checkOverlap(event,start,end,eventMap,exactDisplay,s){var until=s.exclusiveEndDates?end:getDateOnly(addDays(end,1));for(var d=getDateOnly(start);d<until;d.setDate(d.getDate()+1)){var dayEvents=(eventMap[getDateStr(d)]||[]).filter((function(e){return e.id!==event.id}));var shouldCheckOverlap=s.eventOverlap===false||event.overlap===false;var allDay=event.allDay||!event.start;var isExact=exactDisplay&&!allDay;if(dayEvents.length){if(shouldCheckOverlap&&!isExact){return dayEvents[0]}for(var _i=0,dayEvents_1=dayEvents;_i<dayEvents_1.length;_i++){var item=dayEvents_1[_i];if(shouldCheckOverlap||item.overlap===false){if(isExact&&item.start&&!item.allDay){var itemStart=makeDate(item.start,s);var itemEnd=item.end?makeDate(item.end,s):itemStart;if(itemStart<end&&itemEnd>start){return item}}else{return item}}}}}return false}var EventcalendarBase=/*#__PURE__*/function(_super){__extends(EventcalendarBase,_super);function EventcalendarBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.print=noop;_this._checkSize=0;_this._navService=new MbscCalendarNavService;_this._pageLoad=0;_this._selectedDates={};_this._shouldScrollSchedule=0;_this._update=0;_this._onScroll=throttle((function(){if(!_this._isListScrolling&&!_this._viewChanged){for(var timestamp in _this._listDays){if(_this._listDays[timestamp]){var day=_this._listDays[timestamp];var bottom=day.offsetTop+day.offsetHeight-_this._list.scrollTop;if(bottom>0){if(+timestamp!==_this._selected){_this._shouldSkipScroll=true;_this._selectedChange(+timestamp,true)}break}}}}}));_this._isListScrolling=0;_this._remote=0;_this._tempViewChanged=false;_this._onWeekDayClick=function(d){if(d!==_this._selected){_this._skipScheduleScroll=true;_this._selectedChange(d,true)}};_this._onDayClick=function(args){var date=args.date;var d=+date;var key=getDateStr(date);var events=sortEvents(_this._eventMap[key],_this.s);var showEventPopover=_this._showEventPopover;var computed=showEventPopover===UNDEFINED?!_this._showEventLabels&&!_this._showEventList&&!_this._showSchedule:showEventPopover;var showMore=showEventPopover!==false&&_this._moreLabelClicked;var showPopover=(computed||showMore)&&events&&events.length>0;args.events=events;if(!_this._isEventClick){_this._resetSelection()}_this._hook("onCellClick",args);_this._moreLabelClicked=false;if(!args.disabled&&d!==_this._selected){_this._navService.preventPageChange=!_this._showEventList;_this._skipScheduleScroll=true;_this._selectedChange(d,true)}if(showPopover){_this._showPopover(d,d,events.map((function(event){return _this._getEventData(event,date)})),args.target)}_this._isEventClick=false};_this._onActiveChange=function(args){if(args.scroll){_this._viewDate=+args.date;_this._viewMiddleDate=+args.middleDate;return}var d=_this._getValidDay(args.date,args.dir);var newState={activeDate:d};_this._active=d;_this._viewDate=d;_this._update++;_this._skipScheduleScroll=args.pageChange&&!args.nav;if(args.pageChange||args.today){newState.selectedDate=d;_this._selectedChange(d,true,true);_this._navService.forcePageChange=true}if(args.pageChange){_this._shouldAnimateScroll=false}_this.setState(newState)};_this._onGestureStart=function(args){_this._hidePopover()};_this._onDayDoubleClick=function(args){_this._dayClick("onCellDoubleClick",args)};_this._onDayRightClick=function(args){_this._dayClick("onCellRightClick",args)};_this._onCellHoverIn=function(args){args.events=_this._eventMap[getDateStr(args.date)];_this._hook("onCellHoverIn",args)};_this._onCellHoverOut=function(args){args.events=_this._eventMap[getDateStr(args.date)];_this._hook("onCellHoverOut",args)};_this._onEventHoverIn=function(args){_this._hoverTimer=setTimeout((function(){_this._isHover=true;_this._eventClick("onEventHoverIn",args)}),150)};_this._onEventHoverOut=function(args){clearTimeout(_this._hoverTimer);if(_this._isHover){_this._isHover=false;_this._eventClick("onEventHoverOut",args)}};_this._onEventClick=function(args){var s=_this.s;_this._handleMultipleSelect(args);var close=_this._eventClick("onEventClick",args);if(close!==false&&!(s.selectMultipleEvents||s.eventDelete||(s.dragToCreate||s.clickToCreate)&&s.eventDelete!==false)){_this._hidePopover()}};_this._onEventDoubleClick=function(args){_this._eventClick("onEventDoubleClick",args)};_this._onEventRightClick=function(args){_this._eventClick("onEventRightClick",args)};_this._onEventDragEnd=function(args){_this._hook("onEventDragEnd",args)};_this._onEventDragStart=function(args){_this._hook("onEventDragStart",args)};_this._onEventDragEnter=function(args){_this._hook("onEventDragEnter",args)};_this._onEventDragLeave=function(args){_this._hook("onEventDragLeave",args)};_this._onLabelHoverIn=function(args){_this._hoverTimer=setTimeout((function(){_this._isHover=true;_this._labelClick("onEventHoverIn",args)}),150)};_this._onLabelHoverOut=function(args){clearTimeout(_this._hoverTimer);if(_this._isHover){_this._isHover=false;_this._labelClick("onEventHoverOut",args)}};_this._onLabelClick=function(args){_this._handleMultipleSelect(args);_this._hook("onLabelClick",args);_this._labelClick("onEventClick",args);_this._isEventClick=true;if(!args.label){_this._moreLabelClicked=true}};_this._onLabelDoubleClick=function(args){_this._labelClick("onEventDoubleClick",args)};_this._onLabelRightClick=function(args){_this._labelClick("onEventRightClick",args)};_this._onCellClick=function(args){_this._resetSelection();_this._cellClick("onCellClick",args)};_this._onCellDoubleClick=function(args){_this._cellClick("onCellDoubleClick",args)};_this._onCellRightClick=function(args){_this._cellClick("onCellRightClick",args)};_this._proxy=function(args){return _this._hook(args.type,args)};_this._onPageChange=function(args){setTimeout((function(){_this._hidePopover()}));_this._hook("onPageChange",args)};_this._onPageLoading=function(args){var s=_this.s;var isList=_this._showCalendar&&!_this._eventExact;var eventMap=getEventMap(_this._events,args.viewStart,args.viewEnd,s,false,isList);_this._colorsMap=getEventMap(s.colors,args.viewStart,args.viewEnd,s);_this._invalidsMap=getEventMap(s.invalid,args.viewStart,args.viewEnd,s,true);_this._validsMap=getEventMap(s.valid,args.viewStart,args.viewEnd,s,true);_this._eventMap=eventMap;_this._firstDay=getFirstDayOfWeek(args.firstDay,s,_this._firstWeekDay);_this._lastDay=args.lastDay;_this._isListLoaded=false;_this._labelsMap=_this._marksMap=UNDEFINED;if(!s.labels&&(_this._showEventLabels||_this._showEventCount)){_this._labelsMap=eventMap}else if(!s.marked){_this._marksMap=eventMap}if(args.viewChanged){_this._hook("onPageLoading",args)}};_this._onPageLoaded=function(args){var viewType=_this._eventListType;if(_this._showEventList&&!(_this._showCalendar&&viewType==="day")){var s=_this.s;var month=args.month;var isMonthList=_this._showEventList&&month&&viewType==="month";var firstDay=isMonthList?month:args.firstDay;var lastDay=isMonthList?s.getDate(s.getYear(month),s.getMonth(month)+_this._eventListSize,1):args.lastDay;_this._setEventList(firstDay,lastDay)}_this._hook("onPageLoaded",args)};_this._onMoreClick=function(args){_this._showPopover(args.key,+args.date,args.list.map((function(event){return _this._getEventData(event.original,new Date(args.date),event.currentResource,event.currentSlot,true)})),args.target,args.context,args.inst)};_this._onPopoverClose=function(args){var state=_this.state;if(state.popoverHost&&args.source==="dragStart"){_this.setState({popoverDrag:true,popoverHidden:true})}else if(!state.popoverHost||args.source!=="scroll"||!state.popoverDrag){_this._hidePopover()}};_this._onResize=function(ev){var isListScrollable;if(_this._showEventList&&isBrowser){var cal=ev.target;var height=cal.offsetHeight;var calTop=cal.getBoundingClientRect().top;var listTop=_this._list.getBoundingClientRect().top;isListScrollable=height-listTop+calTop>170}_this.setState({height:ev.height,isListScrollable:isListScrollable,width:ev.width})};_this._onSelectedEventsChange=function(events){_this._emit("selectedEventsChange",events);_this._hook("onSelectedEventsChange",{events:events})};_this._getDragDates=function(start,end,event){var s=_this.s;var draggedDates={};var firstWeekDay=_this._firstWeekDay;var isExact=_this._eventExact&&!event.allDay;var endDate=getEndDate(s,event.allDay,start,end,!isExact);var until=getDateOnly(addDays(endDate,1));for(var d=getDateOnly(start);d<until;d.setDate(d.getDate()+1)){var weekDay=d.getDay();var offset=firstWeekDay-weekDay>0?7:0;if(isSameDay(start,d)||weekDay===firstWeekDay){var daysNr=getDayDiff(d,endDate)+1;var daysUntilRowEnd=7+firstWeekDay-weekDay-offset;var startOffset=isExact&&isSameDay(start,d)?getDayMilliseconds(start)/ONE_DAY*100:0;var endOffset=isExact&&daysNr<=daysUntilRowEnd?100-(getDayMilliseconds(endDate)+1)/ONE_DAY*100:0;draggedDates[getDateStr(d)]={event:event,id:0,isExact:isExact,position:{left:(s.rtl?UNDEFINED:startOffset)+"%",right:(s.rtl?startOffset:UNDEFINED)+"%",width:Math.min(daysNr,daysUntilRowEnd)*100-startOffset-endOffset+"%"}}}else{draggedDates[getDateStr(d)]={id:0}}}return draggedDates};_this._onLabelUpdateModeOn=function(args){var event=args.create?_this._tempEvent:args.event;var start=makeDate(event.start);var end=makeDate(event.end||start);_this.setState({isTouchDrag:true,labelDragData:{draggedEvent:event,originDates:args.external?UNDEFINED:_this._getDragDates(start,end,event)}})};_this._onLabelUpdateModeOff=function(args){_this._hook("onEventDragEnd",{domEvent:args.domEvent,event:args.create?_this._tempEvent:args.event,source:"calendar"});_this.setState({isTouchDrag:false,labelDragData:UNDEFINED})};_this._onLabelUpdateStart=function(args){var s=_this.s;var el=_this._el;if(s.externalDrag&&args.drag&&!args.create){var eventEl=args.target;if(eventEl){var clone=eventEl.cloneNode(true);var cloneClass=clone.classList;clone.style.display="none";cloneClass.add("mbsc-drag-clone","mbsc-schedule-drag-clone","mbsc-font");cloneClass.remove("mbsc-calendar-label-hover","mbsc-focus","mbsc-active");_this._clone=clone;_this._ctx=getContext(s.context,getDocument(el));_this._ctx.appendChild(clone);_this._eventDropped=false;dragObservable.next(__assign(__assign({},args),{clone:clone,create:true,dragData:args.event,eventName:"onDragStart",external:true,from:_this}))}}var weekNumWidth=_this._showWeekNumbers?el.querySelector(".mbsc-calendar-week-nr").getBoundingClientRect().width:0;var slide=el.querySelectorAll(".mbsc-calendar-slide-active")[0];var slideRect=slide.getBoundingClientRect();var weeksCont=el.querySelector(".mbsc-calendar-week-days");var rows=slide.querySelectorAll(".mbsc-calendar-row");var isClick=/click/.test(args.domEvent.type);_this._areaTop=0;if(weeksCont){var weeksRect=weeksCont.getBoundingClientRect();_this._areaTop=weeksRect.top+weeksRect.height}_this._areaLeft=slideRect.left+(s.rtl?0:weekNumWidth);_this._areaBottom=slideRect.top+slideRect.height;_this._areaRight=_this._areaLeft+slideRect.width-(s.rtl?weekNumWidth:0);_this._calCellWidth=(_this._areaRight-_this._areaLeft)/7;var newWeek=0;_this._rowTops=[];rows.forEach((function(r,i){var rowTop=r.getBoundingClientRect().top-_this._areaTop;_this._rowTops.push(rowTop);if(args.endY-_this._areaTop>rowTop){newWeek=i}}));if(args.create){var newDay=floor((s.rtl?_this._areaRight-args.endX:args.endX-_this._areaLeft)/_this._calCellWidth);var newStartDay=addDays(_this._firstDay,newWeek*7+newDay);var newStart=new Date(newStartDay.getFullYear(),newStartDay.getMonth(),newStartDay.getDate());var nextDay=addDays(newStart,1);var newEnd=s.exclusiveEndDates?nextDay:new Date(+nextDay-1);var eventData=s.extendDefaultEvent?s.extendDefaultEvent({start:newStart}):UNDEFINED;_this._tempEvent=__assign(__assign({allDay:!_this._eventExact,end:newEnd,id:getEventId(),start:newStart,title:s.newEventText},eventData),args.dragData)}if(!isClick){_this._hook("onEventDragStart",{action:args.create?"create":args.resize?"resize":"move",domEvent:args.domEvent,event:args.create?_this._tempEvent:args.event,source:"calendar"})}};_this._onLabelUpdateMove=function(args){var s=_this.s;var event=args.create?_this._tempEvent:args.event;var draggedEvent=__assign({},event);var labelDragData=_this.state.labelDragData;var tzOpt=event.allDay?UNDEFINED:s;if(s.externalDrag&&args.drag&&!args.create&&_this._clone){dragObservable.next(__assign(__assign({},args),{clone:_this._clone,create:true,dragData:args.event,eventName:"onDragMove",external:true,from:_this}));if(!_this._onCalendar){moveClone(args,_this._clone);if(!labelDragData||!labelDragData.draggedEvent){_this.setState({labelDragData:{draggedEvent:draggedEvent},popoverHidden:true})}return}}if(args.endY>_this._areaTop&&args.endY<_this._areaBottom&&args.endX>_this._areaLeft&&args.endX<_this._areaRight){var newDay=floor((s.rtl?_this._areaRight-args.endX:args.endX-_this._areaLeft)/_this._calCellWidth);var oldDay=floor((s.rtl?_this._areaRight-args.startX:args.startX-_this._areaLeft)/_this._calCellWidth);var newWeek_1=0;var oldWeek_1=0;_this._rowTops.forEach((function(rowTop,i){if(args.startY-_this._areaTop>rowTop){oldWeek_1=i}if(args.endY-_this._areaTop>rowTop){newWeek_1=i}}));var dayDelta=(newWeek_1-oldWeek_1)*7+(newDay-oldDay);if(newDay!==_this._tempDay||newWeek_1!==_this._tempWeek){var start=makeDate(event.start,tzOpt);var end=makeDate(event.end,tzOpt)||start;var isEventDraggableInTime=computeEventDragInTime(event.dragInTime,UNDEFINED,s.dragInTime);var newStart=start;var newEnd=end;if(args.external){var ms=getDayMilliseconds(start);var duration=+end-+start;if(isEventDraggableInTime){newStart=createDate$1(s,+addDays(_this._firstDay,newWeek_1*7+newDay)+ms);newEnd=createDate$1(s,+newStart+duration)}}else if(args.drag){if(!isEventDraggableInTime){return}newStart=addDays(start,dayDelta);newEnd=addDays(end,dayDelta)}else{var rtl=s.rtl?-1:1;var endResize=args.create?newWeek_1===oldWeek_1?args.deltaX*rtl>0:dayDelta>0:args.direction==="end";var days=getDayDiff(start,end);if(endResize){newEnd=addDays(end,Math.max(-days,dayDelta))}else{newStart=addDays(start,Math.min(days,dayDelta))}if(newEnd<=newStart){var dragEvent=labelDragData?labelDragData.draggedEvent:draggedEvent;if(endResize){newEnd=createDate$1(tzOpt,_this._eventExact?dragEvent.end:newStart)}else{newStart=createDate$1(tzOpt,_this._eventExact?dragEvent.start:newEnd)}}}draggedEvent.start=newStart;draggedEvent.end=newEnd;_this.setState({labelDragData:{draggedDates:_this._getDragDates(newStart,newEnd,draggedEvent),draggedEvent:draggedEvent,originDates:labelDragData&&labelDragData.originDates},popoverHidden:true});_this._tempDay=newDay;_this._tempWeek=newWeek_1}}};_this._onLabelUpdateEnd=function(args){var s=_this.s;var state=_this.state;var isCreating=args.create;var dragData=state.labelDragData||{};var event=isCreating?_this._tempEvent:args.event;var draggedEvent=dragData.draggedEvent||event;var origStart=makeDate(event.start);var origEnd=makeDate(event.end);var newStart=makeDate(draggedEvent.start);var newEnd=makeDate(draggedEvent.end);var changed=isCreating||+origStart!==+newStart||+origEnd!==+newEnd;var draggedEventData={allDay:event.allDay,endDate:newEnd,original:event,startDate:newStart};var eventLeft=false;if(s.externalDrag&&args.drag&&!args.create&&_this._clone){dragObservable.next(__assign(__assign({},args),{action:"externalDrop",clone:_this._clone,create:true,dragData:args.event,eventName:"onDragEnd",external:true,from:_this}));_this._ctx.removeChild(_this._clone);_this._clone=UNDEFINED;if(!_this._onCalendar){eventLeft=true;if(_this._eventDropped){_this._onEventDelete(args)}}}var action=args.action||(dragData.draggedEvent?"drag":"click");var allowUpdate=!eventLeft&&(changed?_this._onEventDragStop({action:action,collision:checkInvalidCollision(s,_this._invalidsMap,_this._validsMap,newStart,newEnd,_this._minDate,_this._maxDate,s.invalidateEvent,s.exclusiveEndDates),create:isCreating,domEvent:args.domEvent,event:draggedEventData,external:args.external,from:args.from,overlap:checkOverlap(event,newStart,newEnd,_this._eventMap,_this._eventExact,s),source:"calendar"}):true);var keepDragMode=state.isTouchDrag&&!eventLeft&&(!isCreating||allowUpdate);if(!keepDragMode&&action!=="click"){_this._hook("onEventDragEnd",{domEvent:args.domEvent,event:event,source:"calendar"})}_this.setState({isTouchDrag:keepDragMode,labelDragData:keepDragMode?{draggedEvent:allowUpdate?draggedEvent:__assign({},event),originDates:allowUpdate?_this._getDragDates(newStart,newEnd,draggedEventData.original):dragData.originDates}:{}});if(args.drag){_this._hidePopover()}_this._tempWeek=-1;_this._tempDay=-1};_this._onEventDragStop=function(args){var s=_this.s;var action=args.action;var resource=args.resource;var slot=args.slot;var invalidCollision=args.collision;var overlapCollision=args.overlap;var isCreating=args.create;var source=args.source;var draggedEvent=args.event;var event=draggedEvent.original;var orig=event.recurring?event.original:event;var originalEvent=s.immutableData?__assign({},orig):orig;var oldEvent=__assign({},originalEvent);var eventCopy=__assign({},originalEvent);var eventTz=event.timezone;var origStart=convertTimezone(event.start,s,eventTz);var start=convertTimezone(draggedEvent.startDate,s,eventTz);var end=convertTimezone(draggedEvent.endDate,s,eventTz);var allDay=draggedEvent.allDay;var isRecurring=eventCopy.recurring;if(isRecurring){eventCopy.recurringException=__spreadArray(__spreadArray([],getExceptionList(eventCopy.recurringException),true),[origStart],false)}else{eventCopy.allDay=allDay;eventCopy.start=start;eventCopy.end=end;if(resource!==UNDEFINED){eventCopy.resource=resource}if(slot!==UNDEFINED){eventCopy.slot=slot}}var allowUpdate=false;var newEvent=isRecurring?__assign({},originalEvent):originalEvent;if(isCreating||isRecurring){if(isRecurring){delete newEvent.recurring}if(isRecurring||newEvent.id===UNDEFINED){newEvent.id=getEventId()}if(resource!==UNDEFINED){newEvent.resource=resource}if(slot!==UNDEFINED){newEvent.slot=slot}newEvent.start=start;newEvent.end=end;newEvent.allDay=allDay;allowUpdate=_this._hook("onEventCreate",__assign({action:action,domEvent:args.domEvent,event:newEvent,resourceObj:args.resourceObj,slotObj:args.slotObj,source:source},isRecurring&&{originEvent:event}))!==false;if(invalidCollision!==false||overlapCollision!==false){allowUpdate=false;_this._hook("onEventCreateFailed",__assign({action:action,event:newEvent,invalid:invalidCollision,overlap:overlapCollision,source:source},isRecurring&&{originEvent:event}))}}if((!isCreating||isRecurring)&&!args.external){allowUpdate=_this._hook("onEventUpdate",__assign({domEvent:args.domEvent,event:eventCopy,oldEvent:oldEvent,oldResource:args.oldResource,oldResourceObj:args.oldResourceObj,oldSlot:args.oldSlot,oldSlotObj:args.oldSlotObj,resource:args.newResource,resourceObj:args.resourceObj,slot:args.newSlot,slotObj:args.slotObj,source:source},isRecurring&&{newEvent:newEvent,oldEventOccurrence:event}))!==false;if(invalidCollision!==false||overlapCollision!==false){allowUpdate=false;_this._hook("onEventUpdateFailed",__assign({event:eventCopy,invalid:invalidCollision,oldEvent:oldEvent,overlap:overlapCollision,source:source},isRecurring&&{newEvent:newEvent,oldEventOccurrence:event}))}}if(allowUpdate){if(args.from){args.from._eventDropped=true}if(isCreating||isRecurring){_this._events.push(newEvent);_this._triggerCreated={action:action,event:newEvent,resourceObj:args.resourceObj,slotObj:args.slotObj,source:source}}if(!isCreating||isRecurring){if(isRecurring){draggedEvent.id=newEvent.id;draggedEvent.original=newEvent;originalEvent.recurringException=eventCopy.recurringException}else{originalEvent.start=start;originalEvent.end=end;originalEvent.allDay=allDay;if(resource!==UNDEFINED){originalEvent.resource=resource}if(slot!==UNDEFINED){originalEvent.slot=slot}}_this._triggerUpdated={event:originalEvent,oldEvent:oldEvent,resourceObj:args.resourceObj,slotObj:args.slotObj,source:source}}_this._refresh=true;if(source!=="calendar"){_this.forceUpdate()}}else{_this._hidePopover()}return allowUpdate};_this._onExternalDrag=function(args){var s=_this.s;var clone=args.clone;var isSelf=args.from===_this;var externalDrop=!isSelf&&s.externalDrop;var instantDrag=isSelf&&s.externalDrag&&!s.dragToMove;var dragData=_this.state.labelDragData;if(_this._showCalendar&&(externalDrop||s.externalDrag)){var isInArea=!instantDrag&&args.endY>_this._areaTop&&args.endY<_this._areaBottom&&args.endX>_this._areaLeft&&args.endX<_this._areaRight;switch(args.eventName){case"onDragModeOff":if(externalDrop){_this._onLabelUpdateModeOff(args)}break;case"onDragModeOn":if(externalDrop){_this._onLabelUpdateModeOn(args)}break;case"onDragStart":if(externalDrop){_this._onLabelUpdateStart(args)}else if(isSelf){_this._onCalendar=true}break;case"onDragMove":if(!isSelf&&!externalDrop){return}if(isInArea){if(!_this._onCalendar){_this._hook("onEventDragEnter",{domEvent:args.domEvent,event:args.dragData,source:"calendar"})}if(isSelf||externalDrop){clone.style.display="none"}if(externalDrop){_this._onLabelUpdateMove(args)}_this._onCalendar=true}else if(_this._onCalendar){_this._hook("onEventDragLeave",{domEvent:args.domEvent,event:args.dragData,source:"calendar"});clone.style.display="";if(!isSelf||dragData&&dragData.draggedEvent){_this.setState({labelDragData:{draggedDates:{},draggedEvent:isSelf?dragData&&dragData.draggedEvent:UNDEFINED,originDates:isSelf?dragData&&dragData.originDates:UNDEFINED}})}_this._tempWeek=-1;_this._tempDay=-1;_this._onCalendar=false}break;case"onDragEnd":if(externalDrop){if(!isInArea){_this.setState({labelDragData:UNDEFINED});_this._hook("onEventDragEnd",{domEvent:args.domEvent,event:args.dragData,source:"calendar"})}else{_this._onLabelUpdateEnd(args)}}break}}};_this._onEventDelete=function(args){var _a;var s=_this.s;if(s.eventDelete===UNDEFINED&&!s.dragToCreate&&!s.clickToCreate||s.eventDelete===false){return}var changed=false;var hasRecurring=false;var hasNonRecurring=false;var originalEvent;var oldEvent;var eventCopy;var event=args.event;var occurrence=event;var isMultiple=s.selectMultipleEvents;var selectedEventsMap=isMultiple?_this._selectedEventsMap:(_a={},_a[event.id]=event,_a);var selectedEvents=toArray(selectedEventsMap);var oldEvents=[];var recurringEvents=[];var updatedEvents=[];var updatedEventsMap={};var events=[];for(var _i=0,selectedEvents_1=selectedEvents;_i<selectedEvents_1.length;_i++){var selectedEvent=selectedEvents_1[_i];if(selectedEvent.recurring){occurrence=selectedEvent;originalEvent=selectedEvent.original;hasRecurring=true;var id=originalEvent.id;if(updatedEventsMap[id]){eventCopy=updatedEventsMap[id]}else{oldEvent=__assign({},originalEvent);eventCopy=__assign({},originalEvent);recurringEvents.push(originalEvent);oldEvents.push(oldEvent);updatedEvents.push(eventCopy);updatedEventsMap[id]=eventCopy}var origStart=convertTimezone(selectedEvent.start,s);eventCopy.recurringException=__spreadArray(__spreadArray([],getExceptionList(eventCopy.recurringException),true),[origStart],false)}else{hasNonRecurring=true;event=selectedEvent;events.push(selectedEvent)}}if(hasRecurring){var allowUpdate=_this._hook("onEventUpdate",{domEvent:args.domEvent,event:eventCopy,events:isMultiple?updatedEvents:UNDEFINED,isDelete:true,oldEvent:isMultiple?UNDEFINED:oldEvent,oldEventOccurrence:occurrence,oldEvents:isMultiple?oldEvents:UNDEFINED,oldResource:args.resource,oldResourceObj:args.resourceObj,oldSlot:args.slot,oldSlotObj:args.oldSlotObj,resource:args.resource,resourceObj:args.resourceObj,slot:args.slot,slotObj:args.slotObj,source:args.source})!==false;if(allowUpdate){changed=true;for(var _b=0,recurringEvents_1=recurringEvents;_b<recurringEvents_1.length;_b++){var recurringEvent=recurringEvents_1[_b];var updatedEvent=updatedEventsMap[recurringEvent.id];recurringEvent.recurringException=updatedEvent.recurringException}_this._triggerUpdated={event:originalEvent,events:isMultiple?recurringEvents:UNDEFINED,oldEvent:isMultiple?UNDEFINED:oldEvent,oldEvents:isMultiple?oldEvents:UNDEFINED,resourceObj:args.resourceObj,slotObj:args.slotObj,source:args.source}}}if(hasNonRecurring){var allowDelete=_this._hook("onEventDelete",{domEvent:args.domEvent,event:event,events:isMultiple?events:UNDEFINED,source:args.source})!==false;if(allowDelete){changed=true;_this._events=_this._events.filter((function(e){return!selectedEventsMap[e.id]}));_this._selectedEventsMap={};_this._triggerDeleted={event:event,events:isMultiple?events:UNDEFINED,source:args.source}}}if(changed){_this._hidePopover();_this.refresh()}};_this._setEl=function(el){_this._el=el?el._el||el:null;_this._calendarView=el};_this._setList=function(el){_this._list=el};_this._setPopoverList=function(list){_this._popoverList=list&&list._el};_this._onKeyDown=function(ev){if(ev.keyCode===TAB){_this._resetSelection()}};return _this}EventcalendarBase.prototype.addEvent=function(events){var eventsToAdd=isArray(events)?events:[events];var ids=[];var data=prepareEvents(eventsToAdd);for(var _i=0,data_1=data;_i<data_1.length;_i++){var event_1=data_1[_i];ids.push(""+event_1.id);this._events.push(event_1)}this.refresh();return ids};EventcalendarBase.prototype.getEvents=function(start,end){return getDataInRange(this._events,this.s,this._firstDay,this._lastDay,start,end)};EventcalendarBase.prototype.getInvalids=function(start,end){return getDataInRange(this.s.invalid,this.s,this._firstDay,this._lastDay,start,end)};EventcalendarBase.prototype.getSelectedEvents=function(){return toArray(this._selectedEventsMap)};EventcalendarBase.prototype.setEvents=function(events){var ids=[];var data=prepareEvents(events);for(var _i=0,data_2=data;_i<data_2.length;_i++){var event_2=data_2[_i];ids.push(""+event_2.id)}this._events=data;this.refresh();return ids};EventcalendarBase.prototype.getViewDate=function(){return makeDate(this._viewMiddleDate||this._viewDate)};EventcalendarBase.prototype.setSelectedEvents=function(selectedEvents){this._selectedEventsMap=(selectedEvents||[]).reduce((function(map,ev){if(ev.occurrenceId){map[ev.occurrenceId]=ev}else{map[ev.id]=ev}return map}),{});this.forceUpdate()};EventcalendarBase.prototype.removeEvent=function(events){var eventsToRemove=isArray(events)?events:[events];var data=this._events;var len=data.length;for(var _i=0,eventsToRemove_1=eventsToRemove;_i<eventsToRemove_1.length;_i++){var eventToRemove=eventsToRemove_1[_i];var found=false;var i=0;while(!found&&i<len){var event_3=data[i];if(event_3.id===eventToRemove||event_3.id===eventToRemove.id){found=true;data.splice(i,1)}i++}}this.refresh()};EventcalendarBase.prototype.navigateToEvent=function(event){this._navigateToEvent=event;this._shouldScrollSchedule++;this.navigate(event.start,true)};EventcalendarBase.prototype.navigate=function(date,animate){var d=+makeDate(date);var isNavigate=this._navigateToEvent!==UNDEFINED;var changed=d!==this._selectedDateTime;if(changed||isNavigate){this._shouldAnimateScroll=!!animate}if(this.s.selectedDate===UNDEFINED){if((this._showSchedule||this._showTimeline)&&!changed){this._shouldScrollSchedule++;this.forceUpdate()}else{this._selectedDateTime=d;this.setState({selectedDate:d})}}else if(changed||isNavigate){this._selectedChange(d)}};EventcalendarBase.prototype.updateEvent=function(events){var eventsToUpdate=isArray(events)?events:[events];var data=this._events;var len=data.length;for(var _i=0,eventsToUpdate_1=eventsToUpdate;_i<eventsToUpdate_1.length;_i++){var eventToUpdate=eventsToUpdate_1[_i];var found=false;var i=0;while(!found&&i<len){var event_4=data[i];if(event_4.id===eventToUpdate.id){found=true;data.splice(i,1,__assign({},eventToUpdate))}i++}}this.refresh()};EventcalendarBase.prototype.refresh=function(){this._refresh=true;this.forceUpdate()};EventcalendarBase.prototype._render=function(s,state){var _this=this;var prevProps=this._prevS;var showDate=this._showDate;var timezonesChanged=s.displayTimezone!==prevProps.displayTimezone||s.dataTimezone!==prevProps.dataTimezone;var renderList=false;var selectedChanged=false;var selectedDateTime;var viewChanged=this._tempViewChanged;this._tempViewChanged=false;this._colorEventList=s.eventTemplate!==UNDEFINED||s.renderEvent!==UNDEFINED?false:s.colorEventList;if(s.exclusiveEndDates===UNDEFINED){s.exclusiveEndDates=!!s.displayTimezone}if(!isEmpty(s.min)){if(prevProps.min!==s.min){this._minDate=+makeDate(s.min)}}else{this._minDate=-Infinity}if(!isEmpty(s.max)){if(prevProps.max!==s.max){this._maxDate=+makeDate(s.max)}}else{this._maxDate=Infinity}if(s.selectedDate!==UNDEFINED){if(s.selectedDate!==prevProps.selectedDate){selectedDateTime=+makeDate(s.selectedDate);this._selectedChanged=selectedDateTime!==this._selectedDateTime}else{selectedDateTime=this._selectedDateTime}}else{if(!this._defaultDate){this._defaultDate=+(s.defaultSelectedDate!==UNDEFINED?makeDate(s.defaultSelectedDate):removeTimezone(createDate$1(s)));this._selectedChanged=true}selectedDateTime=this._selectedDateTime||this._defaultDate}if(s.data!==prevProps.data){this._events=s.immutableData?__spreadArray([],s.data||[],true):prepareEvents(s.data);this._refresh=true}if(s.invalid!==prevProps.invalid||s.colors!==prevProps.colors||timezonesChanged){this._refresh=true}if(JSON.stringify(s.view)!==JSON.stringify(prevProps.view)||s.firstDay!==prevProps.firstDay||s.dragTimeStep!==prevProps.dragTimeStep||s.zoomLevel!==prevProps.zoomLevel){var config={c:"eventcalendar",dragTimeStep:s.dragTimeStep,eventExact:this._eventExact,eventListSize:this._eventListSize,eventListType:this._eventListType,firstDay:s.firstDay,resourcesLength:s.resources?s.resources.length:0,scheduleEndDay:this._scheduleEndDay,scheduleEndTime:this._scheduleEndTime,scheduleMaxEventStack:this._scheduleMaxEventStack,scheduleMinEventWidth:this._scheduleMinEventWidth,scheduleSize:this._scheduleSize,scheduleStartDay:this._scheduleStartDay,scheduleStartTime:this._scheduleStartTime,scheduleTimeCellStep:this._scheduleTimeCellStep,scheduleTimeLabelStep:this._scheduleTimeLabelStep,scheduleTimezones:this._scheduleTimezones,scheduleType:this._scheduleType,showCalendar:this._showCalendar,showEmptyDays:this._showEmptyDays,showEventCount:this._showEventCount,showEventLabels:this._showEventLabels,showEventList:this._showEventList,showMarked:!!s.marked,showSchedule:this._showSchedule,showScheduleDays:this._showScheduleDays,showTimeline:this._showTimeline,slotsLength:s.slots?s.slots.length:0,timelineColWidth:this._timelineColWidth,timelineEndDay:this._timelineEndDay,timelineEndTime:this._timelineEndTime,timelineListing:this._timelineListing,timelineResolution:this._timelineResolution,timelineResolutionVertical:this._timelineResolutionVertical,timelineResourceOrder:this._timelineResourceOrder,timelineSize:this._timelineSize,timelineStartDay:this._timelineStartDay,timelineStartTime:this._timelineStartTime,timelineTimeCellStep:this._timelineTimeCellStep,timelineTimeLabelStep:this._timelineTimeLabelStep,timelineType:this._timelineType,v:version,view:s.view,zoomLevel:s.zoomLevel};this._remote++;sendLog(this);jsonp$1("remote",this,config,(function(data){_this._remote--;if(!_this._remote){for(var _i=0,_a=Object.keys(data);_i<_a.length;_i++){var key=_a[_i];_this[key]=data[key]}showMessage(data.notification);_this._tempViewChanged=data._viewChanged;_this.forceUpdate()}}),"comp_"+this._uid)}this._showDate=!this._showScheduleDays&&this._showSchedule&&this._scheduleType==="day";var lastPageLoad=this._pageLoad;if(this._refresh||s.locale!==prevProps.locale||s.theme!==prevProps.theme){renderList=true;this._pageLoad++}if(s.resources!==prevProps.resources){this._resourcesMap=(s.resources||[]).reduce((function(map,res){map[res.id]=res;return map}),{})}if(s.selectMultipleEvents){if(s.selectedEvents!==prevProps.selectedEvents){this._selectedEventsMap=(s.selectedEvents||[]).reduce((function(map,ev){if(ev.occurrenceId){map[ev.occurrenceId]=ev}else{map[ev.id]=ev}return map}),{})}}if(this._selectedEventsMap===UNDEFINED){this._selectedEventsMap={}}if(s.refDate!==prevProps.refDate){this._refDate=makeDate(s.refDate)}if(!this._refDate&&!this._showCalendar&&(this._showSchedule||this._showTimeline)){this._refDate=getDateOnly(new Date)}if(s.cssClass!==prevProps.cssClass||s.className!==prevProps.className||s.class!==prevProps.class){this._checkSize++;this._viewChanged=viewChanged=true}if(s.zoomLevel!==prevProps.zoomLevel){this._viewDate=this._viewMiddleDate}if(this._selectedChanged){this._viewDate=selectedDateTime}if(viewChanged&&this._viewDate&&this._viewDate!==selectedDateTime){selectedChanged=true;selectedDateTime=this._viewDate}if(this._selectedChanged||viewChanged){var validated=this._showCalendar&&(this._showSchedule||this._showTimeline||this._showEventList)?+getClosestValidDate(new Date(selectedDateTime),s,this._minDate,this._maxDate,UNDEFINED,UNDEFINED,1):constrain(selectedDateTime,this._minDate,this._maxDate);validated=this._getValidDay(validated);if(selectedDateTime!==validated||selectedChanged){selectedDateTime=validated;setTimeout((function(){_this._selectedChange(selectedDateTime)}))}if(!this._skipScheduleScroll){this._shouldScrollSchedule++}this._selectedDateTime=selectedDateTime;this._selectedChanged=false}var selectedDate=getDateOnly(new Date(selectedDateTime));var selected=+selectedDate;if(selected!==this._selected||showDate!==this._showDate||s.locale!==prevProps.locale||prevProps.dateFormatLong!==s.dateFormatLong){this._selectedDateHeader=this._showDate?formatDate(s.dateFormatLong,selectedDate,s):""}if(selected!==this._selected||s.dataTimezone!==prevProps.dataTimezone||s.displayTimezone!==prevProps.displayTimezone){this._shouldAnimateScroll=this._shouldAnimateScroll!==UNDEFINED?this._shouldAnimateScroll:this._selected!==UNDEFINED;this._selected=selected;this._selectedDates={};this._selectedDates[+addTimezone(s,new Date(selected))]=true;this._active=selected;renderList=true;selectedChanged=true}if(selectedChanged){this._shouldScroll=!this._shouldSkipScroll}if(renderList&&this._showCalendar&&(this._eventListType==="day"||this._scheduleType==="day"||this._timelineType==="day")){this._setEventList(selectedDate,addDays(selectedDate,1))}if(this._refresh&&state.showPopover){setTimeout((function(){_this._hidePopover()}))}this._refresh=false;this._cssClass=this._className+" mbsc-eventcalendar"+(this._showEventList?" mbsc-eventcalendar-agenda":"")+(this._showSchedule?" mbsc-eventcalendar-schedule":"")+(this._showTimeline?" mbsc-eventcalendar-timeline":"");this._navService.options({activeDate:this._active,calendarType:this._calendarType,endDay:this._showSchedule?this._scheduleEndDay:this._showTimeline?this._timelineEndDay:this._rangeEndDay,eventRange:this._rangeType,eventRangeSize:this._showSchedule?this._scheduleSize:this._showTimeline?this._timelineSize:this._eventListSize,firstDay:s.firstDay,getDate:s.getDate,getDay:s.getDay,getMonth:s.getMonth,getYear:s.getYear,max:s.max,min:s.min,onPageChange:this._onPageChange,onPageLoading:this._onPageLoading,refDate:this._refDate,resolution:this._timelineResolution,showCalendar:this._showCalendar,showOuterDays:this._showOuterDays,size:this._calendarSize,startDay:this._rangeStartDay,weeks:this._calendarSize},this._pageLoad!==lastPageLoad)};EventcalendarBase.prototype._mounted=function(){this._unsubscribe=subscribeExternalDrag(this._onExternalDrag);listen(this._el,KEY_DOWN,this._onKeyDown)};EventcalendarBase.prototype._updated=function(){var _this=this;if(this._shouldScroll&&this._isListLoaded&&this.state.isListScrollable){ngSetTimeout(this,(function(){_this._scrollToDay();_this._shouldAnimateScroll=UNDEFINED}));this._shouldScroll=false}if(this._shouldLoadDays){this._shouldLoadDays=false;forEach(this._list.querySelectorAll("[mbsc-timestamp]"),(function(listItem){_this._listDays[listItem.getAttribute("mbsc-timestamp")]=listItem}))}if(this._shouldEnhance){this._shouldEnhance=this._shouldEnhance==="popover"?this._popoverList:this._list}if(this._triggerCreated){var created=this._triggerCreated;var target=created.source==="calendar"?this._calendarView._body.querySelector('.mbsc-calendar-table-active .mbsc-calendar-text[data-id="'.concat(created.event.id,'"]')):this._el.querySelector('.mbsc-schedule-event[data-id="'.concat(created.event.id,'"]'));this._hook("onEventCreated",__assign(__assign({},this._triggerCreated),{target:target}));this._triggerCreated=null}if(this._triggerUpdated){var updated=this._triggerUpdated;var target=updated.source==="calendar"?this._calendarView._body.querySelector('.mbsc-calendar-table-active .mbsc-calendar-text[data-id="'.concat(updated.event.id,'"]')):this._el.querySelector('.mbsc-schedule-event[data-id="'.concat(updated.event.id,'"]'));this._hook("onEventUpdated",__assign(__assign({},this._triggerUpdated),{target:target}));this._triggerUpdated=null}if(this._triggerDeleted){this._hook("onEventDeleted",__assign({},this._triggerDeleted));this._triggerDeleted=null}if(this._viewChanged){setTimeout((function(){_this._viewChanged=false}),10)}if(this._shouldSkipScroll){setTimeout((function(){_this._shouldSkipScroll=false}))}if(this._navigateToEvent){setTimeout((function(){_this._navigateToEvent=UNDEFINED}))}this._skipScheduleScroll=false};EventcalendarBase.prototype._destroy=function(){if(this._unsubscribe){unsubscribeExternalDrag(this._unsubscribe)}unlisten(this._el,KEY_DOWN,this._onKeyDown)};EventcalendarBase.prototype._resetSelection=function(){if(this.s.selectMultipleEvents&&Object.keys(this._selectedEventsMap).length>0){this._selectedEventsMap={};this._onSelectedEventsChange([]);this.forceUpdate()}};EventcalendarBase.prototype._getAgendaEvents=function(firstDay,lastDay,eventMap){var _this=this;var events=[];var s=this.s;var nr=0;if(eventMap&&this._showEventList){var _loop_1=function(d){var eventsForDay=eventMap[getDateStr(d)]||[];var sorted=sortEvents(eventsForDay,s);nr+=eventsForDay.length;events.push({date:formatDate(s.dateFormatLong,d,s),dateObj:new Date(d),events:sorted.map((function(event){return _this._getEventData(event,d)})),timestamp:+d})};for(var d=getDateOnly(firstDay);d<lastDay;d.setDate(d.getDate()+1)){_loop_1(d)}}this._eventListNr=nr;return events};EventcalendarBase.prototype._getEventData=function(event,d,res,slot,full){var s=this.s;var isList=!this._showCalendar||!this._eventExact;if(!event.color&&event.resource&&res===UNDEFINED){res=(this._resourcesMap||{})[isArray(event.resource)?event.resource[0]:event.resource]}return getEventData(s,event,d,this._colorEventList,res,slot,isList,true,false,false,full)};EventcalendarBase.prototype._getValidDay=function(timestamp,dir){if(dir===void 0){dir=1}var startDay=this._rangeStartDay;var endDay=this._rangeEndDay;if(!this._showCalendar&&this._rangeType==="day"&&startDay!==UNDEFINED&&endDay!==UNDEFINED){var date=new Date(timestamp);var day=date.getDay();var diff=0;if(endDay<startDay?day>endDay&&day<startDay:day>endDay||day<startDay){diff=dir<0?endDay-day:startDay-day}if(diff){diff+=dir<0?diff>0?-7:0:diff<0?7:0;return+addDays(date,diff)}}return timestamp};EventcalendarBase.prototype._setEventList=function(firstDay,lastDay){var _this=this;setTimeout((function(){var eventList=_this._getAgendaEvents(firstDay,lastDay,_this._eventMap);_this._eventListHTML=UNDEFINED;_this._shouldScroll=_this._viewChanged;_this._isListLoaded=!!_this._eventListNr;_this._listDays=null;_this.setState({eventList:eventList})}))};EventcalendarBase.prototype._showPopover=function(key,date,list,anchor,context,inst){var _this=this;if(!this.state.showPopover||key!==this.state.popoverKey){setTimeout((function(){_this._anchor=anchor;_this.setState({popoverContext:context,popoverDate:date,popoverHidden:false,popoverHost:inst,popoverKey:key,popoverList:list,showPopover:true})}))}};EventcalendarBase.prototype._hidePopover=function(){if(this.state.showPopover){this.setState({popoverDrag:false,showPopover:false})}};EventcalendarBase.prototype._scrollToDay=function(){var _this=this;if(this._list){var to=void 0;if(this._listDays){var day=this._listDays[this._selected];var eventId=this._navigateToEvent&&this._navigateToEvent.id;if(day){to=day.offsetTop;if(eventId!==UNDEFINED){var event_5=day.querySelector('.mbsc-event[data-id="'.concat(eventId,'"]'));var dayHeader=day.querySelector(".mbsc-event-day");if(event_5){to=event_5.offsetTop-(dayHeader?dayHeader.offsetHeight:0)+1}}}}if(to!==UNDEFINED){this._isListScrolling++;smoothScroll(this._list,UNDEFINED,to,this._shouldAnimateScroll,false,(function(){setTimeout((function(){_this._isListScrolling--}),150)}))}}};EventcalendarBase.prototype._selectedChange=function(d,setChanged,skipState){var date=new Date(d);if(this.s.selectedDate===UNDEFINED){this._selectedDateTime=d;this._selectedChanged=setChanged;if(!skipState){this.setState({selectedDate:+d})}}this._emit("selectedDateChange",date);this._hook("onSelectedDateChange",{date:date})};EventcalendarBase.prototype._cellClick=function(name,args){this._hook(name,__assign({target:args.domEvent.currentTarget},args))};EventcalendarBase.prototype._dayClick=function(name,args){var d=getDateStr(args.date);var events=sortEvents(this._eventMap[d],this.s);args.events=events;this._hook(name,args)};EventcalendarBase.prototype._labelClick=function(name,args){if(args.label){this._hook(name,{date:args.date,domEvent:args.domEvent,event:args.label,source:"calendar",target:args.target})}};EventcalendarBase.prototype._eventClick=function(name,args){args.date=new Date(args.date);return this._hook(name,args)};EventcalendarBase.prototype._handleMultipleSelect=function(args){var event=args.label||args.event;if(event&&this.s.selectMultipleEvents){var domEvent=args.domEvent;var selectedEvents=!domEvent.shiftKey&&!domEvent.ctrlKey&&!domEvent.metaKey?{}:this._selectedEventsMap;var eventId=event.occurrenceId||event.id;if(selectedEvents[eventId]){delete selectedEvents[eventId]}else{selectedEvents[eventId]=event}this._selectedEventsMap=__assign({},selectedEvents);this._onSelectedEventsChange(toArray(selectedEvents));if(this.s.selectedEvents===UNDEFINED){this.forceUpdate()}}};EventcalendarBase.defaults=__assign(__assign({},calendarViewDefaults),{actionableEvents:true,allDayText:"All-day",data:[],newEventText:"New event",noEventsText:"No events",showControls:true,showEventTooltip:true,view:{calendar:{type:"month"}}});EventcalendarBase._name="Eventcalendar";EventcalendarBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:EventcalendarBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});EventcalendarBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:EventcalendarBase,selector:"[mbsc-ec-b]",usesInheritance:true,ngImport:i0});return EventcalendarBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:EventcalendarBase,decorators:[{type:Directive,args:[{selector:"[mbsc-ec-b]"}]}]});var DEF_ID="mbsc-def";function checkCollision(data,start,end,allDay,noAllDayOverlap,invalidateEvent,s){var showBuffer=s.showEventBuffer!==false;var onlyStartEnd=invalidateEvent==="start-end";var until=s.exclusiveEndDates?end:getDateOnly(addDays(end,1));for(var _i=0,_a=Object.keys(data);_i<_a.length;_i++){var r=_a[_i];var resourceData=data[r];for(var d=getDateOnly(start);d<until;d.setDate(d.getDate()+1)){var dayData=resourceData[getDateStr(d)];if(dayData){if((allDay||noAllDayOverlap)&&dayData.allDay[0]&&(!onlyStartEnd||isSameDay(d,start)||isSameDay(d,end))){return dayData.allDay[0].original}if(!allDay){for(var _b=0,_c=dayData.data;_b<_c.length;_b++){var item=_c[_b];var original=item.original;var startDate=showBuffer&&item.bufferStart?item.bufferStart:item.startDate;var endDate=showBuffer&&item.bufferEnd?item.bufferEnd:item.endDate;if(onlyStartEnd){if(checkDateRangeOverlap(startDate,endDate,start,start,true)){return original}if(checkDateRangeOverlap(startDate,endDate,end,end)){return original}}else if(checkDateRangeOverlap(startDate,endDate,start,end)){return original}}}}}}return false}function getEventLayoutStart(event,s,isListing,isTimeline,isDailyResolution,firstDay,cols,colIndexMap,showBuffer){var eventAllDay=event.allDay||isListing;var startDate=showBuffer&&event.bufferStart?event.bufferStart:event.startDate;if(isTimeline&&isListing&&!isDailyResolution){var startCol=colIndexMap[getDateStr(startDate)];return startDate<firstDay?firstDay:cols[startCol+(isInWeek(startDate.getDay(),s.startDay,s.endDay)?0:1)].date}return eventAllDay?createDate$1(s,startDate.getFullYear(),startDate.getMonth(),startDate.getDate()):startDate}function getEventLayoutEnd(event,s,isListing,isTimeline,isDailyResolution,lastDay,cols,colIndexMap,showBuffer){var eventAllDay=event.allDay||isListing;var endDate=showBuffer&&event.bufferEnd?event.bufferEnd:event.endDate;if(isTimeline&&isListing&&!isDailyResolution){var endCol=colIndexMap[getDateStr(getEndDate(s,event.allDay,event.startDate,endDate))];var endD=endDate>=lastDay||endCol>=cols.length-1?lastDay:cols[endCol+1].date;return getEndDate(s,false,event.startDate,endD)}var eEnd=eventAllDay?getEndDate(s,event.allDay,event.startDate,endDate):endDate;return eventAllDay?createDate$1(s,eEnd.getFullYear(),eEnd.getMonth(),eEnd.getDate(),23,59,59,999):eEnd}function calcLayout(s,groups,event,next,maxEventStack){var pushed=false;for(var _i=0,groups_1=groups;_i<groups_1.length;_i++){var group=groups_1[_i];var i=0;var groupOverlap=false;var groupLevel=void 0;for(var _a=0,_b=group.stacks;_a<_b.length;_a++){var level=_b[_a];var overlap=false;for(var _c=0,level_1=level;_c<level_1.length;_c++){var item=level_1[_c];if(item.layoutStart<event.layoutEnd&&item.layoutEnd>event.layoutStart){overlap=true;groupOverlap=true;if(groupLevel){next[event.uid]=next[event.uid]||i}else{next[item.uid]=i+1}}}if(!overlap&&!groupLevel){groupLevel=level}i++}if(groupOverlap){if(groupLevel){groupLevel.push(event)}else{if(maxEventStack==="all"||group.stacks.length<+maxEventStack){group.stacks.push([event])}else{event.position=UNDEFINED;group.more.push(event)}}pushed=true}}if(!pushed){next[event.uid]=0;groups.push({stacks:[[event]],more:[]})}}function roundStep(v){v=Math.abs(round(v));if(v>60){return round(v/60)*60}if(60%v===0){return v}return[6,10,12,15,20,30].reduce((function(a,b){return Math.abs(b-v)<Math.abs(a-v)?b:a}))}function calcSchedulerTime(startDate,endDate,startTime,endTime){var start=getDayMilliseconds(startDate);var end=getDayMilliseconds(endDate);if(startTime>start){start=startTime}if(endTime<end){end=endTime}return end-start}function calcTimelineTime(startDate,endDate,viewStart,viewEnd,startTime,endTime,startDay,endDay,fullDay){var displayedTime=endTime-startTime;var startD=startDate;var endD=endDate;var until=addDays(getDateOnly(endD),1);if(startD<viewStart){startD=viewStart}if(endD>viewEnd){endD=until=viewEnd}var start=getDayMilliseconds(startD);var end=getDayMilliseconds(endD);if(startTime>start){start=startTime}if(endTime<end){end=endTime}if(!isSameDay(startD,endD)){if(start>endTime){start=endTime}if(end<startTime){end=startTime}}var time=0;if(isSameDay(startD,endD)){time=fullDay?displayedTime:end-start}else{for(var d=getDateOnly(startD);d<until;d.setDate(d.getDate()+1)){if(isInWeek(d.getDay(),startDay,endDay)){if(!fullDay&&isSameDay(d,startD)){time+=displayedTime-start+startTime}else if(!fullDay&&isSameDay(d,endD)){time+=end-startTime}else{time+=displayedTime}}}}return time}function getEventStart(startDate,startTime,displayedTime,viewStart,startDay,endDay){if(viewStart&&viewStart>startDate){startDate=viewStart}var start=getDayMilliseconds(startDate);if(startTime>start||startDay!==UNDEFINED&&endDay!==UNDEFINED&&!isInWeek(startDate.getDay(),startDay,endDay)){start=startTime}return(start-startTime)*100/displayedTime}function getResourceMap(eventsMap,resources,slots,hasResources,hasSlots){eventsMap=eventsMap||{};var eventKeys=Object.keys(eventsMap);var resourceMap={};var resourceIds=resources.map((function(resource){return resource.id}));var slotIds=slots.map((function(s){return s.id}));resourceIds.forEach((function(rid){resourceMap[rid]={};slotIds.forEach((function(sid){resourceMap[rid][sid]={}}))}));var _loop_1=function(timestamp){var events=eventsMap[timestamp];var _loop_2=function(event_1){var eventResource=event_1.resource;var eventSlot=event_1.slot;var res=eventResource===UNDEFINED||!hasResources?resourceIds:isArray(eventResource)?eventResource:[eventResource];var slot=eventSlot===UNDEFINED||!hasSlots?slotIds:[eventSlot];res.forEach((function(rid){var map=resourceMap[rid];if(map){slot.forEach((function(sid){var slotMap=map[sid];if(slotMap){if(!slotMap[timestamp]){slotMap[timestamp]=[]}slotMap[timestamp].push(event_1)}}))}}))};for(var _a=0,events_1=events;_a<events_1.length;_a++){var event_1=events_1[_a];_loop_2(event_1)}};for(var _i=0,eventKeys_1=eventKeys;_i<eventKeys_1.length;_i++){var timestamp=eventKeys_1[_i];_loop_1(timestamp)}return resourceMap}function getCellDate(timestamp,ms){var d=new Date(timestamp);var time=new Date(+REF_DATE+ms);return new Date(d.getFullYear(),d.getMonth(),d.getDate(),time.getHours(),time.getMinutes())}var stateObservables={};var ScheduleEventBase=/*#__PURE__*/function(_super){__extends(ScheduleEventBase,_super);function ScheduleEventBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._onClick=function(ev){_this._triggerClick("onClick",ev);var s=_this.s;var observable=stateObservables[s.event.uid];if(observable&&s.selected){observable.next({hasFocus:false})}};_this._onRightClick=function(ev){_this._triggerClick("onRightClick",ev)};_this._onDocTouch=function(ev){unlisten(_this._doc,TOUCH_START,_this._onDocTouch);unlisten(_this._doc,MOUSE_DOWN,_this._onDocTouch);_this._isDrag=false;_this._hook("onDragModeOff",{domEvent:ev,event:_this.s.event.original})};_this._updateState=function(args){_this.setState(args)};return _this}ScheduleEventBase.prototype._render=function(s,state){var event=s.event;var day=new Date(event.date);var pos=event.position;var startDate=event.startDate;var endDate=getEndDate(s,event.allDay,startDate,event.endDate);var isTimeline=s.isTimeline;var isTimelineListing=s.isListing;var isMore=event.original["more"];var isAllDay=isMore&&isTimeline||isTimelineListing||event.allDay;var isMultiDay=!isSameDay(startDate,endDate);var isMultiDayStart=isMultiDay&&isSameDay(startDate,day);var isMultiDayEnd=isMultiDay&&isSameDay(endDate,day);var allDayStyle=isAllDay&&(!isTimeline||isTimelineListing||isMore);var host=isTimeline?"timeline":"schedule";var gridStartTime=s.gridStartTime;var gridEndTime=s.gridEndTime;var startTime=getDayMilliseconds(startDate);var endTime=getDayMilliseconds(endDate);var hasSlots=isTimeline&&s.slot!==DEF_ID;var isEndInWeek=isInWeek(endDate.getDay(),s.startDay,s.endDay);var lastDay=s.singleDay?addDays(day,1):new Date(s.lastDay);if(!event.allDay){lastDay=addTimezone(s,lastDay)}this._isStart=hasSlots||!isMultiDay||isMultiDayStart;this._isEnd=hasSlots||!isMultiDay||(isAllDay||isTimeline&&!s.hasResY?endDate<lastDay&&isEndInWeek:isMultiDayEnd);if(!hasSlots&&!isAllDay&&(gridStartTime>startTime||gridEndTime<startTime)){this._isStart=false}if(!hasSlots&&!isAllDay&&(gridEndTime<endTime||gridStartTime>endTime)){this._isEnd=false}this._isMore=isMore;this._isDrag=this._isDrag||s.isDrag;this._content=UNDEFINED;this._rangeText=event.start+" - "+event.end;this._isAllDay=allDayStyle;this._host=host;if(event.allDay||(!isTimeline||s.hasResY)&&isMultiDay&&!isMultiDayStart&&!isMultiDayEnd){this._rangeText=event.allDayText||" "}if(event.bufferBefore){this._bufferStyleStart=isTimeline?{width:event.bufferBefore}:{height:event.bufferBefore}}if(event.bufferAfter){this._bufferStyleEnd=isTimeline?{width:event.bufferAfter}:{height:event.bufferAfter}}this._cssClass="mbsc-schedule-event"+this._theme+this._rtl+(s.render||s.template?" mbsc-schedule-event-custom":"")+(isTimeline?" mbsc-timeline-event":"")+(isTimelineListing||isMore?" mbsc-timeline-event-listing":"")+(this._isStart?" mbsc-".concat(host,"-event-start"):"")+(this._isEnd?" mbsc-".concat(host,"-event-end"):"")+(allDayStyle?" mbsc-schedule-event-all-day":"")+(hasSlots?" mbsc-timeline-event-slot":"")+(state.hasFocus&&!s.inactive&&!s.selected||s.selected?" mbsc-schedule-event-active":"")+(state.hasHover&&!s.inactive&&!this._isDrag?" mbsc-schedule-event-hover":"")+(s.isDrag?" mbsc-schedule-event-dragging"+(isTimeline?" mbsc-timeline-event-dragging":""):"")+(s.hidden?" mbsc-schedule-event-hidden":"")+(s.inactive?" mbsc-schedule-event-inactive":"")+(event.original.editable===false?" mbsc-readonly-event":"")+(event.original.cssClass?" "+event.original.cssClass:"");this._style=__assign(__assign({},pos),{color:event.color,top:s.eventHeight&&pos.top!==UNDEFINED?pos.top*s.eventHeight+"px":pos.top});var renderer=s.render||s.renderContent;var text;if(renderer&&!isMore){var content=renderer(event);if(isString(content)){text=content}else{this._content=content}}else if(!s.contentTemplate||isMore){text=event.html}if(text!==this._text){this._text=text;this._html=text?this._safeHtml(text):UNDEFINED;this._shouldEnhance=text&&!!renderer}};ScheduleEventBase.prototype._mounted=function(){var _this=this;var id=this.s.event.uid;var el=this._el;var resizeDir;var observable=stateObservables[id];var startDomEvent;var touchTimer;if(!observable){observable=new Observable;stateObservables[id]=observable}this._unsubscribe=observable.subscribe(this._updateState);this._doc=getDocument(el);this._unlisten=gestureListener(el,{keepFocus:true,onBlur:function(){observable.next({hasFocus:false})},onDoubleClick:function(ev){ev.domEvent.stopPropagation();_this._triggerClick("onDoubleClick",ev.domEvent)},onEnd:function(ev){if(_this._isDrag){var s=_this.s;var args=__assign({},ev);args.domEvent.preventDefault();args.eventData=s.event;args.resource=s.resource;args.slot=s.slot;if(s.resize&&resizeDir){args.resize=true;args.direction=resizeDir}else if(s.drag){args.drag=true}_this._hook("onDragEnd",args);if(!s.isDrag){_this._isDrag=false}if(el&&args.moved){el.blur()}}clearTimeout(touchTimer);resizeDir=UNDEFINED},onFocus:function(){observable.next({hasFocus:true})},onHoverIn:function(ev){observable.next({hasHover:true});_this._triggerClick("onHoverIn",ev)},onHoverOut:function(ev){observable.next({hasHover:false});_this._triggerClick("onHoverOut",ev)},onKeyDown:function(ev){var event=_this.s.event.original;switch(ev.keyCode){case ENTER:case SPACE:ev.target.click();ev.preventDefault();break;case BACKSPACE:case DELETE:if(event.editable!==false){_this._hook("onDelete",{domEvent:ev,event:event,resource:_this.s.resource,slot:_this.s.slot,source:_this._host})}break}},onMove:function(ev){var s=_this.s;var args=__assign({},ev);args.eventData=s.event;args.resource=s.resource;args.slot=s.slot;if(resizeDir){args.resize=true;args.direction=resizeDir}else if(s.drag){args.drag=true}else{return}if(s.event.original.editable===false){return}if(_this._isDrag||!args.isTouch){args.domEvent.preventDefault()}if(_this._isDrag){_this._hook("onDragMove",args)}else if(Math.abs(args.deltaX)>7||Math.abs(args.deltaY)>7){clearTimeout(touchTimer);if(!args.isTouch){args.domEvent=startDomEvent;_this._isDrag=true;_this._hook("onDragStart",args)}}},onStart:function(ev){startDomEvent=ev.domEvent;var s=_this.s;var args=__assign({},ev);var target=startDomEvent.target;args.eventData=s.event;args.resource=s.resource;args.slot=s.slot;if(s.resize&&target.classList.contains("mbsc-schedule-event-resize")){resizeDir=target.classList.contains("mbsc-schedule-event-resize-start")?"start":"end";args.resize=true;args.direction=resizeDir}else if(s.drag){args.drag=true}else{return}if(s.event.original.editable===false){return}if(_this._isDrag){startDomEvent.stopPropagation();_this._hook("onDragStart",args)}else if(args.isTouch){touchTimer=setTimeout((function(){_this._hook("onDragModeOn",args);_this._hook("onDragStart",args);_this._isDrag=true}),350)}}});if(this._isDrag){listen(this._doc,TOUCH_START,this._onDocTouch);listen(this._doc,MOUSE_DOWN,this._onDocTouch)}};ScheduleEventBase.prototype._destroy=function(){if(this._el){this._el.blur()}if(this._unsubscribe){var id=this.s.event.uid;var observable=stateObservables[id];if(observable){observable.unsubscribe(this._unsubscribe);if(!observable.nr){delete stateObservables[id]}}}if(this._unlisten){this._unlisten()}unlisten(this._doc,TOUCH_START,this._onDocTouch);unlisten(this._doc,MOUSE_DOWN,this._onDocTouch)};ScheduleEventBase.prototype._triggerClick=function(name,domEvent){var s=this.s;this._hook(name,{date:s.event.date,domEvent:domEvent,event:s.event.original,resource:s.resource,resourceObj:s.resourceObj,slot:s.slot,slotObj:s.slotObj,source:this._host,target:this._el})};ScheduleEventBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ScheduleEventBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});ScheduleEventBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:ScheduleEventBase,selector:"[mbsc-sch-ev-b]",usesInheritance:true,ngImport:i0});return ScheduleEventBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ScheduleEventBase,decorators:[{type:Directive,args:[{selector:"[mbsc-sch-ev-b]"}]}]});var STBase=/*#__PURE__*/function(_super){__extends(STBase,_super);function STBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._eventHeights={};_this._resourceTops={};_this._columnLefts=[];_this._viewChanged=0;_this._onScroll=function(){};_this._onCellClick=function(type,timestamp,v,domEvent,resource,slot){_this._hook(type,{date:getCellDate(timestamp,v),domEvent:domEvent,resource:resource,slot:slot,source:_this._isTimeline?"timeline":"schedule"})};_this._onResourceClick=function(type,domEvent,resource,date){_this._hook(type,{date:date,domEvent:domEvent,resource:resource,source:_this._isTimeline?"timeline":"schedule",target:domEvent.currentTarget})};_this._onMouseLeave=function(ev,force){if(_this._cursorTimeCont&&(!_this._dragData||force)){_this._cursorTimeCont.style.visibility="hidden";_this._isCursorTimeVisible=false}};_this._onMouseMove=function(ev){if(_this._showCursorTime){var s=_this.s;var rtl=s.rtl;var isTimeline=_this._isTimeline;var timeCont=_this._cursorTimeCont;if(!_this._isTouch||_this._tempStart){if(!_this._isCursorTimeVisible&&ev){timeCont.style.visibility="visible";_this._isCursorTimeVisible=true}}else{timeCont.style.visibility="hidden";_this._isCursorTimeVisible=false}if(_this._isCursorTimeVisible&&_this._colWidth){var gridCont=_this._gridCont;var gridRect=gridCont.getBoundingClientRect();var clientX=ev?ev.clientX:_this._cursorX||0;var clientY=ev?ev.clientY:_this._cursorY||0;var posX=rtl?gridRect.right-clientX:clientX-gridRect.left;var posY=constrain(clientY-gridRect.top,8,_this._colHeight);var dayIndex=void 0;var date=void 0;var time=void 0;if(_this._dragDelta!==UNDEFINED){date=createDate$1(s,_this._dragDelta<0?_this._tempStart:_this._tempEnd);dayIndex=isTimeline&&!_this._hasResY?_this._dayIndexMap[getDateStr(date)]:0;time=getDayMilliseconds(date);time=time===0?_this._dragDelta<0?time:ONE_DAY:time}else{dayIndex=isTimeline&&!_this._hasResY?constrain(floor(posX/_this._colWidth),0,_this._daysNr-1):0;time=_this._startTime+step(isTimeline?floor(_this._time*(posX-dayIndex*_this._colWidth)/_this._colWidth):floor(_this._time*(posY-8)/(_this._colHeight-16)),s.dragTimeStep*ONE_MIN);var day=_this._days[dayIndex].date;var d=new Date(+REF_DATE+time);date=createDate$1(s,day.getFullYear(),day.getMonth(),day.getDate(),d.getHours(),d.getMinutes())}var milliSeconds=_this._time*(isTimeline?_this._daysNr:1);var pos=isTimeline?rtl?"right":"left":"top";var timeContStyle=timeCont.style;timeContStyle[pos]=(dayIndex*_this._time+time-_this._startTime)*100/milliSeconds+"%";timeContStyle[rtl?"left":"right"]="";timeCont.textContent=formatDate(s.timeFormat,date,s);_this._cursorX=clientX;_this._cursorY=clientY}}};_this._onEventClick=function(args){var more=args.event["more"];if(more){_this._hook("onMoreClick",{context:_this._scrollCont,date:args.date,key:args.event.id,list:more,target:args.domEvent.target})}else{_this._hook("onEventClick",args)}};_this._onResourceDragStart=function(args,target){_this._calcGridSizes();var posY=constrain(args.startY-_this._gridTop,0,_this._colHeight-1);var dragRow=_this._getDragRow(posY,_this._scrollCont.scrollTop);var isExternal=args.external;var draggedResource=isExternal?__assign({},args.dragData):_this._visibleResources[dragRow.resourceIndex];if(args.create&&draggedResource.id===UNDEFINED){draggedResource.id=getEventId()}_this._scrollY=0;_this._startDayIndex=dragRow.dayIndex;_this._startResourceIndex=dragRow.resourceIndex;_this._startRow=dragRow.rowKey;_this._tempResource=_this._visibleResources[dragRow.resourceIndex].id;_this._tempResourceData=draggedResource;if(_this.s.externalResourceDrag&&target&&!isExternal){var eventEl=closest(target,".mbsc-timeline-resource",_this._el);var clone=eventEl.cloneNode(true);var cloneClass=clone.classList;clone.style.display="none";cloneClass.add("mbsc-timeline-resource-drag-clone","mbsc-font");_this._clone=clone;_this._ctx=getContext(_this.s.context,getDocument(_this._el));_this._ctx.appendChild(clone);_this._resourceDropped=false;dragObservable.next(__assign(__assign({},args),{clone:clone,create:true,dragData:draggedResource,dragDataType:"resource",eventName:"onDragStart",external:true,from:_this}))}_this._hook("onResourceDragStart",{domEvent:args.domEvent,resource:draggedResource,source:"timeline"})};_this._onResourceDragMove=function(args){clearTimeout(_this._scrollTimer);clearTimeout(_this._expandTimer);var resources=_this._visibleResources;var state=_this.state;var headerHeight=state.headerHeight||0;var endY=constrain(args.endY,_this._gridContTop,_this._gridContBottom-1);var posY=constrain(endY-_this._gridTop+_this._scrollY,0,_this._colHeight-1);var scrollCont=_this._scrollCont;var scrollContTop=scrollCont.scrollTop;var scrollThreshold=50;var distBottom=_this._gridContBottom-args.endY;var distTop=args.endY-_this._gridContTop-headerHeight;var dragRow=_this._getDragRow(posY,scrollContTop);var resourceIndex=dragRow.resourceIndex;var resource=resources[resourceIndex];var dragData=_this._dragData;var isExternal=args.external;var draggedResource=_this._tempResourceData;var hasScroll=false;var insertAfter=false;if(_this.s.externalResourceDrag&&!isExternal&&dragData){dragObservable.next(__assign(__assign({},args),{clone:_this._clone,create:true,dragData:draggedResource,dragDataType:"resource",eventName:"onDragMove",external:true,from:_this}));if(!_this._onCalendar){moveClone(args,_this._clone);return}}if(!_this._hasResY||_this._startDayIndex===dragRow.dayIndex){if(distBottom<scrollThreshold&&scrollContTop<scrollCont.scrollHeight-scrollCont.clientHeight){var jump=_this._getScrollJump(distBottom);scrollCont.scrollTop+=jump;hasScroll=true}if(distTop<scrollThreshold&&scrollContTop>0){var jump=_this._getScrollJump(distTop);scrollCont.scrollTop-=jump;hasScroll=true}if(hasScroll){_this._scrollY+=scrollCont.scrollTop-scrollContTop;_this._scrollTimer=setTimeout((function(){_this._onResourceDragMove(args)}),20)}else{_this._scrollStartTime=0}if(_this._draggedResourceEl){var style=_this._draggedResourceEl.style;style.visibility="visible";style.top=posY+headerHeight-scrollContTop+"px"}if(_this._draggedResourceLineEl){var style=_this._draggedResourceLineEl.style;if(resource.isParent){style.visibility="hidden"}else{var resourceTop=_this._resourceTops[dragRow.rowKey];var nextResource=resources[resourceIndex+1];var nextRowKey=nextResource?_this._hasResY?dragRow.dateKey+"-"+nextResource.id:nextResource.id:"";var nextResourceTop=nextResource?_this._resourceTops[nextRowKey]:scrollCont.scrollHeight-headerHeight;insertAfter=posY-resourceTop>nextResourceTop-posY;style.visibility="visible";style.top=(insertAfter?nextResourceTop:resourceTop)+"px"}}var draggedResourceData=_this._resourcesData[draggedResource.id];var targetResource=_this._resourcesMap[resource.id];var _a=_this._getDragPos(draggedResource,targetResource),oldParent=_a.oldParent,newParent=_a.newParent,oldIndex=_a.oldIndex,newIndex=_a.newIndex;var draggedResourceInvalid=targetResource.children&&targetResource===draggedResource||draggedResourceData&&resourceIndex>_this._startResourceIndex&&resourceIndex<=draggedResourceData.lastChildIndex||oldParent===newParent&&oldIndex===newIndex;var hoverResource=targetResource.children&&!draggedResourceInvalid?targetResource.id:UNDEFINED;if(!dragData||dragData.draggedResourceInvalid!==draggedResourceInvalid||dragData.hoverResource!==hoverResource){_this._dragData={draggedResource:draggedResource,draggedResourceInvalid:draggedResourceInvalid,draggedResourceVisible:true,hoverResource:hoverResource,originDate:_this._hasResY?+new Date(dragRow.dateKey):_this.s.selected,originResource:isExternal?UNDEFINED:draggedResource.id};_this.setState({dragData:_this._dragData})}_this._tempResource=resource.id;_this._tempResourceNext=insertAfter}if(resource.collapsed){_this._expandTimer=setTimeout((function(){_this._toggleResource(resource,args.domEvent)}),750)}};_this._onResourceDragEnd=function(args){clearTimeout(_this._scrollTimer);clearTimeout(_this._expandTimer);var dragData=_this._dragData;var s=_this.s;var isExternal=args.external;if(dragData){var draggedResource=dragData.draggedResource;var draggedResourceData=_this._resourcesData[draggedResource.id];var targetResource=_this._tempResource?_this._resourcesMap[_this._tempResource]:UNDEFINED;var targetResourceData=targetResource&&_this._resourcesData[targetResource.id];var _a=_this._getDragPos(draggedResource,targetResource),oldParent=_a.oldParent,newParent=_a.newParent,oldIndex=_a.oldIndex,newIndex=_a.newIndex;var draggedResourceInvalid=dragData.draggedResourceInvalid;if(s.externalResourceDrag&&!isExternal){dragObservable.next(__assign(__assign({},args),{action:"externalDrop",clone:_this._clone,create:true,dragData:draggedResource,dragDataType:"resource",eventName:"onDragEnd",external:true,from:_this}));_this._ctx.removeChild(_this._clone);if(!_this._onCalendar){draggedResourceInvalid=true;if(_this._resourceDropped){var allowDelete=_this._hook("onResourceDelete",{domEvent:args.domEvent,index:oldIndex,parent:oldParent,resource:draggedResource})!==false;if(allowDelete){draggedResourceInvalid=false;_this._triggerDeleted={domEvent:args.domEvent,index:oldIndex,parent:oldParent,resource:draggedResource}}}}}if(args.create){var allowCreate=_this._hook("onResourceCreate",{domEvent:args.domEvent,index:newIndex,parent:newParent,resource:draggedResource})!==false;if(allowCreate){if(args.from){args.from._resourceDropped=true}_this._triggerCreated={domEvent:args.domEvent,index:newIndex,parent:newParent,resource:draggedResource}}else{draggedResourceInvalid=true}}_this._hook("onResourceDragEnd",{domEvent:args.domEvent,resource:draggedResource,source:"timeline"});if(!draggedResourceInvalid){if(draggedResourceData){draggedResourceData.siblings.splice(oldIndex,1)}if(targetResource){if(targetResource.children){targetResource.children.push(draggedResource)}else if(targetResourceData){targetResourceData.siblings.splice(newIndex,0,draggedResource)}}var preventDrop=_this._hook("onResourceOrderUpdate",{index:newIndex,oldIndex:oldIndex,oldParent:oldParent,parent:newParent,resource:draggedResource,resources:_this._resourcesCopy})===false;if(preventDrop){if(targetResource){if(targetResource.children){targetResource.children.pop()}else if(targetResourceData){targetResourceData.siblings.splice(newIndex,1)}}draggedResourceData.siblings.splice(oldIndex,0,draggedResource);_this.setState({dragData:UNDEFINED})}else{_this._reloadResources=true;_this._shouldCheckSize=!_this.state.hasScrollY;_this.setState({dragData:{hoverResource:draggedResource.id}});setTimeout((function(){_this.setState({dragData:UNDEFINED})}),600)}}else{_this.setState({dragData:UNDEFINED})}_this._dragData=UNDEFINED}};_this._onEventDragModeOn=function(args){if(_this.s.externalDrag&&args.drag&&!args.create){dragObservable.next(__assign(__assign({},args),{create:true,eventName:"onDragModeOn",external:true,from:_this}))}var event=args.create?_this._tempEvent:args.eventData;var resource=args.create?_this._tempResource:args.resource;var slot=args.create?_this._tempSlot:args.slot;_this._dragData={draggedEvent:event,originDates:args.external?UNDEFINED:_this._getDragDates(event,resource,slot),resource:resource};_this.setState({dragData:_this._dragData,isTouchDrag:true})};_this._onEventDragModeOff=function(args){_this._hook("onEventDragEnd",{domEvent:args.domEvent,event:args.create?_this._tempEvent.original:args.event,resource:_this._tempResource!==DEF_ID?_this._tempResource:UNDEFINED,resourceObj:_this._tempResource!==DEF_ID?_this._resourcesMap[_this._tempResource]:UNDEFINED,slot:_this._tempSlot!==DEF_ID?_this._tempSlot:UNDEFINED,slotObj:_this._tempSlot!==DEF_ID?_this._slotsMap[_this._tempSlot]:UNDEFINED,source:_this._isTimeline?"timeline":"schedule"});_this._dragData=UNDEFINED;_this.setState({dragData:UNDEFINED,isTouchDrag:false})};_this._onEventDragStart=function(args){var s=_this.s;var isClick=args.click;var isListing=s.eventList;var isTimeline=_this._isTimeline;var resources=_this._visibleResources;var slots=_this._slots;var timeStep=s.dragTimeStep;var startX=args.startX;var startY=args.startY;_this._isTouch=args.isTouch;_this._scrollY=0;_this._scrollX=0;_this._calcGridSizes();var posX=s.rtl?_this._gridRight-startX:startX-_this._gridLeft;var posY=constrain(startY-_this._gridTop,8,_this._colHeight-9);var cols=isListing?_this._cols:_this._days;var colsNr=cols.length;var colWidth=_this._colWidth;var resourceTops=_this._resourceTops;var scrollContTop=_this._scrollCont.scrollTop;var rowKey;var resourceIndex=0;var colIndex=colWidth?floor(posX/colWidth):1;var dayIndex=colIndex;var slotIndex=0;if(s.externalDrag&&args.drag&&!args.create){var eventEl=args.target;var clone=eventEl.cloneNode(true);var cloneClass=clone.classList;clone.style.display="none";cloneClass.add("mbsc-drag-clone","mbsc-schedule-drag-clone","mbsc-font");cloneClass.remove("mbsc-schedule-event-hover","mbsc-active","mbsc-focus");_this._clone=clone;_this._ctx=getContext(s.context,getDocument(_this._el));_this._ctx.appendChild(clone);_this._eventDropped=false;dragObservable.next(__assign(__assign({},args),{clone:clone,create:true,dragData:args.eventData.original,eventName:"onDragStart",external:true,from:_this}))}if(!isTimeline){var dragCol=_this._getDragCol(posX);colIndex=dragCol.colIndex;dayIndex=dragCol.dayIndex;resourceIndex=dragCol.resourceIndex}else{var dragRow=_this._getDragRow(posY,scrollContTop);slotIndex=colWidth?floor(posX/(colWidth/slots.length))%slots.length:0;dayIndex=_this._hasResY?dragRow.dayIndex:dayIndex;resourceIndex=dragRow.resourceIndex;rowKey=dragRow.rowKey}dayIndex=constrain(dayIndex,0,colsNr-1);_this._startColIndex=colIndex;_this._startDayIndex=dayIndex;_this._startRow=rowKey;_this._startSlotIndex=slotIndex;var resource=args.external?UNDEFINED:resources[resourceIndex];var resourceId=resource?resource.id:UNDEFINED;var slot=args.external?UNDEFINED:slots[slotIndex];var slotId=slot?slot.id:UNDEFINED;if(args.create&&resource&&resource.eventCreation===false){return false}if(args.create){var allDay=!isTimeline&&s.showAllDay&&args.endY<_this._gridContTop;var eventDay=s.type==="day"&&s.size===1?_this._firstDay:cols[dayIndex].date;var eventLength=!isListing&&(args.external||isClick)?_this._stepCell:timeStep*ONE_MIN;var gridTime=_this._getGridTime(eventDay,posX,posY,dayIndex,isClick?_this._stepCell/ONE_MIN:timeStep);var newStart=!_this._isDailyResolution||allDay||isListing?allDay?eventDay:addTimezone(s,eventDay):gridTime;var nextDay=s.resolution==="year"?addMonths(newStart,12,s):s.resolution==="quarter"?addMonths(newStart,3,s):s.resolution==="month"?addMonths(newStart,1,s):s.resolution==="week"?addDays(newStart,s.endDay-s.startDay+1+(s.endDay<s.startDay?7:0)):addDays(newStart,1);var allDayEnd=s.exclusiveEndDates?nextDay:new Date(+nextDay-1);var newEnd=allDay||isListing?allDayEnd:roundTime(createDate$1(s,+newStart+eventLength),isClick?1:timeStep);var eventData=s.extendDefaultEvent?s.extendDefaultEvent({resource:resourceId,slot:slotId,start:newStart}):UNDEFINED;var newEvent=__assign(__assign({allDay:allDay,end:newEnd,id:getEventId(),resource:resource&&resourceId!==DEF_ID?resourceId:UNDEFINED,slot:slot&&slotId!==DEF_ID?slotId:UNDEFINED,start:newStart,title:s.newEventText},eventData),args.dragData);var ev=_this._getEventData(newEvent,eventDay,resource,slot);if(isTimeline){ev.track=0}if(isTimeline&&resourceId!==UNDEFINED&&slotId!==UNDEFINED&&_this._setRowHeight){var dateKey=getDateStr(newStart);var key=_this._hasResY?dateKey+"-"+resourceId:resourceId;var top_1=posY-(_this._fixedResourceTops[resourceId]?scrollContTop:0)-resourceTops[key];if(_this._variableEventHeight){var events=_this._events[resourceId][slotId][_this._hasSlots||_this._hasResY?dateKey:"all"];var tracks=events&&events.tracks||[];var i=0;var height=0;while(top_1>height&&i<tracks.length){ev.track=i;height+=tracks[i];i++}}else{ev.position.top=constrain(floor(top_1/_this._eventHeight),0,_this._eventRows[resourceId]-1)}}if(args.dragData){var eventDuration=+ev.endDate-+ev.startDate;if(computeEventDragInTime(args.dragData.dragInTime,UNDEFINED,s.dragInTime)){ev.startDate=eventDay;ev.endDate=new Date(+eventDay+eventDuration)}}_this._dragTime=floor(getDayMilliseconds(newStart)/_this._stepCell)*_this._stepCell;_this._tempEvent=ev;_this._tempResource=resourceId;_this._tempSlot=slotId}_this._hook("onPopoverClose",{source:"dragStart"});if(!isClick){_this._hook("onEventDragStart",{action:args.create?"create":args.resize?"resize":"move",domEvent:args.domEvent,event:(args.create?_this._tempEvent:args.eventData).original,resource:resourceId!==DEF_ID?resourceId:UNDEFINED,resourceObj:resourceId!==DEF_ID?resource:UNDEFINED,slot:slotId!==DEF_ID?slotId:UNDEFINED,slotObj:slotId!==DEF_ID?slot:UNDEFINED,source:isTimeline?"timeline":"schedule"})}return true};_this._onEventDragMove=function(args){clearTimeout(_this._scrollTimer);clearTimeout(_this._expandTimer);var s=_this.s;var rtl=s.rtl;var rtlNr=rtl?-1:1;var isTimeline=_this._isTimeline;var isListing=s.eventList;var isMonthYearResolution=s.resolution==="month"||s.resolution==="year";var cols=isListing?_this._cols:_this._days;var colWidth=_this._colWidth;var colsNr=cols.length;var slots=_this._slots;var groupByResource=_this._groupByResource;var resources=_this._visibleResources;var dragData=_this._dragData;var timeStep=s.dragTimeStep;var timeFormat=s.timeFormat;var startX=args.startX;var endX=constrain(args.endX,_this._gridContLeft,_this._gridContRight-1);var endY=constrain(args.endY,_this._gridContTop,_this._gridContBottom-1);var deltaY=endY-args.startY+_this._scrollY;var deltaX=rtl?startX-endX+_this._scrollX:endX-startX+_this._scrollX;var delta=isTimeline?deltaX:deltaY;var daySize=isTimeline?colWidth:_this._colHeight-16;var gridWidth=_this._gridRight-_this._gridLeft-1;var posX=constrain(rtl?_this._gridRight+_this._scrollX-endX:endX-_this._gridLeft+_this._scrollX,0,gridWidth);var posY=constrain(endY-_this._gridTop+_this._scrollY,8,_this._colHeight-9);var oldIndex=_this._startColIndex;var oldDayIndex=_this._startDayIndex;var inAllDay=s.showAllDay&&args.endY<_this._gridContTop;var hasResY=_this._hasResY;var scrollCont=_this._scrollCont;var scrollContTop=scrollCont.scrollTop;var scrollContLeft=scrollCont.scrollLeft;var scrollThreshold=50;var event=args.create?_this._tempEvent:args.eventData;var origEvent=event.original;var draggedEvent=__assign({},event);var newIndex=floor(posX/colWidth);var newDayIndex=newIndex;var resourceIndex=0;var slotIndex=0;var hasScroll=false;var distBottom=_this._gridContBottom-args.endY;var distTop=args.endY-_this._gridContTop-(isTimeline?_this.state.headerHeight||0:0);var distLeft=args.endX-_this._gridContLeft;var distRight=_this._gridContRight-args.endX;var maxScrollH=(scrollCont.scrollWidth-scrollCont.clientWidth)*rtlNr;var rightLimit=rtl?0:maxScrollH;var leftLimit=rtl?maxScrollH:0;if(s.externalDrag&&args.drag&&!args.create){dragObservable.next(__assign(__assign({},args),{clone:_this._clone,create:true,dragData:origEvent,eventName:"onDragMove",external:true,from:_this}));if(!_this._onCalendar){moveClone(args,_this._clone);if(!dragData){_this._dragData={draggedEvent:draggedEvent};_this.setState({dragData:_this._dragData})}return}}if(distBottom<scrollThreshold&&scrollContTop<scrollCont.scrollHeight-scrollCont.clientHeight){var jump=_this._getScrollJump(distBottom);scrollCont.scrollTop+=jump;hasScroll=true}if(distTop<scrollThreshold&&!inAllDay&&scrollContTop>0){var jump=_this._getScrollJump(distTop);scrollCont.scrollTop-=jump;hasScroll=true}if(distLeft<scrollThreshold&&scrollContLeft>leftLimit){var jump=_this._getScrollJump(distLeft);scrollCont.scrollLeft-=jump;hasScroll=true}if(distRight<scrollThreshold&&scrollContLeft<rightLimit){var jump=_this._getScrollJump(distRight);scrollCont.scrollLeft+=jump;hasScroll=true}if(hasScroll){_this._scrollX+=(scrollCont.scrollLeft-scrollContLeft)*rtlNr;_this._scrollY+=scrollCont.scrollTop-scrollContTop;_this._scrollTimer=setTimeout((function(){_this._onEventDragMove(args)}),20)}else{_this._scrollStartTime=0}if(!isTimeline){var dragCol=_this._getDragCol(posX);newIndex=dragCol.colIndex;newDayIndex=dragCol.dayIndex;resourceIndex=dragCol.resourceIndex}else{var dragRow=_this._getDragRow(posY,scrollContTop);slotIndex=floor(posX/(colWidth/slots.length))%slots.length;resourceIndex=dragRow.resourceIndex;newDayIndex=hasResY?dragRow.dayIndex:newDayIndex}newDayIndex=constrain(newDayIndex,0,colsNr-1);var start=event.startDate;var end=event.endDate;var duration=+end-+start;var ms=_this._time;var timeDelta=floor(ms*delta/daySize);var resource=resources[resourceIndex];var hoverResource=resource.isParent&&resource.eventCreation===false?resource.id:UNDEFINED;var startResource=args.create?_this._tempResource:args.resource;var startSlot=args.create?_this._tempSlot:args.slot;if(resource.collapsed&&resource.eventCreation===false){_this._expandTimer=setTimeout((function(){_this._toggleResource(resource,args.domEvent)}),750)}if(args.create&&resource.eventCreation===false&&_this._tempResource===UNDEFINED){return false}var slotId=slots[slotIndex].id;var resourceId=resource.eventCreation!==false||resource.id===startResource?resource.id:_this._tempResource;var allDay=event.allDay;var tzOpt=allDay?UNDEFINED:s;var addDayOnly=allDay||isListing;var newStart=start;var newEnd=end;var newDate;var isEventDraggableBetweenResources=true;var isEventDraggableBetweenSlots=true;var isEventDraggableInTime=true;var oldDay=cols[oldDayIndex].date;var newDay=cols[newDayIndex].date;var dayDelta=s.type==="day"&&s.size===1?0:getDayDiff(oldDay,newDay);var colDelta=newDayIndex-oldDayIndex;var months=s.resolution==="year"?12:1;var deltaDiff=dayDelta-colDelta;if(args.drag&&!args.create||args.external){if(!args.external){isEventDraggableBetweenResources=computeEventDragBetweenResources(origEvent.dragBetweenResources,_this._resourcesMap[startResource].eventDragBetweenResources,s.dragBetweenResources);isEventDraggableBetweenSlots=computeEventDragBetweenSlots(origEvent.dragBetweenSlots,_this._resourcesMap[startResource].eventDragBetweenSlots,slots[_this._startSlotIndex||0].eventDragBetweenSlots,s.dragBetweenSlots)}isEventDraggableInTime=computeEventDragInTime(origEvent.dragInTime,args.external||_this._resourcesMap[startResource].eventDragInTime,s.dragInTime)}if(args.drag||args.external){if(!isTimeline&&!isEventDraggableBetweenResources&&startResource!==resourceId){dayDelta=_this._dragDayDelta}if(isTimeline&&isListing&&isMonthYearResolution){newStart=addMonths(start,colDelta*months,s);newEnd=addMonths(end,colDelta*months,s)}else{allDay=inAllDay||isTimeline&&event.allDay;addDayOnly=allDay||isListing;tzOpt=allDay?UNDEFINED:s;if(!isTimeline&&!inAllDay&&(event.allDay||args.external)||isTimeline&&args.external&&!event.allDay&&!isListing){var day=getDateOnly(addDays(start,dayDelta));newStart=_this._getGridTime(day,posX,posY,newDayIndex,timeStep)}else{if(isTimeline&&!addDayOnly&&!hasResY){newStart=roundTime(createDate$1(s,+start+timeDelta+(ONE_DAY-ms)*dayDelta+ms*deltaDiff),timeStep)}else{newDate=addDays(start,dayDelta);newStart=addDayOnly?newDate:roundTime(createDate$1(tzOpt,+newDate+timeDelta),timeStep)}}if(resource.eventCreation===false&&!isTimeline){newStart=createDate$1(s,_this._tempStart)}newEnd=createDate$1(tzOpt,+newStart+duration)}}else{var gridDelta=isTimeline?colDelta:newIndex-oldIndex;var endResize=args.create?gridDelta?gridDelta>0:delta>0:args.direction==="end";var days=getDayDiff(start,end);if(!isTimeline&&groupByResource&&startResource!==resourceId){dayDelta=_this._dragDayDelta}if(endResize){if(isTimeline&&isListing&&isMonthYearResolution){newEnd=addMonths(end,colDelta*months,s)}else if(isTimeline&&!addDayOnly&&!hasResY){newEnd=roundTime(createDate$1(s,+end+timeDelta+dayDelta*(ONE_DAY-ms)+ms*deltaDiff),timeStep)}else{newDate=addDays(end,Math.max(-days,dayDelta));newEnd=addDayOnly?newDate:roundTime(createDate$1(tzOpt,+newDate+timeDelta),timeStep);if(!addDayOnly&&(getDayMilliseconds(newEnd)>_this._endTime+1||newEnd>=addDays(getDateOnly(newDate),1))){newEnd=createDate$1(s,+getDateOnly(newDate)+_this._endTime+1)}}}else{if(isTimeline&&isListing&&isMonthYearResolution){newStart=addMonths(start,colDelta*months,s)}else if(isTimeline&&!addDayOnly&&!hasResY){newStart=roundTime(createDate$1(s,+start+timeDelta+dayDelta*(ONE_DAY-ms)+ms*deltaDiff),timeStep)}else{newDate=addDays(start,Math.min(days,dayDelta));newStart=addDayOnly?newDate:roundTime(createDate$1(tzOpt,+newDate+timeDelta),timeStep);if(!addDayOnly&&(getDayMilliseconds(newStart)<_this._startTime||newStart<getDateOnly(newDate))){newStart=createDate$1(s,+getDateOnly(newDate)+_this._startTime)}}}resourceId=startResource;if(addDayOnly&&newEnd<newStart){if(endResize){newEnd=createDate$1(s,newStart)}else{newStart=createDate$1(s,newEnd)}}if(!addDayOnly&&(newEnd<newStart||Math.abs(+newEnd-+newStart)<timeStep*ONE_MIN)){if(endResize){newEnd=createDate$1(s,+newStart+timeStep*ONE_MIN)}else{newStart=createDate$1(s,+newEnd-timeStep*ONE_MIN)}}}if(args.drag||args.external){if(!isEventDraggableInTime){newStart=start;newEnd=end;allDay=_this._tempAllDay}if(!isEventDraggableBetweenResources){resourceId=startResource}if(!isEventDraggableBetweenSlots){slotId=startSlot}}if(_this._tempStart!==+newStart||_this._tempEnd!==+newEnd||_this._tempAllDay!==allDay||_this._tempResource!==resourceId||_this._tempSlot!==slotId||dragData&&hoverResource!==dragData.hoverResource){var startStr=void 0;var endStr=void 0;if(!_this._isDailyResolution){startStr=formatDate(s.dateFormat,newStart,s);endStr=formatDate(s.dateFormat,getEndDate(s,allDay,newStart,newEnd),s)}else{startStr=formatDate(timeFormat,newStart,s);endStr=formatDate(timeFormat,newEnd,s)}draggedEvent.startDate=newStart;draggedEvent.endDate=newEnd;draggedEvent.start=startStr;draggedEvent.end=endStr;draggedEvent.allDay=allDay;draggedEvent.date=+newDay;if(origEvent.bufferAfter){draggedEvent.bufferEnd=makeDate(+newEnd+origEvent.bufferAfter*6e4,tzOpt)}if(origEvent.bufferBefore){draggedEvent.bufferStart=makeDate(+newStart-origEvent.bufferBefore*6e4,tzOpt)}_this._tempStart=+newStart;_this._tempEnd=+newEnd;_this._tempAllDay=allDay;_this._tempResource=resourceId;_this._tempSlot=slotId;_this._dragDelta=args.drag||args.external?-1:args.direction?args.direction==="end"?1:-1:delta;_this._dragDayDelta=dayDelta;_this._dragData={draggedDates:_this._getDragDates(draggedEvent,resourceId,slotId),draggedEvent:draggedEvent,hoverResource:hoverResource,originDate:event.date,originDates:dragData&&dragData.originDates,originResource:args.external?UNDEFINED:startResource,resource:resourceId,slot:slotId};if(!allDay){_this._onMouseMove(args.domEvent)}_this.setState({dragData:_this._dragData})}return true};_this._onEventDragEnd=function(args){clearTimeout(_this._scrollTimer);clearTimeout(_this._expandTimer);var s=_this.s;var isCreating=args.create;var state=_this.state;var dragData=_this._dragData;var eventLeft=false;if(s.externalDrag&&args.drag&&!args.create){dragObservable.next(__assign(__assign({},args),{action:"externalDrop",clone:_this._clone,create:true,dragData:args.eventData.original,eventName:"onDragEnd",external:true,from:_this}));_this._ctx.removeChild(_this._clone);if(!_this._onCalendar){eventLeft=true;if(_this._eventDropped){args.event=args.eventData.original;s.onEventDelete(args)}}}if(isCreating&&!dragData){dragData={};dragData.draggedEvent=_this._tempEvent}if(dragData&&dragData.draggedEvent){var showBuffer=s.showEventBuffer!==false;var event_1=args.eventData;var draggedEvent_1=dragData.draggedEvent;var origEvent=draggedEvent_1.original;var newStart=draggedEvent_1.startDate;var newEnd=draggedEvent_1.endDate;var newBufferStart=showBuffer&&draggedEvent_1.bufferStart||newStart;var newBufferEnd=showBuffer&&draggedEvent_1.bufferEnd||newEnd;var allDay=draggedEvent_1.allDay;var oldResource=isCreating&&!args.external?_this._tempResource:args.resource;var newResource=dragData.resource===UNDEFINED?oldResource:dragData.resource;var eventResource=origEvent.resource===UNDEFINED?newResource:origEvent.resource;var oldSlot=isCreating?_this._tempSlot:args.slot;var newSlot=dragData.slot===UNDEFINED?oldSlot:dragData.slot;var invalids={};var events={};var isTimeline=_this._isTimeline;var source=isTimeline?"timeline":"schedule";var changed=isCreating||+newStart!==+event_1.startDate||+newEnd!==+event_1.endDate||allDay!==event_1.allDay||oldResource!==newResource||oldSlot!==newSlot;var updatedResource=eventResource;var collisionResources=void 0;if(oldResource!==newResource&&(!isCreating&&!_this._isSingleResource||args.external)){if(isArray(eventResource)&&eventResource.length&&newResource!==UNDEFINED){var indx=eventResource.indexOf(oldResource);if(eventResource.indexOf(newResource)===-1){updatedResource=__spreadArray([],eventResource,true);updatedResource.splice(indx,1,newResource)}}else{updatedResource=newResource}}if(!updatedResource||!s.resources){collisionResources=_this._resources.map((function(r){return r.id}))}else{collisionResources=isArray(updatedResource)?updatedResource:[updatedResource]}var newRes=_this._resourcesMap[newResource];var allowOverlap_1=origEvent.overlap!==false&&newRes.eventOverlap!==false&&s.eventOverlap!==false;for(var _i=0,collisionResources_1=collisionResources;_i<collisionResources_1.length;_i++){var r=collisionResources_1[_i];if(_this._invalids[r]){invalids[r]=_this._invalids[r][newSlot]}if(_this._events[r]){var possibleOverlaps={};var eventsForResource=_this._events[r][newSlot];for(var _a=0,_b=Object.keys(eventsForResource);_a<_b.length;_a++){var dateKey=_b[_a];var eventsForDay=eventsForResource[dateKey];possibleOverlaps[dateKey]={allDay:eventsForDay.allDay.filter((function(e){return e.id!==draggedEvent_1.id&&(!allowOverlap_1||e.original.overlap===false)})),data:eventsForDay.data.filter((function(e){return e.id!==draggedEvent_1.id&&(!allowOverlap_1||e.original.overlap===false)}))}}events[r]=possibleOverlaps}}var action=args.action||(state.dragData?"drag":"click");var allowUpdate=!eventLeft&&(changed?s.eventDragEnd({action:action,collision:checkCollision(invalids,newBufferStart,newBufferEnd,allDay,true,s.invalidateEvent,s),create:isCreating,domEvent:args.domEvent,event:draggedEvent_1,external:args.external,from:args.from,newResource:newResource,newSlot:newSlot,oldResource:oldResource,oldResourceObj:_this._resourcesMap[oldResource],oldSlot:oldSlot,oldSlotObj:_this._slotsMap[oldSlot],overlap:checkCollision(events,newBufferStart,newBufferEnd,allDay,isTimeline,"strict",s),resource:updatedResource!==DEF_ID?updatedResource:UNDEFINED,resourceObj:newResource!==DEF_ID?_this._resourcesMap[newResource]:UNDEFINED,slot:newSlot!==DEF_ID?newSlot:UNDEFINED,slotObj:_this._slotsMap[newSlot],source:source}):true);var keepDragMode=state.isTouchDrag&&!eventLeft&&(!isCreating||allowUpdate);if(allowUpdate&&keepDragMode&&oldResource!==newResource&&!origEvent.color){var resColor=newRes&&newRes.color;if(resColor){draggedEvent_1.color=resColor;draggedEvent_1.style.background=resColor;draggedEvent_1.style.color=getTextColor(resColor)}else{draggedEvent_1.color=UNDEFINED;draggedEvent_1.style={}}}if(!keepDragMode&&action!=="click"){_this._hook("onEventDragEnd",{domEvent:args.domEvent,event:(isCreating?_this._tempEvent:event_1).original,resource:newResource!==DEF_ID?newResource:UNDEFINED,resourceObj:newResource!==DEF_ID?_this._resourcesMap[newResource]:UNDEFINED,slot:newSlot!==DEF_ID?newSlot:UNDEFINED,slotObj:newSlot!==DEF_ID?_this._slotsMap[newSlot]:UNDEFINED,source:source})}_this._dragData=keepDragMode?{draggedEvent:allowUpdate?draggedEvent_1:__assign({},event_1),originDate:allowUpdate?draggedEvent_1.date:event_1.date,originDates:allowUpdate?_this._getDragDates(draggedEvent_1,newResource,newSlot):dragData.originDates,originResource:allowUpdate?newResource:dragData.originResource}:UNDEFINED;_this.setState({dragData:_this._dragData,isTouchDrag:keepDragMode});_this._tempStart=0;_this._tempEnd=0;_this._tempAllDay=UNDEFINED;_this._dragDelta=UNDEFINED;_this._dragTime=UNDEFINED;_this._onMouseMove(args.domEvent);_this._isTouch=false}};_this._onExternalDrag=function(args){var s=_this.s;var clone=args.clone;var isSelf=args.from===_this;var isResourceDrag=args.dragData&&args.dragDataType==="resource";var externalResourceDrop=isResourceDrag&&!isSelf&&s.externalResourceDrop;var externalDrop=!isResourceDrag&&!isSelf&&s.externalDrop;var instantDrag=!isResourceDrag&&isSelf&&s.externalDrag&&!s.dragToMove;var dragData=_this._dragData;var resourceArgs=args;if(externalDrop||externalResourceDrop||s.externalDrag||s.externalResourceDrag){var isInArea=!instantDrag&&args.endY<_this._gridContBottom&&args.endY>_this._allDayTop&&args.endX>_this._gridContLeft-(isResourceDrag?s.rtl?0:_this._resourceWidth:0)&&args.endX<_this._gridContRight+(isResourceDrag?s.rtl?_this._resourceWidth:0:0);switch(args.eventName){case"onDragModeOff":if(externalDrop){_this._onEventDragModeOff(args)}break;case"onDragModeOn":if(externalDrop){_this._onEventDragModeOn(args)}break;case"onDragStart":if(externalResourceDrop){_this._onResourceDragStart(resourceArgs)}else if(externalDrop){_this._onEventDragStart(args)}else if(isSelf){_this._onCalendar=true}break;case"onDragMove":if(!isSelf&&!externalDrop&&!externalResourceDrop){return}if(isInArea){if(!_this._onCalendar){if(isResourceDrag&&(s.externalResourceDrag||s.externalResourceDrop)){_this._hook("onResourceDragEnter",{domEvent:resourceArgs.domEvent,resource:resourceArgs.dragData,source:"timeline"})}else if(s.externalDrag||s.externalDrop){_this._hook("onEventDragEnter",{domEvent:args.domEvent,event:args.dragData,source:_this._isTimeline?"timeline":"schedule"})}}if(isSelf||externalDrop&&_this._onEventDragMove(args)!==false||externalResourceDrop&&_this._onResourceDragMove(resourceArgs)===UNDEFINED){clone.style.display="none"}_this._onCalendar=true}else{if(_this._onCalendar){if(isResourceDrag&&(s.externalResourceDrag||s.externalResourceDrop)){_this._hook("onResourceDragLeave",{domEvent:resourceArgs.domEvent,resource:resourceArgs.dragData,source:"timeline"});clearTimeout(_this._scrollTimer);clone.style.display=""}else if(s.externalDrag||s.externalDrop){_this._hook("onEventDragLeave",{domEvent:args.domEvent,event:args.dragData,source:_this._isTimeline?"timeline":"schedule"});clearTimeout(_this._scrollTimer);clone.style.display="table"}if(!isSelf||dragData){_this._dragData={draggedDates:{},draggedEvent:isSelf?dragData&&dragData.draggedEvent:UNDEFINED,draggedResource:isSelf?dragData&&dragData.draggedResource:UNDEFINED,draggedResourceVisible:false,originDate:isSelf?dragData&&dragData.originDate:UNDEFINED,originDates:isSelf?dragData&&dragData.originDates:UNDEFINED,originResource:isSelf?dragData&&dragData.originResource:UNDEFINED};_this.setState({dragData:_this._dragData})}_this._tempStart=0;_this._tempEnd=0;_this._tempAllDay=UNDEFINED;_this._tempResource=UNDEFINED;_this._dragDelta=UNDEFINED;_this._onCalendar=false;_this._onMouseLeave(UNDEFINED,true)}}break;case"onDragEnd":if(externalDrop||externalResourceDrop){if(isInArea&&_this._tempResource!==UNDEFINED){if(externalResourceDrop){_this._onResourceDragEnd(resourceArgs)}else if(externalDrop){_this._onEventDragEnd(args)}}else{_this._dragData=UNDEFINED;_this.setState({dragData:UNDEFINED,isTouchDrag:false});_this._hook("onEventDragEnd",{domEvent:args.domEvent,event:args.dragData,resource:args.resource,resourceObj:args.resource!==DEF_ID?_this._resourcesMap[args.resource]:UNDEFINED,slot:args.slot,slotObj:args.slot!==DEF_ID?_this._slotsMap[args.slot]:UNDEFINED,source:args.source})}}break}}};return _this}STBase.prototype._isToday=function(d){return isSameDay(new Date(d),createDate$1(this.s))};STBase.prototype._toggleResource=function(resource,domEvent){resource.collapsed=!resource.collapsed;this._hook(resource.collapsed?"onResourceCollapse":"onResourceExpand",{domEvent:domEvent,resource:resource.id,resourceObj:resource});this._visibleResources=this._flattenResources(this._resourcesCopy,[],0);this._shouldCheckSize=true;this._isParentClick=true;this._calcRowHeights=true;this.forceUpdate()};STBase.prototype._getEventPos=function(event,day,dateKey,displayedMap){var s=this.s;var tzOpt=event.allDay?UNDEFINED:s;var d=createDate$1(tzOpt,day.getFullYear(),day.getMonth(),day.getDate());var nextDay=getDateOnly(addDays(d,1));var firstDay=tzOpt?this._firstDayTz:this._firstDay;var lastDay=tzOpt?this._lastDayTz:this._lastDay;var isTimeline=this._isTimeline;var groupByDate=!isTimeline&&!this._groupByResource;var isAllDay=event.allDay;var origEvent=event.original;var startTime=this._startTime;var endTime=this._endTime+1;var displayedTime=this._time;var hasSlots=this._hasSlots;var hasResY=this._hasResY;var isDailyResolution=this._isDailyResolution;var isListing=s.eventList;var bufferAfter="";var bufferBefore="";var bufferStart=event.bufferStart;var bufferEnd=event.bufferEnd;var dayIndex=hasResY?0:this._dayIndexMap[dateKey];var start=event.start;var end=event.end;var startDate=getEventLayoutStart(event,s,isListing,isTimeline,isDailyResolution,firstDay,this._cols,this._colIndexMap);var endDate=getEventLayoutEnd(event,s,isListing,isTimeline,isDailyResolution,lastDay,this._cols,this._colIndexMap);var adjust=+startDate===+endDate?1:0;var showBuffer=s.showEventBuffer!==false&&!isListing&&!isAllDay;if(!(isAllDay||isTimeline)||hasResY&&!hasSlots){if(startDate<d){start="";startDate=createDate$1(s,d)}if(endDate>=nextDay){end="";endDate=createDate$1(s,+nextDay-1)}if(endDate>=nextDay){endDate=createDate$1(s,+nextDay-1)}}if(isAllDay||isTimeline){if(!displayedMap.get(origEvent)||hasSlots||hasResY||groupByDate){var startDay=s.startDay;var endDay=s.endDay;var isFullDay=isAllDay||isListing;var isMultiDay=!isSameDay(startDate,endDate);var daysNr=this._daysNr;if(isTimeline&&isMultiDay&&getDayMilliseconds(startDate)>=endTime){startDate=createDate$1(s,+getDateOnly(startDate)+endTime)}var eventTime=calcTimelineTime(startDate,endDate,firstDay,lastDay,startTime,endTime,startDay,endDay,isFullDay);var offset=getEventStart(startDate,startTime,displayedTime,firstDay,startDay,endDay);var width=eventTime*100/displayedTime;if(showBuffer&&bufferStart){var t=calcTimelineTime(bufferStart,startDate,firstDay,lastDay,startTime,endTime,startDay,endDay,isFullDay);bufferBefore=Math.max(0,t*100/eventTime)+"%"}if(showBuffer&&bufferEnd){var t=calcTimelineTime(endDate,bufferEnd,firstDay,lastDay,startTime,endTime,startDay,endDay,isFullDay);bufferAfter=Math.max(0,t*100/eventTime)+"%"}if(isTimeline){var diff=0;if(isListing&&!isDailyResolution){dayIndex=this._dayIndexMap[getDateStr(startDate)]}if(s.resolution==="month"||s.resolution==="quarter"){var startDayDiff=this._days[dayIndex].dayDiff;var endKey=getDateStr(endDate>=lastDay?addDays(lastDay,-1):endDate);var endIndex=this._dayIndexMap[endKey];var endDayDiff=this._days[endIndex].dayDiff;diff=endDayDiff-startDayDiff}width=(width+diff*100)/daysNr;offset=((isFullDay?0:offset)+dayIndex*100)/daysNr}var position=isTimeline?{height:this._setRowHeight?"":"100%",left:s.rtl||hasSlots?"":offset+"%",right:s.rtl&&!hasSlots?offset+"%":"",width:hasSlots?"":width+"%"}:{width:(isMultiDay&&!groupByDate?width:100)+"%"};var isStartInView=getDayMilliseconds(startDate)<endTime&&endDate>firstDay;var isEndInView=getDayMilliseconds(endDate)+adjust>startTime;if((isFullDay||isMultiDay)&&(width>0||hasSlots)||isStartInView&&isEndInView){displayedMap.set(origEvent,true);return{bufferAfter:bufferAfter,bufferBefore:bufferBefore,end:end,endDate:endDate,offset:offset,position:position,start:start,startDate:startDate}}}}else{if(getDayMilliseconds(startDate)<endTime&&getDayMilliseconds(endDate)+adjust>startTime&&endDate>=startDate){var eventTime=calcSchedulerTime(startDate,endDate,startTime,endTime);var eventHeight=eventTime*100/displayedTime;if(showBuffer&&bufferStart){if(!isSameDay(bufferStart,startDate)){bufferStart=createDate$1(s,+getDateOnly(startDate)+startTime)}var bufferTime=calcSchedulerTime(bufferStart,startDate,startTime,endTime);bufferBefore=bufferTime*100/eventTime+"%"}if(showBuffer&&bufferEnd){if(!isSameDay(bufferEnd,startDate)){bufferEnd=createDate$1(s,+getDateOnly(startDate)+endTime-1)}var bufferTime=calcSchedulerTime(endDate,bufferEnd,startTime,endTime);bufferAfter=bufferTime*100/eventTime+"%"}return{bufferAfter:bufferAfter,bufferBefore:bufferBefore,cssClass:eventHeight<2?" mbsc-schedule-event-small-height":"",end:end,endDate:endDate,position:{height:eventHeight+"%",top:getEventStart(startDate,startTime,displayedTime)+"%",width:"100%"},start:start,startDate:startDate}}}return UNDEFINED};STBase.prototype._getEventData=function(event,d,resource,slot,skipLabels){var s=this.s;var isListing=s.eventList;var showBuffer=s.showEventBuffer!==false;var cols=this._cols;var colIndexMap=this._colIndexMap;var isTimeline=this._isTimeline;var isDailyResolution=this._isDailyResolution;var resId=resource?resource.id:DEF_ID;var slotId=slot?slot.id:DEF_ID;var first=event.allDay?this._firstDay:this._firstDayTz;var last=event.allDay?this._lastDay:this._lastDayTz;var ev=getEventData(s,event,d,true,resource,slot,false,!isTimeline||this._hasResY,this._isDailyResolution,skipLabels);ev.key=resId+"_"+slotId+"_"+(this._hasSlots||this._hasResY||!isTimeline?getDateStr(d):"all")+"_"+ev.uid;ev.layoutStart=+getEventLayoutStart(ev,s,isListing,isTimeline,isDailyResolution,first,cols,colIndexMap,showBuffer);ev.layoutEnd=+getEventLayoutEnd(ev,s,isListing,isTimeline,isDailyResolution,last,cols,colIndexMap,showBuffer);if(ev.layoutStart===ev.layoutEnd){ev.layoutEnd+=1}if(event.allDay&&s.exclusiveEndDates&&+ev.endDate===+ev.startDate){ev.endDate=getDateOnly(addDays(ev.startDate,1))}return ev};STBase.prototype._getEvents=function(eventMap){var _this=this;var s=this.s;var resources=this._resources;var slots=this._slots;var hasSlots=this._hasSlots;var hasResY=this._hasResY;var isTimeline=this._isTimeline;var isSchedule=!isTimeline;var events={};var eventMaps=getResourceMap(eventMap,resources,slots,!!s.resources,!!s.slots);var eventLabels={};var firstDay=this._firstDay;var lastDay=this._lastDay;var variableEvent=this._variableEventHeight;var variableRow=this._setRowHeight;var connectionMap={};var cols=this._cols;var allKey="all";var createEventMaps=this._createEventMaps||s.renderHour||s.renderHourFooter||s.renderDay||s.renderDayFooter||s.renderWeek||s.renderWeekFooter||s.renderMonth||s.renderMonthFooter||s.renderQuarter||s.renderQuarterFooter||s.renderYear||s.renderYearFooter;if(createEventMaps){cols.forEach((function(c){return c.eventMap={all:[]}}))}if(s.connections){for(var _i=0,_a=s.connections;_i<_a.length;_i++){var c=_a[_i];connectionMap[c.from]=true;connectionMap[c.to]=true}}var _loop_1=function(resource){var resourceId=resource.id;var eventDisplayMap=new Map;var eventRows=0;var groups=[];var next={};var processGroups=function(dateKey,date,slot){var slotId=slot?slot.id:DEF_ID;var tracks=[];for(var n=0;n<groups.length;n++){var group=groups[n];var nr=group.stacks.length;var moreNr=group.more.length;if(variableRow&&nr>eventRows){eventRows=nr}for(var i=0;i<nr;i++){if(tracks[i]===UNDEFINED){tracks[i]=0}for(var _i=0,_a=group.stacks[i];_i<_a.length;_i++){var event_2=_a[_i];event_2.track=variableEvent?i:0;if(!hasSlots){var add=isTimeline&&moreNr&&!variableRow?1:0;var dimension=((next[event_2.uid]||nr+add)-i)/(nr+add)*100;if(isSchedule){event_2.position.width=dimension+"%";event_2.position[s.rtl?"right":"left"]=i*100/nr+"%";event_2.position[s.rtl?"left":"right"]="auto"}else{event_2.position.height=variableRow?"":dimension+"%";event_2.position.top=variableEvent?0:variableRow?i:i*100/(nr+add)+"%"}}}}if(moreNr){var moreStart=void 0;var moreEnd=void 0;for(var _b=0,_c=group.more;_b<_c.length;_b++){var event_3=_c[_b];if(!moreStart||event_3.startDate<moreStart){moreStart=event_3.startDate}if(!moreEnd||event_3.endDate>moreEnd){moreEnd=event_3.endDate}}var moreDate=date||new Date(group.more[0].date);var moreDateKey=getDateStr(moreDate);var key="more-"+(isSchedule||hasResY?moreDateKey+"-":"")+resourceId;var mText=s.moreEventsText||"";var moreText=(moreNr>1?s.moreEventsPluralText||mText:mText).replace(/{count}/,moreNr);var moreData=_this._getEventData({color:"#ddd",cssClass:"mbsc-schedule-event-more",editable:false,end:moreEnd,id:key+(hasSlots?(hasResY?"":"-"+moreDateKey)+"-"+slotId:"")+"-"+n,more:group.more,start:moreStart,text:(isSchedule?"+":"")+(isTimeline?moreText:moreNr)},moreDate,resource,slot);var morePos=_this._getEventPos(moreData,moreDate,moreDateKey,eventDisplayMap);if(morePos){moreData.position=morePos.position;if(isTimeline){moreData.offset=morePos.offset;moreData.position.height=variableRow?"":100/(nr+1)+"%";moreData.position.top=hasSlots?"":variableRow?nr:nr*100/(nr+1)+"%";moreData.track=variableEvent?nr:0;tracks[nr]=0;events[resourceId][slotId][hasResY||hasSlots?moreDateKey:allKey].data.push(moreData)}else{moreData.showText=true;moreData.position.width="24px";moreData.position[s.rtl?"right":"left"]="auto";moreData.position[s.rtl?"left":"right"]="-24px";events[resourceId][slotId][moreDateKey].hasMore=true;events[resourceId][slotId][moreDateKey].data.push(moreData)}}_this._eventRows[key]=1}}events[resourceId][slotId][dateKey].tracks=tracks};events[resourceId]={};var _loop_2=function(slot){var slotId=slot.id;var eventsForSlot=eventMaps[resourceId][slotId];var eventKeys=Object.keys(eventsForSlot).sort();events[resourceId][slotId]={all:{allDay:[],data:[]}};if(isSchedule){eventLabels[slotId]=getLabels(s,eventsForSlot,firstDay,lastDay,-1,this_1._daysNr,true,s.startDay,false)}var _loop_3=function(dateKey){var d=eventMap[dateKey].date;if(this_1._dayIndexMap[dateKey]!==UNDEFINED&&isInWeek(d.getDay(),s.startDay,s.endDay)){var eventsForDay=sortEvents(eventsForSlot[dateKey],s)||[];if(isSchedule||hasResY||hasSlots){groups=[];next={}}events[resourceId][slotId][dateKey]={allDay:[],data:[]};if(hasResY){eventRows=this_1._eventRows[dateKey+"-"+resourceId]||0}for(var _e=0,eventsForDay_1=eventsForDay;_e<eventsForDay_1.length;_e++){var ev=eventsForDay_1[_e];if(!ev.allDay||isTimeline){var event_4=this_1._getEventData(ev,d,resource,slot);var pos=this_1._getEventPos(event_4,d,dateKey,eventDisplayMap);event_4.position=UNDEFINED;if(pos){event_4.cssClass=pos.cssClass;event_4.offset=pos.offset;event_4.position=pos.position;event_4.bufferAfter=pos.bufferAfter;event_4.bufferBefore=pos.bufferBefore;if(isSchedule||hasResY){event_4.showText=true}calcLayout(s,groups,event_4,next,this_1._maxEventStack||1);events[resourceId][slotId][allKey].data.push(event_4);this_1._eventMap[event_4.id]=event_4;if(createEventMaps){var timeStep=this_1._stepCell;var isHoursResolution=this_1._isDailyResolution&&timeStep<1440*ONE_MIN;var firstDayTz=ev.allDay?firstDay:addTimezone(s,firstDay);var first=event_4.startDate>firstDayTz?event_4.startDate:firstDayTz;var colIndex=this_1._colIndexMap[getDateStr(first)];var overlap=true;while(overlap&&colIndex<cols.length){var col=cols[colIndex];var dtStart=col.date;var dtEnd=colIndex<cols.length-1?cols[colIndex+1].date:lastDay;var start=dtStart;var addedToAll=false;while(start<dtEnd){var ts=+start;var end=isHoursResolution?new Date(ts+timeStep):dtEnd;var colStart=ev.allDay?dtStart:addTimezone(s,start);var colEnd=ev.allDay?dtEnd:addTimezone(s,end);if(checkDateRangeOverlap(event_4.startDate,event_4.endDate,colStart,colEnd,true)){if(!col.eventMap[ts]){col.eventMap[ts]=[]}if(!addedToAll){col.eventMap.all.push(event_4.original);addedToAll=true}col.eventMap[ts].push(event_4.original);overlap=true}else{overlap=false}start=end}colIndex++}}}events[resourceId][slotId][dateKey].data.push(event_4);if(isTimeline&&ev.allDay){events[resourceId][slotId][dateKey].allDay.push(event_4)}}}if(isSchedule&&eventLabels[slotId][dateKey]){eventLabels[slotId][dateKey].data.forEach((function(labels){return labels.forEach((function(_a){var event=_a.event,position=_a.position;if(event){var ev=_this._getEventData(event,d,resource,slot);var pos=_this._getEventPos(ev,d,dateKey,eventDisplayMap);if(pos){ev.bufferAfter=pos.bufferAfter;ev.bufferBefore=pos.bufferBefore}ev.position={width:pos?pos.position.width:position.width};ev.showText=!!pos;events[resourceId][slotId][dateKey].allDay.push(ev)}}))}))}if(isSchedule||hasResY||hasSlots){processGroups(dateKey,d,slot)}if(hasResY){this_1._eventRows[dateKey+"-"+resourceId]=eventRows}}else if(s.connections){var eventsForDay=eventsForSlot[dateKey]||[];for(var _f=0,eventsForDay_2=eventsForDay;_f<eventsForDay_2.length;_f++){var event_5=eventsForDay_2[_f];var id=event_5.id;if(!this_1._eventMap[id]&&connectionMap[id]){this_1._eventMap[id]=this_1._getEventData(event_5,d,resource,slot)}}}};for(var _d=0,eventKeys_1=eventKeys;_d<eventKeys_1.length;_d++){var dateKey=eventKeys_1[_d];_loop_3(dateKey)}};for(var _c=0,slots_1=slots;_c<slots_1.length;_c++){var slot=slots_1[_c];_loop_2(slot)}if(isTimeline&&!hasSlots&&!hasResY){processGroups(allKey)}if(!hasResY){this_1._eventRows[resourceId]=eventRows}};var this_1=this;for(var _b=0,resources_1=resources;_b<resources_1.length;_b++){var resource=resources_1[_b];_loop_1(resource)}return events};STBase.prototype._getInvalids=function(invalidMap){var _a;var s=this.s;var isListing=s.eventList;var map=invalidMap||{};var invalids={};var minD=makeDate(s.minDate,s);var maxD=makeDate(s.maxDate,s);var minDate=isListing&&minD?getDateOnly(minD):minD;var maxDate=isListing&&maxD?getDateOnly(addDays(maxD,1)):maxD;var isTimeline=this._isTimeline;if(minDate){for(var d=getDateOnly(this._firstDayTz);d<minDate;d.setDate(d.getDate()+1)){var dateKey=getDateStr(d);var invalidsForDay=map[dateKey]||[];invalidsForDay.push({end:isSameDay(d,minDate)?minDate:addDays(d,1),start:cloneDate(d)});map[dateKey]=invalidsForDay}}if(maxDate){for(var d=getDateOnly(maxDate);d<this._lastDayTz;d.setDate(d.getDate()+1)){var dateKey=getDateStr(d);var invalidsForDay=map[dateKey]||[];invalidsForDay.push({end:addDays(d,1),start:isSameDay(d,maxDate)?maxDate:cloneDate(d)});map[dateKey]=invalidsForDay}}var invalidMaps=getResourceMap(map,this._resources,this._slots,!!s.resources,!!s.slots);var invalidKeys=Object.keys(map).sort();for(var _i=0,_b=this._resources;_i<_b.length;_i++){var resource=_b[_i];var resourceId=resource.id;var invalidDisplayedMap=new Map;invalids[resourceId]={};for(var _c=0,_d=this._slots;_c<_d.length;_c++){var slot=_d[_c];var slotId=slot.id;var allInvalids={allDay:[],data:[]};invalids[resourceId][slotId]={all:allInvalids};for(var _e=0,invalidKeys_1=invalidKeys;_e<invalidKeys_1.length;_e++){var dateKey=invalidKeys_1[_e];var d=makeDate(dateKey);if(this._dayIndexMap[dateKey]!==UNDEFINED&&isInWeek(d.getDay(),s.startDay,s.endDay)){var invalidsForDay=invalidMaps[resourceId][slotId][dateKey]||[];var allDailyInvalids={allDay:[],data:[]};var dailyInvalids=[];invalids[resourceId][slotId][dateKey]=allDailyInvalids;for(var _f=0,invalidsForDay_1=invalidsForDay;_f<invalidsForDay_1.length;_f++){var invalid=invalidsForDay_1[_f];if(isString(invalid)||isDate(invalid)){var start=makeDate(invalid);var end=new Date(start);invalid={allDay:true,end:end,start:start}}var invalidData=this._getEventData(invalid,d,resource,slot,true);invalidData.cssClass=invalid.cssClass?" "+invalid.cssClass:"";invalidData.position=UNDEFINED;var pos=this._getEventPos(invalidData,d,dateKey,invalidDisplayedMap);if(pos){if(!isTimeline&&getDayMilliseconds(pos.startDate)===0&&+pos.endDate+1>=+addDays(addTimezone(s,d),1)){invalidData.allDay=true}else{invalidData.position=pos.position;if(getDayMilliseconds(pos.startDate)<=this._startTime){invalidData.cssClass+=" mbsc-schedule-invalid-start"}if(getDayMilliseconds(pos.endDate)>=this._endTime){invalidData.cssClass+=" mbsc-schedule-invalid-end"}}dailyInvalids.push(invalidData)}allDailyInvalids.data.push(invalidData);if(invalidData.allDay){if(!isTimeline){invalidData.position={};if(pos&&+invalidData.startDate===+invalidData.endDate){invalidData.endDate=pos.endDate}}allDailyInvalids.allDay=[invalidData];allDailyInvalids.data=[invalidData];dailyInvalids=[invalidData];break}}(_a=allInvalids.data).push.apply(_a,dailyInvalids)}}}}return invalids};STBase.prototype._getColors=function(colorMap){var s=this.s;var colors={};var colorMaps=getResourceMap(colorMap,this._resources,this._slots,!!s.resources,!!s.slots);var colorKeys=Object.keys(colorMap||{}).sort();var hasSlots=this._hasSlots;var isTimeline=this._isTimeline;var hasResY=this._hasResY;for(var _i=0,_a=this._resources;_i<_a.length;_i++){var resource=_a[_i];var resourceId=resource.id;var colorDisplayedMap=new Map;colors[resourceId]={};for(var _b=0,_c=this._slots;_b<_c.length;_b++){var slot=_c[_b];var slotId=slot.id;colors[resourceId][slotId]={all:{allDay:[],data:[]}};for(var _d=0,colorKeys_1=colorKeys;_d<colorKeys_1.length;_d++){var dateKey=colorKeys_1[_d];var d=makeDate(dateKey);if(this._dayIndexMap[dateKey]!==UNDEFINED&&isInWeek(d.getDay(),s.startDay,s.endDay)){var colorsForDay=colorMaps[resourceId][slotId][dateKey]||[];var key=!hasResY&&!hasSlots&&isTimeline?"all":dateKey;if(!isTimeline||hasSlots||hasResY){colors[resourceId][slotId][key]={allDay:[],data:[]}}var dailyColors=colors[resourceId][slotId][key];for(var _e=0,colorsForDay_1=colorsForDay;_e<colorsForDay_1.length;_e++){var color=colorsForDay_1[_e];var colorData=this._getEventData(color,d,resource,slot,true);colorData.cssClass=color.cssClass?" "+color.cssClass:"";if(colorData.allDay&&!isTimeline){dailyColors.allDay=[colorData]}else{var pos=this._getEventPos(colorData,d,dateKey,colorDisplayedMap);if(pos){colorData.position=pos.position;if(getDayMilliseconds(pos.startDate)<=this._startTime){colorData.cssClass+=" mbsc-schedule-color-start"}if(getDayMilliseconds(pos.endDate)>=this._endTime){colorData.cssClass+=" mbsc-schedule-color-end"}dailyColors.data.push(colorData)}}colorData.position.background=color.background;colorData.position.color=color.textColor?color.textColor:getTextColor(color.background)}}}}}return colors};STBase.prototype._flattenResources=function(resources,flat,depth,all,copy,fixed,parentId){var res=resources&&resources.length?resources:[{id:DEF_ID}];var immutable=this.s.immutableData;if(depth===0){this._resourceDepth=0}else if(depth>this._resourceDepth){this._resourceDepth=depth}for(var i=0;i<res.length;i++){var resource=res[i];var r=copy&&immutable?__assign({},resource):resource;var children=r.children;if(immutable){r.original=resource}r.depth=depth;r.isParent=!!(children&&children.length);r.fixed=r.fixed||fixed;flat.push(r);this._resourcesMap[r.id]=r;this._resourcesData[r.id]={index:i,lastChildIndex:i,parentId:parentId,siblings:res};if(copy&&(immutable||!depth)){copy.push(r)}if(r.isParent){this._hasHierarchy=true;if(!r.collapsed||all){if(copy&&immutable){r.children=[]}this._flattenResources(children,flat,depth+1,all,copy&&r.children,r.fixed,r.id);this._resourcesData[r.id].lastChildIndex=flat.length-1}}}return flat};STBase.prototype._render=function(s,state){var _this=this;var prevS=this._prevS;var isTimeline=this._isTimeline;var selected=new Date(s.selected);var size=+s.size;var firstDay=s.firstDay;var startDay=s.startDay;var endDay=s.endDay;var resources=s.resources;var slots=s.slots;var resolution=s.resolution;var isDailyResolution=resolution==="day"||resolution==="hour"||!isTimeline;var hasResY=s.resolutionVertical==="day";var stepLabel=isDailyResolution?roundStep(s.timeLabelStep):1440;var stepCell=isDailyResolution?roundStep(s.timeCellStep):1440;var calcDays=false;var reloadData=false;var resetRowHeights=false;var timesChanged=false;var viewChanged=false;var selectedChanged=false;var startTime=this._startTime;var endTime=this._endTime;if(s.selected!==prevS.selected){selectedChanged=true}if(s.zoomLevel!==prevS.zoomLevel&&prevS.zoomLevel!==UNDEFINED){this._scrollToMiddle=true}if(s.columnWidth!==prevS.columnWidth){viewChanged=true}if(startDay!==prevS.startDay||endDay!==prevS.endDay||s.checkSize!==prevS.checkSize||s.eventList!==prevS.eventList||s.refDate!==prevS.refDate||s.size!==prevS.size||s.type!==prevS.type||s.resolution!==prevS.resolution||s.resolutionVertical!==prevS.resolutionVertical||s.displayTimezone!==prevS.displayTimezone||s.weekNumbers!==prevS.weekNumbers){calcDays=true;viewChanged=true}if(s.eventHeight!==prevS.eventHeight||s.eventList!==prevS.eventList||s.rowHeight!==prevS.rowHeight||s.maxEventStack!==prevS.maxEventStack){resetRowHeights=true}if(calcDays||resetRowHeights||s.rtl!==prevS.rtl||s.dateFormat!==prevS.dateFormat||s.getDay!==prevS.getDay){reloadData=true}if(s.slots!==prevS.slots||this._slots===UNDEFINED){this._hasSlots=isTimeline&&!!slots&&slots.length>0;this._slots=slots&&slots.length?slots:[{id:DEF_ID}];this._slotsMap=(slots||[]).reduce((function(map,res){map[res.id]=res;return map}),{});reloadData=true}if(resources!==prevS.resources||this._resources===UNDEFINED||this._reloadResources){this._resourcesData={};this._resourcesMap={};if(resources!==prevS.resources||this._resources===UNDEFINED){this._hasResources=!!resources;this._hasHierarchy=false;this._resourcesCopy=[];this._resources=this._flattenResources(resources,[],0,true,this._resourcesCopy)}else{this._resources=this._flattenResources(this._resourcesCopy,[],0,true)}this._visibleResources=this._flattenResources(this._resourcesCopy,[],0);this._isSingleResource=this._resources.length===1;this._reloadResources=false;reloadData=true}if(calcDays||selectedChanged||s.getDay!==prevS.getDay||s.monthNames!==prevS.monthNames||s.dateFormat!==prevS.dateFormat||s.currentTimeIndicator!==prevS.currentTimeIndicator){var now=removeTimezone(createDate$1(s));var isDaily=s.type==="day";var isMonthly=s.type==="month";var isYearly=s.type==="year";var isDayViewOnly=isDaily&&size<2;var navService=s.navService;var monthPos=s.dateFormat.search(/m/i);var yearPos=s.dateFormat.search(/y/i);var datePos=s.dateFormat.search(/d/i);var yearFirst=yearPos<monthPos;var dayFirst=datePos<monthPos;var firstGridDay=void 0;var lastGridDay=void 0;var firstHeaderDay=void 0;var lastHeaderDay=void 0;if(size>1||isYearly||isMonthly){firstHeaderDay=firstGridDay=navService.firstDay;lastHeaderDay=lastGridDay=navService.lastDay}else{var firstWeekDay=getFirstDayOfWeek(selected,s);firstHeaderDay=addDays(firstWeekDay,startDay-firstDay+(startDay<firstDay?7:0));if(isDaily){if(selected<firstHeaderDay){firstHeaderDay=addDays(firstHeaderDay,-7)}if(selected>=addDays(firstHeaderDay,7)){firstHeaderDay=addDays(firstHeaderDay,7)}}lastHeaderDay=addDays(firstHeaderDay,endDay-startDay+1+(endDay<startDay?7:0));firstGridDay=isDaily?getDateOnly(selected):firstHeaderDay;lastGridDay=isDaily?addDays(firstGridDay,1):lastHeaderDay}if(isTimeline&&resolution==="week"&&(isYearly||isMonthly)){firstGridDay=navService.viewStart;lastGridDay=navService.viewEnd}if(selectedChanged&&isDaily&&size<2){reloadData=true}this._isMulti=size>1||isYearly;this._isDailyResolution=isDailyResolution;this._hasResY=hasResY;this._firstDayTz=createDate$1(s,firstGridDay.getFullYear(),firstGridDay.getMonth(),firstGridDay.getDate());this._lastDayTz=createDate$1(s,lastGridDay.getFullYear(),lastGridDay.getMonth(),lastGridDay.getDate());this._selectedDay=+getDateOnly(selected);this._showTimeIndicator=!s.eventList&&(s.currentTimeIndicator===UNDEFINED?!isTimeline||isDailyResolution&&stepCell<1440:s.currentTimeIndicator)&&(isDaily&&size<2?isSameDay(now,selected):firstGridDay<=now&&lastGridDay>=now);if(reloadData||+firstGridDay!==+this._firstDay||+lastGridDay!==+this._lastDay){if(!reloadData){resetRowHeights=true}this._firstDay=firstGridDay;this._lastDay=lastGridDay;this._colIndexMap={};this._cols=[];this._dayIndexMap={};this._days=[];this._headerDays=[];var i=0;var j=-1;var dayDiff=0;var daysInMonth=0;var year=-1;var columnTitle="";var month=-1;var monthIndex=-1;var monthText="";var week=-1;var weekIndex=-1;var weekText="";var first=firstGridDay;var last=lastGridDay;var lastColStart=0;var weekEndDay=UNDEFINED;var newWeek=0;if(!isTimeline&&isDayViewOnly){first=firstHeaderDay;last=lastHeaderDay}for(var d=getDateOnly(first);d<getDateOnly(last);d.setDate(d.getDate()+1)){var dateKey=getDateStr(d);var weekDay=d.getDay();this._dayIndexMap[dateKey]=i;if(isInWeek(weekDay,startDay,endDay)){var lastOfMonth=void 0;var monthTitle="";var weekTitle="";var columnChange=isDailyResolution;if(isTimeline&&!hasResY){newWeek=s.getWeekNumber(addDays(d,(7-firstDay+1)%7));var newDay=s.getDay(d);var newMonth=s.getMonth(d);var newYear=s.getYear(d);var monthName=s.monthNames[newMonth];if(year!==newYear){year=newYear;if(resolution==="year"){columnChange=true;columnTitle=""+year}}if(month!==newMonth){if(resolution==="month"){columnTitle=isYearly&&size<2?monthName:yearFirst?newYear+" "+monthName:monthName+" "+newYear;columnChange=true}else if(resolution==="quarter"&&newMonth%3===0){var quarterNumber=newMonth/3+1;var quarterText=s.quarterText.replace("{count}",""+quarterNumber);columnTitle=isYearly&&size<2?quarterText:yearFirst?newYear+" "+quarterText:quarterText+" "+newYear;columnChange=true}else if(isDailyResolution){monthText=yearFirst?newYear+" "+monthName:monthName+" "+newYear;monthTitle=monthText}monthIndex=i;month=newMonth;daysInMonth=s.getMaxDayOfMonth(year,month)}if(week!==newWeek){weekIndex=i;week=newWeek;weekText=s.weekText.replace(/{count}/,week);weekTitle=weekText;if(i>0){this._days[i-1].lastOfWeek=true}}if((weekDay===startDay||!i)&&resolution==="week"){var dateFormat=dayFirst?"D MMM":"MMM D";weekEndDay=addDays(d,endDay-startDay+(endDay<startDay?7:0));columnTitle=formatDate(dateFormat,d,s)+" - "+formatDate(dateFormat,weekEndDay,s);columnChange=true}var hiddenWeekDays=(startDay-endDay-1+7)%7;lastOfMonth=newDay===daysInMonth||weekDay===endDay&&hiddenWeekDays>=daysInMonth-newDay;if(lastOfMonth&&(resolution==="month"||resolution==="quarter")){dayDiff+=31-daysInMonth}}var dayData={columnTitle:columnTitle,date:new Date(d),dateIndex:i,dateKey:dateKey,dateText:formatDate(hasResY?isMonthly&&!this._isMulti?"D DDD":resources?s.dateFormatLong:s.dateFormat:isMonthly||this._isMulti?"D DDD":s.dateFormatLong,d,s),day:s.getDay(d),dayDiff:dayDiff,dayName:dateTimeLocale.dayNamesShort[i%7].toLowerCase(),endDate:weekEndDay,eventMap:{all:[]},label:formatDate("DDDD, MMMM D, YYYY",d,s),lastOfMonth:lastOfMonth,monthIndex:monthIndex,monthText:monthText,monthTitle:monthTitle,times:[],timestamp:+getDateOnly(d),weekIndex:weekIndex,weekNr:newWeek,weekText:weekText,weekTitle:weekTitle};if(columnChange){dayData.isActive=d<=now&&now<last;if(lastColStart){this._cols[j].isActive=lastColStart<=+now&&now<d}lastColStart=+d;this._cols.push(dayData);j++}if(isDayViewOnly){this._headerDays.push(dayData)}if(!isDayViewOnly||this._selectedDay===+d){this._days.push(dayData)}if(lastOfMonth&&(resolution==="month"||resolution==="quarter")){for(var k=daysInMonth;k<31;k++){this._days.push(dayData);i++}}i++}this._colIndexMap[dateKey]=j<0?0:j}this._colsNr=hasResY?1:j+1;this._daysNr=hasResY||isDayViewOnly?1:i}}if(s.startTime!==prevS.startTime||s.endTime!==prevS.endTime||s.timeLabelStep!==prevS.timeLabelStep||s.timeCellStep!==prevS.timeCellStep||s.timeFormat!==prevS.timeFormat||this._startTime===UNDEFINED||this._endTime===UNDEFINED){timesChanged=true;viewChanged=true}if(timesChanged||!isTimeline&&selectedChanged||!isTimeline&&s.timezones!==prevS.timezones){var start=makeDate(s.startTime||"00:00");var end=new Date(+makeDate(s.endTime||"00:00")-1);var timezones=this._timezones||[{label:"",timezone:""}];this._startTime=startTime=getDayMilliseconds(start);this._endTime=endTime=getDayMilliseconds(end);this._time=endTime-startTime+1;this._timesBetween=getArray(floor(stepCell/stepLabel)-1);this._times=[];var timeLabels_1=[];var timeStep=stepCell*ONE_MIN;var timesFrom=floor(startTime/timeStep)*timeStep;var labelStep_1=stepLabel*ONE_MIN;var formatTime_1=function(v,timezone,log){var format=s.timeFormat;var timeFormat=/a/i.test(format)&&labelStep_1===ONE_HOUR&&v%ONE_HOUR===0?format.replace(/.[m]+/i,""):format;var d=new Date(+REF_DATE+v);var firstDate=d;if(timezone){firstDate=_this._firstDayTz;var nextDay=addDays(firstDate,1);var firstDateEnd=createDate$1(s,+nextDay-1);var isDSTDay=firstDate.getTimezoneOffset()!==firstDateEnd.getTimezoneOffset();if((s.type!=="day"||size>1||v===endTime+1&&getDayMilliseconds(d)===0)&&isDSTDay){firstDate=nextDay}}var dd=createDate$1(s,firstDate.getFullYear(),firstDate.getMonth(),firstDate.getDate(),d.getHours(),d.getMinutes());if(isMBSCDate(dd)&&timezone){dd.setTimezone(timezone)}return formatDate(timeFormat,dd,s)};var _loop_4=function(d){this_2._times.push(d);var first=d===timesFrom;timezones.forEach((function(tz,i){if(!timeLabels_1[i]){timeLabels_1[i]={}}if(!timeLabels_1[i][endTime+1]&&!isTimeline){timeLabels_1[i][endTime+1]=formatTime_1(endTime+1,tz.timezone,true)}timeLabels_1[i][d]=first||d%labelStep_1===0?formatTime_1(first?startTime:d,tz.timezone):"";_this._timesBetween.forEach((function(tb,j){var ms=d+(j+1)*labelStep_1;timeLabels_1[i][ms]=formatTime_1(ms,tz.timezone)}))}));this_2._timeLabels=timeLabels_1};var this_2=this;for(var d=timesFrom;d<=endTime;d+=timeStep){_loop_4(d)}reloadData=true}this._groupByResource=s.groupBy!=="date"&&!(s.type==="day"&&size<2)||this._isSingleResource;this._stepCell=stepCell*ONE_MIN;this._stepLabel=stepLabel*ONE_MIN;this._dayNames=state.dayNameWidth>49?s.dayNamesShort:s.dayNamesMin;this._displayTime=stepLabel<1440&&isDailyResolution;this._eventHeight=state.eventHeight||(s.eventList?24:46);this._showCursorTime=this._displayTime&&!!(s.dragToCreate||s.dragToMove||s.dragToResize);this._setRowHeight=s.eventList||s.rowHeight!=="equal";this._variableEventHeight=s.eventHeight==="variable";if(s.maxEventStack!=="auto"){this._maxEventStack=s.maxEventStack||"all"}if(s.colorsMap!==prevS.colorsMap||reloadData){this._colors=this._getColors(s.colorsMap)}if(s.eventMap!==prevS.eventMap||s.showEventBuffer!==prevS.showEventBuffer||reloadData||!this._events||this._reloadEvents){this._eventMap={};this._eventRows={};this._events=this._getEvents(s.eventMap);this._reloadEvents=false;this._calcRowHeights=true}if(s.invalidsMap!==prevS.invalidsMap||reloadData){this._invalids=this._getInvalids(s.invalidsMap)}var checkEventHeight=isTimeline&&s.eventMap!==prevS.eventMap;if(s.height!==prevS.height||s.width!==prevS.width||s.groupBy!==prevS.groupBy||checkEventHeight||reloadData){this._shouldCheckSize=isBrowser&&!!s.height&&!!s.width;this._calcRowHeights=true}if(s.scroll!==prevS.scroll){this._shouldScroll=true;this._shouldAnimateScroll=prevS.selected!==UNDEFINED&&selectedChanged&&!viewChanged}if(s.height!==UNDEFINED){this._hasSideSticky=hasSticky&&!s.rtl;this._hasSticky=hasSticky}if(resetRowHeights){this._rowHeightsReal={};this._eventHeights={}}if(selectedChanged){this._selectedChanged=true}if(viewChanged){this._viewChanged++;setTimeout((function(){_this._viewChanged--}),50)}};STBase.prototype._mounted=function(){var _this=this;var allowCreate;var allowStart;var allowResourceSort;var isResourceSort;var startTarget;var validTarget;this._unlisten=gestureListener(this._el,{onDoubleClick:function(args){var s=_this.s;if(validTarget&&s.clickToCreate&&s.clickToCreate!=="single"){args.click=true;if(_this._onEventDragStart(args)){_this._onEventDragEnd(args)}}},onEnd:function(args){if(isResourceSort&&allowResourceSort){_this._onResourceDragEnd(args)}else if(!allowCreate&&allowStart&&_this.s.clickToCreate==="single"){args.click=true;if(_this._onEventDragStart(args)){allowCreate=true}}if(!isResourceSort&&allowCreate){args.domEvent.preventDefault();_this._onEventDragEnd(args)}clearTimeout(_this._touchTimer);allowCreate=false;allowStart=false;allowResourceSort=false;isResourceSort=false},onMove:function(args){var s=_this.s;var resourceArgs=args;var hasMoved=Math.abs(args.deltaX)>7||Math.abs(args.deltaY)>7;if(allowResourceSort){args.domEvent.preventDefault();_this._onResourceDragMove(resourceArgs)}else if(allowStart&&isResourceSort&&hasMoved){_this._onResourceDragStart(resourceArgs,startTarget);allowResourceSort=true}else if(allowCreate&&s.dragToCreate){args.domEvent.preventDefault();_this._onEventDragMove(args)}else if(allowStart&&s.dragToCreate&&hasMoved){if(_this._onEventDragStart(args)){allowCreate=true}else{allowStart=false}}else{clearTimeout(_this._touchTimer)}},onStart:function(args){startTarget=args.domEvent.target;var s=_this.s;var resourceArgs=args;var targetClasses=startTarget&&startTarget.classList;args.create=true;args.click=false;_this._isTouch=args.isTouch;if(!allowResourceSort&&s.resourceReorder&&targetClasses&&targetClasses.contains("mbsc-timeline-resource-sort")){isResourceSort=true;args.create=false;if(args.isTouch){_this._touchTimer=setTimeout((function(){_this._onResourceDragStart(resourceArgs,startTarget);_this._onResourceDragMove(resourceArgs);setTimeout((function(){_this._onResourceDragMove(resourceArgs)}));allowResourceSort=true}),350)}else{allowStart=true}}if(!allowCreate&&(s.dragToCreate||s.clickToCreate)){validTarget=targetClasses&&(targetClasses.contains("mbsc-schedule-item")||targetClasses.contains("mbsc-schedule-all-day-item")||targetClasses.contains("mbsc-timeline-column"));if(validTarget){if(args.isTouch&&s.dragToCreate){_this._touchTimer=setTimeout((function(){if(_this._onEventDragStart(args)){_this._onEventDragModeOn(args);allowCreate=true}}),350)}else{allowStart=!args.isTouch}}}}});this._unsubscribe=subscribeExternalDrag(this._onExternalDrag)};STBase.prototype._updated=function(){var _this=this;var s=this.s;var state=this.state;var grid=this._gridCont;var scrollCont=this._scrollCont;var shouldCheckSize=this._shouldCheckSize;var calcRowHeights=this._calcRowHeights&&this._setRowHeight&&this._variableEventHeight;if(this._scrollAfterResize){ngSetTimeout(this,(function(){_this._onScroll();_this._scrollAfterResize=false}))}if(this._selectedChanged){if(!this._shouldScroll){this._setViewDates()}this._selectedChanged=false}if(shouldCheckSize||calcRowHeights){ngSetTimeout(this,(function(){var resCont=_this._resCont;var headerCont=_this._headerCont;var footerCont=_this._footerCont;var sidebarCont=_this._sidebarCont;var stickyFooter=_this._stickyFooter;var headerHeight=headerCont.offsetHeight;var resContWidth=resCont?resCont.offsetWidth:0;var sidebarWidth=sidebarCont?sidebarCont.offsetWidth:0;var footerHeight=footerCont?footerCont.offsetHeight:0;var scrollContWidth=scrollCont.offsetWidth;var scrollContHeight=scrollCont.offsetHeight;var scrollClientWidth=scrollCont.clientWidth;var scrollClientHeight=scrollCont.clientHeight;var gridContWidth=scrollClientWidth-resContWidth-sidebarWidth;var gridContHeight=scrollClientHeight-headerHeight-footerHeight;var gridHeight=_this._gridHeight;var scrollBarSizeY=scrollContWidth-scrollClientWidth;var scrollBarSizeX=scrollContHeight-scrollClientHeight;var hasScrollY=scrollCont.scrollHeight>scrollClientHeight;var hasScrollX=scrollCont.scrollWidth>scrollClientWidth;var cellHeight;var cellWidth;var dayWidth;var dayNameWidth;var gridWidth;var rowHeight;var parentRowHeight;var gutterHeight;var resourceColWidth=0;var resourceDepthStep=0;var eventHeight=state.eventHeight;if(shouldCheckSize){if(_this._isTimeline){var col=scrollCont.querySelector(".mbsc-timeline-empty-column");var day=scrollCont.querySelector(".mbsc-timeline-empty-day");var gridRow=scrollCont.querySelector(".mbsc-timeline-empty-row");var parentRow=scrollCont.querySelector(".mbsc-timeline-empty-parent");var gutter=scrollCont.querySelector(".mbsc-timeline-row-gutter");var resourceCol=scrollCont.querySelector(".mbsc-timeline-empty-resource");var resourceStep=scrollCont.querySelector(".mbsc-timeline-resource-depth-step");var colsNr=_this._colsNr;var slotsNr=_this._slots.length;var isDailyResolution=_this._isDailyResolution;cellWidth=col?col.offsetWidth:74;dayWidth=day?day.offsetWidth:0;dayWidth=isDailyResolution?Math.max(_this._time*cellWidth/_this._stepCell,dayWidth,cellWidth*slotsNr):dayWidth;cellWidth=isDailyResolution?_this._hasSlots?dayWidth/slotsNr:_this._stepCell*dayWidth/_this._time:dayWidth;rowHeight=gridRow?gridRow.offsetHeight:52;parentRowHeight=parentRow?parentRow.offsetHeight:52;gutterHeight=gutter?gutter.offsetHeight:16;resourceColWidth=resourceCol?resourceCol.offsetWidth:0;resourceDepthStep=resourceStep?resourceStep.offsetWidth:28;if(dayWidth*colsNr<=gridContWidth){hasScrollX=false;scrollBarSizeX=0}else{hasScrollX=true;scrollBarSizeX=scrollBarSizeX||scrollBarSizeY}if(gridHeight&&gridHeight<=gridContHeight){hasScrollY=false;scrollBarSizeY=0}dayWidth=hasScrollX?dayWidth:round(gridContWidth/colsNr);gridWidth=hasScrollX?dayWidth*colsNr:gridContWidth;cellWidth=hasScrollX?cellWidth:_this._stepCell*dayWidth/_this._time;_this._gridWidth=gridWidth;if(!_this._hasSticky){headerCont.style[s.rtl?"left":"right"]=scrollBarSizeY+"px";if(footerCont){footerCont.style[s.rtl?"left":"right"]=scrollBarSizeY+"px";footerCont.style.bottom=scrollBarSizeX+"px"}}if(!_this._hasSideSticky){if(resCont){resCont.style.bottom=scrollBarSizeX+"px"}if(sidebarCont){sidebarCont.style[s.rtl?"left":"right"]=scrollBarSizeY+"px";sidebarCont.style.bottom=scrollBarSizeX+"px"}}if(stickyFooter){stickyFooter.style.bottom=scrollBarSizeX+"px"}if(_this._setRowHeight&&!_this._variableEventHeight){var event_6=scrollCont.querySelector(".mbsc-schedule-event");eventHeight=event_6?event_6.clientHeight:eventHeight||(s.eventList?24:46)}}else{var gridCol=_this._el.querySelector(".mbsc-schedule-column-inner");var dayName=_this._el.querySelector(".mbsc-schedule-header-item");cellHeight=gridCol?_this._stepCell*gridCol.offsetHeight/_this._time:0;dayNameWidth=dayName?dayName.offsetWidth:0;if(s.maxEventStack==="auto"){var maxEventStack=floor(gridCol.offsetWidth/(s.minEventWidth||50));_this._reloadEvents=_this._maxEventStack!==maxEventStack;_this._maxEventStack=maxEventStack}}if(scrollCont.scrollTop>gridHeight-gridContHeight){scrollCont.scrollTop=gridHeight-gridContHeight}else{_this._onScroll()}_this._calcConnections=!!s.connections&&(_this._isParentClick||_this._calcConnections||!hasScrollY);_this._shouldCheckSize=rowHeight!==state.rowHeight||eventHeight!==state.eventHeight||hasScrollY!==state.hasScrollY;_this._scrollAfterResize=s.virtualScroll&&!_this._shouldCheckSize;_this._isCursorTimeVisible=false;_this._calcGridSizes()}if(calcRowHeights){var i_1=0;var totalDiff_1=0;var totalHeight_1=0;var scrollTop_1=scrollCont.scrollTop;var rows_1=grid.querySelectorAll(".mbsc-timeline-row-outer");var events=grid.querySelectorAll(".mbsc-timeline-event");events.forEach((function(ev){_this._eventHeights[ev.getAttribute("data-key")]=ev.getBoundingClientRect().height}));_this._virtualRows.forEach((function(rowGroup){var dKey=rowGroup.day?rowGroup.day.dateKey:"";rowGroup.rows.forEach((function(row){var key=(dKey?dKey+"-":"")+row.id;var eventCont=rows_1[i_1].querySelector(".mbsc-timeline-events");var rowSize=rows_1[i_1].querySelector(".mbsc-timeline-row-size");var baseHeight=rowSize.getBoundingClientRect().height;var height=Math.max(baseHeight,eventCont.getBoundingClientRect().height);var diff=height-_this._rowHeightsReal[key];if(_this._isScrolling&&!_this._shouldScroll&&height!==_this._rowHeightsReal[key]){_this._shouldScroll=true}if(diff&&_this._resourceTops[key]<scrollTop_1){totalDiff_1+=diff}_this._rowHeightsReal[key]=height;totalHeight_1+=height;i_1++}))}));if(totalDiff_1){scrollCont.scrollTop=scrollTop_1+totalDiff_1}if(totalHeight_1>gridContHeight){hasScrollY=true}_this._calcRowHeights=false}if(shouldCheckSize){_this.setState({cellHeight:cellHeight,cellWidth:cellWidth,dayNameWidth:dayNameWidth,dayWidth:dayWidth,eventHeight:eventHeight,footerHeight:footerHeight,gridContWidth:gridContWidth,gridWidth:gridWidth,gutterHeight:gutterHeight,hasScrollX:hasScrollX,hasScrollY:hasScrollY,headerHeight:headerHeight,parentRowHeight:parentRowHeight,resourceColWidth:resourceColWidth,resourceDepthStep:resourceDepthStep,rowHeight:rowHeight,scrollContHeight:scrollContHeight-scrollBarSizeX,scrollContWidth:scrollContWidth,update:_this._calcConnections||_this._reloadEvents||calcRowHeights?(state.update||0)+1:state.update})}else{_this.forceUpdate()}}))}if(this._triggerCreated){this._hook("onResourceCreated",this._triggerCreated);this._triggerCreated=UNDEFINED}if(this._triggerDeleted){this._hook("onResourceDeleted",this._triggerDeleted);this._triggerDeleted=UNDEFINED}if(this._shouldScroll&&(state.dayWidth||state.cellHeight)){clearTimeout(this._scrollTimer);this._scrollTimer=setTimeout((function(){_this._scrollToTime(_this._shouldAnimateScroll,_this._scrollToMiddle);_this._scrollToMiddle=false;_this._shouldAnimateScroll=true}));this._shouldScroll=false}};STBase.prototype._destroy=function(){if(this._unlisten){this._unlisten()}if(this._unsubscribe){unsubscribeExternalDrag(this._unsubscribe)}};STBase.prototype._setViewDates=function(scrollPos,scrollTop){if((!this._viewChanged||!this._viewDate)&&!this._hasResY){var s=this.s;var rtl=s.rtl?-1:1;var days=this._days;var daysNr=this._daysNr;var dayWidth=this._gridWidth/daysNr;var scrollLeft=scrollPos!==UNDEFINED?scrollPos:this._scrollCont.scrollLeft;if(scrollTop!==UNDEFINED){var dayIndex=this._getDragCol(scrollLeft).dayIndex;var day=days[dayIndex].date;var ms=this._stepCell*scrollTop/(this.state.cellHeight||50);var date=new Date(+day+this._startTime+ms);this._hook("onActiveChange",{date:date,scroll:true})}else{var dayIndex=dayWidth?constrain(floor(scrollLeft*rtl/dayWidth),0,daysNr-1):0;var day=days[dayIndex].date;var ms=this._time*(scrollLeft*rtl-dayIndex*dayWidth)/dayWidth;var nav=s.navService;var date=new Date(+day+this._startTime+ms);if(s.resolution==="week"&&(s.type==="year"||s.type==="month")&&date<nav.firstDay){date=nav.firstDay}var halfGridWith=this.state.gridContWidth/2;var middleDayIndex=dayWidth?constrain(floor((scrollLeft+halfGridWith*rtl)/dayWidth),0,daysNr-1):0;var middleDay=days[middleDayIndex].date;var middleMs=this._time*((scrollLeft+halfGridWith)*rtl-middleDayIndex*dayWidth)/dayWidth;var middleDate=new Date(+middleDay+this._startTime+middleMs);this._viewDate=middleDate;this._hook("onActiveChange",{date:date,middleDate:middleDate,scroll:true})}}};STBase.prototype._calcGridSizes=function(){var _this=this;var s=this.s;var resources=this._resources;var isTimeline=this._isTimeline;var daysNr=this._daysNr*(isTimeline?1:resources.length);var grid=this._gridCont;var scrollCont=this._scrollCont;var allDayCont=!isTimeline&&this._el.querySelector(".mbsc-schedule-all-day-wrapper");var allDayRect=allDayCont&&allDayCont.getBoundingClientRect();var rect=grid.getBoundingClientRect();var gridRect=scrollCont.getBoundingClientRect();var gridWidth=isTimeline?this._gridWidth:grid.scrollWidth;var resWidth=this._resCont?this._resCont.offsetWidth:0;this._gridLeft=s.rtl?rect.right-gridWidth:rect.left;this._gridRight=s.rtl?rect.right:rect.left+gridWidth;this._gridTop=rect.top;this._gridContTop=gridRect.top;this._gridContBottom=gridRect.bottom;this._gridContLeft=gridRect.left+(s.rtl?0:resWidth);this._gridContRight=gridRect.right-(s.rtl?resWidth:0);this._allDayTop=allDayRect?allDayRect.top:this._gridContTop;this._colWidth=gridWidth/(s.eventList?this._colsNr:daysNr);this._colHeight=rect.height;if(isTimeline&&!this.state.hasScrollY&&this.state.rowHeight){this._resourceTops={};var rows=grid.querySelectorAll(".mbsc-timeline-row-outer");rows.forEach((function(r,i){_this._rows[i].top=r.getBoundingClientRect().top-rect.top;_this._resourceTops[_this._rows[i].key]=_this._rows[i].top}))}else{this._columnLefts=[];var columns=grid.querySelectorAll(".mbsc-schedule-column");columns.forEach((function(col){var colRect=col.getBoundingClientRect();_this._columnLefts.push(s.rtl?rect.right-colRect.right:colRect.left-rect.left)}))}};STBase.prototype._getScrollJump=function(dist){var minJump=1;var maxJump=20;var steepFactor=20;var baseJump=round(maxJump-constrain(minJump+(maxJump-minJump)*(1-Math.exp(-dist/steepFactor)),minJump,maxJump));if(!this._scrollStartTime){this._scrollStartTime=Date.now()}if(baseJump>=maxJump-1){var growthRate=.1;var accelerationFactor=2.2;var maxSpeed=300;var elapsedTime=(Date.now()-this._scrollStartTime)/1e3;var speedMultiplier=1+Math.exp(elapsedTime*accelerationFactor)*growthRate;return Math.min(Math.round(baseJump*speedMultiplier),maxSpeed)}this._scrollStartTime=0;return baseJump};STBase.prototype._getDragCol=function(posX){var colIndex=0;this._columnLefts.some((function(left,i){if(posX>=left){colIndex=i;return false}return true}));var groupByResource=this._groupByResource;var groupCount=groupByResource?this._days.length:this._visibleResources.length;var resourceIndex=groupByResource?floor(colIndex/groupCount):colIndex%groupCount;var dayIndex=groupByResource?colIndex%groupCount:floor(colIndex/groupCount);return{colIndex:colIndex,dayIndex:dayIndex,resourceIndex:resourceIndex}};STBase.prototype._getDragRow=function(posY,scrollContTop){var isListing=this.s.eventList;var cols=isListing?this._cols:this._days;var hasResY=this._hasResY;var resources=this._visibleResources;var resourceTops=this._resourceTops;var dayIndex=0;var dateKey="";var resourceIndex=0;var rowKey="";if(hasResY){cols.forEach((function(d,i){resources.forEach((function(r,j){if(posY>resourceTops[d.dateKey+"-"+r.id]){dayIndex=i;dateKey=d.dateKey;resourceIndex=j;rowKey=dateKey+"-"+r.id}}))}))}else{resources.forEach((function(r,i){if(posY>resourceTops[r.id]){rowKey=""+r.id;resourceIndex=i}}));var fixedY=posY-scrollContTop+this.state.headerHeight;if(scrollContTop&&fixedY<this._fixedHeight&&posY-scrollContTop>0){for(var _i=0,_a=this._fixedResources;_i<_a.length;_i++){var r=_a[_i];if(fixedY>this._fixedResourceTops[r.key]){rowKey=r.key;resourceIndex=r.index}}}}return{dateKey:dateKey,dayIndex:dayIndex,resourceIndex:resourceIndex,rowKey:rowKey}};STBase.prototype._getDragPos=function(draggedResource,targetResource){var resourcesMap=this._resourcesMap;var resourcesData=this._resourcesData;var draggedResourceData=resourcesData[draggedResource.id];var targetResourceData=targetResource&&resourcesData[targetResource.id];var oldParent=draggedResourceData&&resourcesMap[draggedResourceData.parentId];var newParent=targetResourceData&&resourcesMap[targetResource.children?targetResource.id:targetResourceData.parentId];var oldIndex=draggedResourceData&&draggedResourceData.index;var targetIndex=targetResourceData&&(targetResource.children?targetResource.children.length:targetResourceData.index);var inc=draggedResource!==targetResource&&this._tempResourceNext?1:0;var dec=targetIndex!==UNDEFINED&&oldParent===newParent&&oldIndex<targetIndex?-1:0;var newIndex=targetIndex!==UNDEFINED?targetIndex+inc+dec:UNDEFINED;return{oldParent:oldParent,newParent:newParent,oldIndex:oldIndex,newIndex:newIndex}};STBase.prototype._getDragDates=function(event,resourceId,slotId){var s=this.s;var dates={};var dragDisplayedMap=new Map;var first=event.allDay?this._firstDay:this._firstDayTz;var start=event.startDate;var end=event.endDate;start=getDateOnly(start);start=start<first?first:start;end=getEndDate(s,event.allDay||s.eventList,start,end);while(start<=end){var eventForDay=__assign({},event);var dateKey=getDateStr(start);var pos=isInWeek(start.getDay(),s.startDay,s.endDay)&&this._getEventPos(event,start,dateKey,dragDisplayedMap);var eventTrack=0;if(pos){if(!this._hasSlots&&this._isTimeline&&this._setRowHeight&&this._startRow===(this._hasResY?dateKey+"-":"")+this._tempResource){pos.position.top=eventForDay.position.top;eventTrack=eventForDay.track||0}var key=this._isTimeline&&!this._hasSlots&&!this._hasResY?"all":dateKey;eventForDay.date=+getDateOnly(start,true);eventForDay.cssClass=pos.cssClass;eventForDay.start=pos.start;eventForDay.end=pos.end;eventForDay.offset=pos.offset;eventForDay.position=pos.position;eventForDay.bufferAfter=pos.bufferAfter;eventForDay.bufferBefore=pos.bufferBefore;eventForDay.track=eventTrack;dates[resourceId+"__"+(this._isTimeline?slotId+"__":"")+key]=eventForDay}start=addDays(start,1)}return dates};STBase.prototype._getGridTime=function(day,posX,posY,dayIndex,timeStep){var dayIdx=this._hasResY?0:dayIndex;var ms=step(this._isTimeline?floor(this._time*(posX-dayIdx*this._colWidth)/this._colWidth):floor(this._time*(posY-8)/(this._colHeight-16)),timeStep*ONE_MIN);var time=new Date(+REF_DATE+this._startTime+ms);return createDate$1(this.s,day.getFullYear(),day.getMonth(),day.getDate(),time.getHours(),time.getMinutes())};STBase.prototype._scrollToTime=function(animate,scrollToMiddle){var _this=this;var el=this._scrollCont;var gridCont=this._gridCont;var isTimeline=this._isTimeline;if(el){var s=this.s;var resources=this._visibleResources;var hasResY=this._hasResY;var targetEvent=s.navigateToEvent;var targetDate=targetEvent&&targetEvent.start?new Date(+makeDate(targetEvent.start,s)):new Date(s.selected);var colIndex=this._colIndexMap[getDateStr(targetDate)];var colDate=this._cols[colIndex]&&this._cols[colIndex].date;var useColIndex=isTimeline&&!hasResY&&colDate&&(s.resolution==="month"||s.resolution==="quarter");if(!scrollToMiddle){if(isTimeline&&!hasResY&&colDate&&(s.resolution!=="hour"||this._stepCell===ONE_DAY||s.eventList)){targetDate=colDate}else{targetDate.setHours(s.eventList?0:targetDate.getHours(),0,0,0)}}var timeStart=getEventStart(targetDate,this._startTime,this._time*(isTimeline?this._daysNr:1));var colDiff=useColIndex?colIndex:hasResY?0:getGridDayDiff(this._firstDay,targetDate,s.startDay,s.endDay);var colsNr=useColIndex?this._colsNr:this._daysNr;var width=isTimeline?gridCont.offsetWidth:gridCont.scrollWidth;var dateKey=getDateStr(targetDate);var resource=targetEvent?targetEvent.resource:resources[0].id;var targetResource_1=isArray(resource)?resource[0]:resource;var newScrollPosX=void 0;var newScrollPosY=void 0;if(isTimeline){var key=(hasResY?dateKey+"-":"")+targetResource_1;newScrollPosX=width*(colDiff*100/colsNr+timeStart)/100-(scrollToMiddle?this.state.gridContWidth/2:0)+1;newScrollPosY=this._resourceTops[key]}else{var dayIndex=this._dayIndexMap[dateKey];var resourceIndex=findIndex(resources,(function(r){return r.id===targetResource_1}))||0;var columnIndex=this._groupByResource?resourceIndex*this._daysNr+dayIndex:dayIndex*resources.length+resourceIndex;newScrollPosX=this._columnLefts[columnIndex];newScrollPosY=this._colHeight?(this._colHeight-16)*timeStart/100:0}this._setViewDates(newScrollPosX);if(this._isScrolling){this._isScrolling(newScrollPosX,newScrollPosY)}else{this._isScrolling=smoothScroll(el,newScrollPosX,newScrollPosY,animate,s.rtl,(function(){setTimeout((function(){_this._isScrolling=UNDEFINED}),150)}))}}};STBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:STBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});STBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:STBase,selector:"[mbsc-st-b]",usesInheritance:true,ngImport:i0});return STBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:STBase,decorators:[{type:Directive,args:[{selector:"[mbsc-st-b]"}]}]});var SchedulerBase=/*#__PURE__*/function(_super){__extends(SchedulerBase,_super);function SchedulerBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._onScroll=function(ev){var scrollCont=_this._scrollCont;if(scrollCont){var scrollTop=scrollCont.scrollTop;var scrollLeft=scrollCont.scrollLeft;var scrollLeftStyle="translateX("+-scrollLeft+"px)";var timeCont=_this._timeCont;var allDay=_this._allDayCont;var header=_this._headerCont;var transform=(jsPrefix?jsPrefix+"T":"t")+"ransform";if(allDay){allDay.style[transform]=scrollLeftStyle}if(timeCont){timeCont.style.marginTop=-scrollTop+"px"}if(header){header.style[transform]=scrollLeftStyle}if(scrollTop===0){_this.setState({showShadow:false})}else if(!_this.state.showShadow){_this.setState({showShadow:true})}if(!_this._isScrolling&&ev){_this._setViewDates(scrollLeft,scrollTop)}_this._onMouseMove()}};_this._setCont=function(el){_this._scrollCont=el};_this._setTimeCont=function(el){_this._timeCont=el};_this._setAllDayCont=function(el){_this._allDayCont=el};_this._setGridCont=function(el){_this._gridCont=el};_this._setHeaderCont=function(el){_this._headerCont=el};_this._setCursorTimeCont=function(el){_this._cursorTimeCont=el};return _this}SchedulerBase.prototype._render=function(s,state){var prevS=this._prevS;var timezones=s.timezones;var stepCell=this._stepCell/ONE_MIN;var startMinutes=floor(this._startTime/ONE_MIN)%stepCell;var endMinutes=floor(this._endTime/ONE_MIN)%stepCell+1;if(timezones!==prevS.timezones){this._timeWidth=timezones?{width:timezones.length*4.25+"em"}:UNDEFINED;this._timezones=UNDEFINED;if(timezones){var tz=[];for(var _i=0,timezones_1=timezones;_i<timezones_1.length;_i++){var t=timezones_1[_i];var tzProps=void 0;if(isString(t)){var d=createDate$1(s,1970,0,1);if(isMBSCDate(d)){d.setTimezone(t)}var offset=d.getTimezoneOffset()/60*-1;tzProps={label:"UTC"+(offset>0?"+":"")+offset,timezone:t}}else{tzProps=t}tz.push(tzProps)}this._timezones=tz}}_super.prototype._render.call(this,s,state);this._colClass=" mbsc-schedule-col-width"+(this._daysNr>7?" mbsc-schedule-col-width-multi":"");this._largeDayNames=state.dayNameWidth>99;this._startCellStyle=startMinutes%stepCell!==0?{height:(state.cellHeight||50)*((stepCell-startMinutes)%stepCell/stepCell)+"px"}:UNDEFINED;this._endCellStyle=endMinutes%stepCell!==0?{height:(state.cellHeight||50)*(endMinutes%stepCell)/stepCell+"px"}:UNDEFINED};SchedulerBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:SchedulerBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});SchedulerBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:SchedulerBase,selector:"[mbsc-sch-b]",usesInheritance:true,ngImport:i0});return SchedulerBase}(STBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:SchedulerBase,decorators:[{type:Directive,args:[{selector:"[mbsc-sch-b]"}]}]});var TimeIndicatorBase=/*#__PURE__*/function(_super){__extends(TimeIndicatorBase,_super);function TimeIndicatorBase(){return _super!==null&&_super.apply(this,arguments)||this}TimeIndicatorBase.prototype._start=function(){var _this=this;this._timer=setInterval((function(){_this.forceUpdate()}),1e4)};TimeIndicatorBase.prototype._mounted=function(){var _this=this;clearInterval(this._timer);if(this._zone){this._zone.runOutsideAngular((function(){_this._start()}))}else{this._start()}};TimeIndicatorBase.prototype._destroy=function(){clearInterval(this._timer)};TimeIndicatorBase.prototype._render=function(s){var now=createDate$1(s);var rtl=s.rtl;var displayedDays=s.displayedDays;var displayedTime=s.displayedTime;var startTime=s.startTime;var time=floor(getDayMilliseconds(now)/ONE_MIN)*ONE_MIN;var timezones=s.timezones;var formatOpt={amText:s.amText,pmText:s.pmText};if(timezones&&isMBSCDate(now)){this._times=[];for(var _i=0,timezones_1=timezones;_i<timezones_1.length;_i++){var t=timezones_1[_i];var tzNow=now.clone();tzNow.setTimezone(t.timezone);this._times.push(formatDate(s.timeFormat,tzNow,formatOpt))}}else{this._time=formatDate(s.timeFormat,now,formatOpt)}this._cssClass="mbsc-schedule-time-indicator mbsc-schedule-time-indicator-"+s.orientation+this._theme+this._rtl+" "+(time<startTime||time>startTime+displayedTime||!isInWeek(now.getDay(),s.startDay,s.endDay)?" mbsc-hidden":"");var dayIndex=s.hasResY?0:getGridDayDiff(s.firstDay,now,s.startDay,s.endDay);if(s.orientation==="x"){var horiz=dayIndex*100/displayedDays+"%";var multiPos=timezones&&4.25*timezones.length+"em";this._pos={left:timezones&&!rtl?multiPos:UNDEFINED,right:timezones&&rtl?multiPos:UNDEFINED,top:(time-startTime)*100/displayedTime+"%"};this._dayPos={left:rtl?"":horiz,right:rtl?horiz:"",width:100/displayedDays+"%"}}else{var pos=(dayIndex*displayedTime+time-startTime)*100/(displayedDays*displayedTime)+"%";this._pos={left:rtl?"":pos,right:rtl?pos:""}}};TimeIndicatorBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:TimeIndicatorBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});TimeIndicatorBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:TimeIndicatorBase,selector:"[mbsc-ti-b]",usesInheritance:true,ngImport:i0});return TimeIndicatorBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:TimeIndicatorBase,decorators:[{type:Directive,args:[{selector:"[mbsc-ti-b]"}]}]});var WeekDayBase=/*#__PURE__*/function(_super){__extends(WeekDayBase,_super);function WeekDayBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._onClick=function(){var s=_this.s;if(s.selectable){s.onClick(s.timestamp)}};return _this}WeekDayBase.prototype._render=function(s,state){var date=new Date(s.timestamp);this._cssClass="mbsc-schedule-header-item "+this._className+this._theme+this._rtl+this._hb+(s.largeNames?" mbsc-schedule-header-item-large":"")+(s.selected?" mbsc-selected":"")+(state.hasHover?" mbsc-hover":"");this._data={date:date,events:s.events||[],resource:s.resource,selected:s.selected};this._day=date.getDay()};WeekDayBase.prototype._mounted=function(){var _this=this;this._unlisten=gestureListener(this._el,{onHoverIn:function(){if(_this.s.selectable){_this.setState({hasHover:true})}},onHoverOut:function(){if(_this.s.selectable){_this.setState({hasHover:false})}}})};WeekDayBase.prototype._destroy=function(){if(this._unlisten){this._unlisten()}};WeekDayBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:WeekDayBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});WeekDayBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:WeekDayBase,selector:"[mbsc-wd-b]",usesInheritance:true,ngImport:i0});return WeekDayBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:WeekDayBase,decorators:[{type:Directive,args:[{selector:"[mbsc-wd-b]"}]}]});var TimelineBase=/*#__PURE__*/function(_super){__extends(TimelineBase,_super);function TimelineBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._isTimeline=true;_this._onScroll=function(ev){var s=_this.s;var isRtl=s.rtl;var state=_this.state;var gridWidth=_this._gridWidth;var gridHeight=(state.scrollContHeight||0)-(state.headerHeight||0)-(state.footerHeight||0);var scrollCont=_this._scrollCont;var scrollTop=scrollCont.scrollTop;var scrollLeft=scrollCont.scrollLeft;var resCont=_this._resCont;var sidebarCont=_this._sidebarCont;var footer=_this._footerCont;var header=_this._headerCont;var stickyHeader=_this._stickyHeader;var stickyFooter=_this._stickyFooter;var days=_this._days;var daysNr=_this._colsNr;var rtl=isRtl?-1:1;var margin=isRtl?"marginRight":"marginLeft";var dayWidth=gridWidth/daysNr;var dayIndex=dayWidth?constrain(floor(scrollLeft*rtl/dayWidth),0,daysNr-1):0;var rows=_this._rows;var virtualX=floor(scrollLeft*rtl/(dayWidth/_this._times.length||74));if(stickyHeader&&hasSticky){var headerStyle=stickyHeader.style;headerStyle.marginTop=scrollTop<0?-scrollTop+"px":"";headerStyle[margin]=scrollLeft*rtl<0?-scrollLeft*rtl+"px":""}if(stickyFooter&&hasSticky){var footerStyle=stickyFooter.style;footerStyle.marginTop=scrollTop<0?-scrollTop+"px":"";footerStyle[margin]=scrollLeft*rtl<0?-scrollLeft*rtl+"px":""}if(!gridWidth){return}if((header||footer)&&_this._isDailyResolution){var updateStickyLabel=function(label,key){if(label&&dayWidth){var labelWidth=label.offsetWidth;var labelStyle=label.style;var nextDayIndex=constrain(floor((scrollLeft*rtl+labelWidth)/dayWidth),0,daysNr-1);if(days[dayIndex][key+"Index"]!==days[nextDayIndex][key+"Index"]){labelStyle[margin]=-(scrollLeft*rtl+labelWidth-days[nextDayIndex][key+"Index"]*dayWidth+1)+"px"}else{labelStyle[margin]=""}}};updateStickyLabel(_this._stickyDate,"date");updateStickyLabel(_this._stickyMonth,"month");updateStickyLabel(_this._stickyWeek,"week");if(!hasSticky){if(footer){footer.scrollLeft=scrollLeft}if(header){header.scrollLeft=scrollLeft}}}if(!hasSticky||isRtl){if(resCont){resCont.scrollTop=scrollTop}if(sidebarCont){sidebarCont.scrollTop=scrollTop}}_this._scrollTop=scrollTop;var virtualChange=false;var virtualStartY=0;var virtualEndY=1;var i=1;while(i<rows.length&&rows[i].top<scrollTop+gridHeight*1.5){if(rows[i].top<=scrollTop-gridHeight*.5){virtualStartY=i}virtualEndY=++i}if(s.virtualScroll&&(virtualStartY!==state.virtualStartY||virtualEndY!==state.virtualEndY||virtualX!==state.virtualX)){virtualChange=true;_this._calcRowHeights=true}if(virtualChange||(_this._stickyDate||_this._stickyMonth||_this._stickyWeek)&&dayIndex!==state.dayIndex){_this.setState({dayIndex:dayIndex,virtualStartY:virtualStartY,virtualEndY:virtualEndY,virtualX:virtualX})}if(!_this._isScrolling&&ev){_this._setViewDates(scrollLeft)}_this._onMouseMove()};_this._setStickyHeader=function(el){_this._stickyHeader=el};_this._setStickyFooter=function(el){_this._stickyFooter=el};_this._setStickyDay=function(el){_this._stickyDate=el};_this._setStickyMonth=function(el){_this._stickyMonth=el};_this._setStickyWeek=function(el){_this._stickyWeek=el};_this._setCont=function(el){_this._scrollCont=el};_this._setResCont=function(el){_this._resCont=el};_this._setSidebarCont=function(el){_this._sidebarCont=el};_this._setGridCont=function(el){_this._gridCont=el};_this._setDraggedResourceLineEl=function(el){_this._draggedResourceLineEl=el};_this._setDraggedResourceEl=function(el){_this._draggedResourceEl=el};_this._setHeaderCont=function(el){_this._headerCont=el};_this._setFooterCont=function(el){_this._footerCont=el};_this._setCursorTimeCont=function(el){_this._cursorTimeCont=el};return _this}TimelineBase.prototype._render=function(s,state){var _this=this;_super.prototype._render.call(this,s,state);var prevS=this._prevS;var eventMap=this._eventMap;var resourceTops=this._resourceTops;var scrollTop=this._scrollTop||0;var times=this._times;var timesLength=times.length;var stepCell=this._stepCell;var startMinutes=this._startTime%stepCell;var endMinutes=this._endTime%stepCell+1;var hasResY=s.resolutionVertical==="day";var disableVirtual=s.virtualScroll===false;var cellWidth=state.cellWidth||74;var dayWidth=state.dayWidth||cellWidth*this._time/stepCell;var dragData=state.dragData;var firstCellWidth=cellWidth*((stepCell-startMinutes)%stepCell/stepCell);var lastCellWidth=cellWidth*(endMinutes%stepCell)/stepCell;var displayShortDays=this._isDailyResolution&&(s.type==="month"||this._isMulti||timesLength>1);var colWidths={xxsmall:"xxs",xsmall:"xs",small:"s",medium:"m",large:"l",xlarge:"xl",xxlarge:"xxl",xxxlarge:"xxxl"};var colWidth=s.columnWidth?colWidths[s.columnWidth]:this._hasSlots?"l":displayShortDays?"s":"xl";this._colWidthClass=" mbsc-timeline-column-"+colWidth;this._colClass=s.resources||!hasResY?"mbsc-timeline-resource-col":"mbsc-timeline-date-col";this._dayClass=this._isDailyResolution&&(s.type==="month"||this._isMulti)?" mbsc-timeline-day-month":"";this._hasRows=this._hasResources||hasResY;this._stickyDay=this._days[state.dayIndex||0]||this._days[0];this._startCellStyle=startMinutes%stepCell!==0?{width:firstCellWidth+"px"}:UNDEFINED;this._endCellStyle=endMinutes%stepCell!==0?{width:lastCellWidth+"px"}:UNDEFINED;this._resourceWidth=(state.resourceColWidth||0)+this._resourceDepth*(state.resourceDepthStep||0);var cols=this._cols;var colsNr=this._colsNr;var cellsNr=colsNr*timesLength;var cellsInView=floor((state.scrollContWidth||0)/dayWidth*timesLength)||16;var cellsBufferNr=constrain(floor(cellsInView/2),8,30);var vX=constrain(state.virtualX||0,0,cellsNr-1);var virtualStartX=disableVirtual?0:constrain(vX-cellsBufferNr,0,cellsNr-1);var virtualEndX=disableVirtual?cellsNr-1:constrain(vX+cellsInView+cellsBufferNr,0,cellsNr-1);var virtualStartDay=constrain(floor(virtualStartX/timesLength),0,colsNr-1);var virtualEndDay=constrain(floor(virtualEndX/timesLength),0,colsNr-1);var virtualDays=[];var addedCols={};var vStart=times[0];var vEnd=times[timesLength-1];for(var i=virtualStartDay;i<=virtualEndDay;i++){var dayData=cols[i];dayData.phStart=0;dayData.phEnd=0;dayData.times=[];for(var j=0;j<timesLength;j++){var t=times[j];var k=i*timesLength+j;if(k===virtualStartX&&j){vStart=t;dayData.phStart=(t-this._startTime)*dayWidth/this._time}if(k===virtualEndX&&j<timesLength-1){vEnd=t;dayData.phEnd=(this._endTime-t-stepCell)*dayWidth/this._time}if(k>=virtualStartX&&k<=virtualEndX||t===this._dragTime){dayData.times.push({first:!j,hidden:t===this._dragTime&&(k<virtualStartX||k>virtualEndX),i:j,last:j===timesLength-1,t:t})}}addedCols[dayData.dateKey]=true;virtualDays.push(dayData)}var vStartDay=virtualDays[0].date;var vEndDay=virtualDays[virtualDays.length-1].date;var isViewEnd=hasResY||!this._isDailyResolution&&virtualEndDay===colsNr-1;this._virtualStart=hasResY?+this._firstDayTz:+addTime(vStartDay,vStart,s);this._virtualEnd=isViewEnd?+this._lastDayTz:+addTime(vEndDay,vEnd+stepCell,s);this._virtualDays=virtualDays;this._phXStart=disableVirtual?0:virtualStartDay*dayWidth;this._phXEnd=disableVirtual?0:(colsNr-virtualEndDay-1)*dayWidth;this._rowHeights={};this._dragCol="";this._dragRow="";this._fixedResources=[];this._fixedResourceTops={};this._fixedHeight=state.headerHeight||0;var gridContHeight=(state.scrollContHeight||0)-(state.headerHeight||0)-(state.footerHeight||0);var rowHeight=state.rowHeight||52;var parentRowHeight=state.parentRowHeight||52;var gutterHeight=state.gutterHeight!==UNDEFINED?state.gutterHeight:16;var visibleResources=this._visibleResources;var verticalDays=hasResY?this._days:[{}];var totalRows=visibleResources.length*verticalDays.length;var rows=[];var resourceMap={};var addedGroups={};var addedRows={};var virtualRows=[];var totalHeight=0;if(state.hasScrollY){this._resourceTops={}}verticalDays.forEach((function(d,i){visibleResources.forEach((function(r,j){var key=(hasResY?d.dateKey+"-":"")+r.id;var row={dayIndex:i,key:key,resource:r,top:0};resourceMap[key]=r;if(gridContHeight){var currRowHeight=r.isParent?parentRowHeight:rowHeight;var showMoreHeight=_this._eventRows["more-"+key]?24:0;var eventsHeight=(_this._eventRows[key]||(r.eventCreation===false?0:1))*_this._eventHeight;var realHeight=_this._rowHeightsReal[key];var resHeight=_this._setRowHeight?realHeight||Math.max(eventsHeight+gutterHeight+showMoreHeight,currRowHeight):currRowHeight;var height=_this._variableEventHeight?realHeight:resHeight;_this._rowHeights[key]=_this._setRowHeight&&height?height+"px":UNDEFINED;if(!hasResY&&r.fixed){_this._fixedResourceTops[key]=_this._fixedHeight;_this._fixedHeight+=resHeight;_this._fixedResources.push({height:resHeight,index:j,key:key,resource:r})}if(state.hasScrollY){_this._resourceTops[key]=totalHeight}row.top=totalHeight;totalHeight+=resHeight}rows.push(row)}))}));var virtualStartY=0;var virtualEndY=disableVirtual?totalRows:Math.min(30,totalRows);if(!disableVirtual&&gridContHeight){var l=0;while(l<rows.length&&rows[l].top<scrollTop+gridContHeight*1.5){if(rows[l].top<=scrollTop-gridContHeight*.5){virtualStartY=l}virtualEndY=++l}}var rowGroup=[];var lastDayIndex=-1;for(var i=virtualStartY;i<virtualEndY;i++){var row=rows[i];if(row){var currDayIndex=row.dayIndex;if(lastDayIndex!==currDayIndex){rowGroup=[];virtualRows.push({day:hasResY?this._days[currDayIndex]:UNDEFINED,rows:rowGroup});lastDayIndex=currDayIndex;addedGroups[currDayIndex]=virtualRows[virtualRows.length-1]}addedRows[row.key]=true;rowGroup.push(row.resource)}}var fixedRowsHeight=0;for(var _i=0,_a=this._fixedResources;_i<_a.length;_i++){var r=_a[_i];if(!addedRows[r.key]){rowGroup.unshift(r.resource);addedRows[r.key]=true;fixedRowsHeight+=r.height}}if(dragData&&dragData.originResource!==UNDEFINED){var resource=dragData.originResource;var dateKey=getDateStr(new Date(dragData.originDate));var key=(hasResY?dateKey+"-":"")+resource;var groupIndex=hasResY?this._dayIndexMap[dateKey]:0;var colIndex=hasResY?0:this._colIndexMap[dateKey];var colKey=cols[colIndex].dateKey;if(!addedRows[key]){var group=addedGroups[groupIndex];if(!group){group={day:hasResY?this._days[groupIndex]:UNDEFINED,hidden:true,rows:[]};virtualRows.push(group)}group.rows.push(resourceMap[key]);this._dragRow=key}if(!hasResY&&!addedCols[colKey]&&!dragData.draggedResource){virtualDays.push(cols[colIndex]);this._dragCol=colKey}}this._gridHeight=totalHeight;this._rows=rows;this._virtualRows=virtualRows;this._phY=!disableVirtual?rows[virtualStartY].top-fixedRowsHeight:0;if(!this._hasSlots){this._viewEvents={};this._viewColors={};this._viewInvalids={};virtualRows.forEach((function(group){var day=group.day;var dateKey=day?day.dateKey:"";group.rows.forEach((function(resource){var resourceId=resource.id;var key=(dateKey?dateKey+"-":"")+resourceId;_this._viewEvents[key]=_this._getVirtualData(_this._events[resourceId][DEF_ID][dateKey||"all"],true);_this._viewColors[key]=_this._getVirtualData(_this._colors[resourceId][DEF_ID][dateKey||"all"]);_this._viewInvalids[key]=_this._getVirtualData(_this._invalids[resourceId][DEF_ID][dateKey||"all"])}))}))}var viewStart=new Date(this._virtualStart);var viewEnd=new Date(this._virtualEnd);var resourceStart=rows[virtualStartY]&&rows[virtualStartY].resource.id;var resourceEnd=rows[virtualEndY-1]&&rows[virtualEndY-1].resource.id;var pageX=floor(vX/cellsBufferNr);var pageY=floor(scrollTop/(gridContHeight/2));if(gridContHeight&&!disableVirtual&&(pageX!==this._oldPageX||pageY!==this._oldPageY||s.selected!==prevS.selected)&&(+viewStart!==+this._oldViewStart||resourceStart!==this._oldResourceStart)){var oldViewStart_1=this._oldViewStart;var oldViewEnd_1=this._oldViewEnd;var oldResourceStart_1=this._oldResourceStart;var oldResourceEnd_1=this._oldResourceEnd;clearTimeout(this._loadTimer);this._loadTimer=setTimeout((function(){_this._hook("onVirtualLoading",{oldResourceEnd:oldResourceEnd_1,oldResourceStart:oldResourceStart_1,oldViewEnd:oldViewEnd_1,oldViewStart:oldViewStart_1,resourceEnd:resourceEnd,resourceStart:resourceStart,viewEnd:viewEnd,viewStart:viewStart})}),100);this._oldResourceStart=resourceStart;this._oldResourceEnd=resourceEnd;this._oldViewStart=viewStart;this._oldViewEnd=viewEnd;this._oldPageX=pageX;this._oldPageY=pageY}if(s.connections!==prevS.connections||s.eventMap!==prevS.eventMap||s.theme!==prevS.theme||s.rtl!==prevS.rtl){this._calcConnections=true}if(this._hasSlots){this._connections=UNDEFINED}if(this._calcConnections&&!this._hasSlots&&!this._shouldCheckSize&&this._gridWidth){var connections=[];var eventHeight=this._eventHeight;var gridWidth=this._gridWidth;var gridHeight=state.hasScrollY?this._gridHeight:gridContHeight;var constLineH=1500/gridWidth;var isRtl=s.rtl===true;var rtl=isRtl?-1:1;var arrowH=750/gridWidth*rtl;var arrowV=400/gridHeight*rtl;var eventHeightInPercent=100*eventHeight/gridHeight;for(var _b=0,_c=s.connections||[];_b<_c.length;_b++){var connection=_c[_b];var fromEvent=eventMap[connection.from];var toEvent=eventMap[connection.to];var arrow=connection.arrow;var color=connection.color;var cssClass=connection.cssClass||"";var id=connection.from+"__"+connection.to;var type=connection.type||"fs";if(fromEvent&&toEvent){var fromPos=fromEvent.position;var toPos=toEvent.position;var hasFromPos=!!fromPos&&fromPos.width!==UNDEFINED;var hasToPos=!!toPos&&toPos.width!==UNDEFINED;var fromResource=fromEvent.resource;var toResource=toEvent.resource;if((hasFromPos||hasToPos)&&fromPos&&toPos&&resourceTops[fromResource]>=0&&resourceTops[toResource]>=0){var isFirstEnd=type==="fs"||type==="ff";var isSecondStart=type==="fs"||type==="ss";var from=isFirstEnd?fromEvent.endDate:fromEvent.startDate;var to=isSecondStart?toEvent.startDate:toEvent.endDate;var isToBefore=to<from;var startDate=isToBefore?+to:+from;var endDate=isToBefore?+from:+to;var fromTop=fromPos.top||0;var toTop=toPos.top||0;var fromLeft=hasFromPos?fromEvent.offset:isToBefore?100:0;var toLeft=hasToPos?toEvent.offset:isToBefore?0:100;var fromWidth=hasFromPos?+fromPos.width.replace("%",""):0;var toWidth=hasToPos?+toPos.width.replace("%",""):0;var resourceTopsDiff=resourceTops[toResource]-resourceTops[fromResource];var avoidLinethrough=!resourceTopsDiff&&(type==="fs"&&isToBefore||type==="sf"&&!isToBefore||type==="ff"||type==="ss")&&toTop===fromTop;var lineWidth=isFirstEnd&&isSecondStart?toLeft-fromLeft-fromWidth-2*constLineH:isFirstEnd&&!isSecondStart?toLeft-fromLeft+(toWidth-fromWidth):!isFirstEnd&&isSecondStart?toLeft-fromLeft:toLeft-fromLeft+toWidth+2*constLineH;var toUpperResource=resourceTopsDiff<0||!resourceTopsDiff&&toTop<fromTop?-1:1;var lineHeight=100*(resourceTopsDiff-fromTop*eventHeight+toTop*eventHeight+(avoidLinethrough?eventHeight:0))/gridHeight;var reversedHLine=type==="fs"&&lineWidth<0||(type==="ff"||type==="ss")&&avoidLinethrough||type==="sf";var drawHorizontalFirst=type==="ss"&&isToBefore&&!reversedHLine||type==="ff"&&!isToBefore&&!reversedHLine||type==="sf"&&lineWidth<0;var posX=(isRtl?100-fromLeft:fromLeft)+(isFirstEnd?fromWidth*rtl:0);var posY=100*(resourceTops[fromResource]+fromTop*eventHeight+3+eventHeight/2)/gridHeight;if(hasFromPos&&(arrow==="from"||arrow==="bidirectional")){var computedArrowH=isFirstEnd?arrowH:arrowH*-1;connections.push({color:color,cssClass:"mbsc-connection-arrow "+cssClass,endDate:endDate,fill:color,id:id+"__start",pathD:"M ".concat(posX,", ").concat(posY," L ").concat(posX+computedArrowH," ").concat(posY-arrowV," L ").concat(posX+computedArrowH," ").concat(posY+arrowV," Z"),startDate:startDate})}var pathD="M ".concat(posX,", ").concat(posY);posX+=isFirstEnd?constLineH*rtl:-constLineH*rtl;if(drawHorizontalFirst){posX+=lineWidth*rtl}if(lineHeight){pathD+=" H ".concat(posX);if(!drawHorizontalFirst){posY+=lineHeight-(reversedHLine?eventHeightInPercent/2:0)*toUpperResource;pathD+=" V ".concat(posY)}}if(!drawHorizontalFirst){posX+=lineWidth*rtl}if(lineHeight){pathD+=" H ".concat(posX);if(drawHorizontalFirst){posY+=lineHeight-(reversedHLine?eventHeightInPercent/2:0)*toUpperResource;pathD+=" V ".concat(posY)}}if(lineHeight&&reversedHLine){posY+=eventHeightInPercent/2*toUpperResource*(avoidLinethrough?-1:1);pathD+=" V ".concat(posY)}posX+=isSecondStart?constLineH*rtl:-constLineH*rtl;pathD+=" H ".concat(posX);connections.push({color:color,cssClass:cssClass,id:id,pathD:pathD,startDate:startDate,endDate:endDate});if(hasToPos&&(arrow==="to"||arrow==="bidirectional"||arrow===true)){var computedArrowH=isSecondStart?arrowH*-1:arrowH;connections.push({color:color,cssClass:"mbsc-connection-arrow "+cssClass,endDate:endDate,fill:color,id:id+"__end",pathD:"M ".concat(posX,", ").concat(posY," L ").concat(posX+computedArrowH," ").concat(posY-arrowV," L ").concat(posX+computedArrowH," ").concat(posY+arrowV," Z"),startDate:startDate})}}}}this._connections=connections;this._calcConnections=false}};TimelineBase.prototype._getVirtualData=function(rangeData,checkDrag){var dragData=this.state.dragData;var draggedEventId=dragData&&dragData.draggedEvent&&dragData.draggedEvent.id;var dataForView=[[]];if(rangeData){var widths=[];var tracks=rangeData.tracks;if(tracks){for(var i=0;i<tracks.length;i++){dataForView[i]=[];tracks[i]=0;widths[i]=0}}for(var _i=0,_a=rangeData.data;_i<_a.length;_i++){var item=_a[_i];var isInView=this._virtualStart<=item.layoutEnd&&this._virtualEnd>item.layoutStart;var track=item.track||0;if(tracks&&(!isInView||!this._calcRowHeights)){tracks[track]=Math.max(tracks[track],this._eventHeights[item.key]||0)}if(checkDrag&&draggedEventId===item.id||isInView){if(!tracks||!this._setRowHeight||!this._variableEventHeight){dataForView[0].push(item)}else{var rtl=this.s.rtl;var pos=item.position;if(pos){var offset=rtl?pos.right:pos.left;var newOffset=offset;var changed=false;if(!this._hasSlots){newOffset=item.offset-widths[track]+"%";if(newOffset!==offset){pos.left=rtl?"":newOffset;pos.right=rtl?newOffset:"";changed=true}}dataForView[track].push(changed?__assign({},item):item);widths[track]+=+pos.width.replace("%","")}}}}}return dataForView};TimelineBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:TimelineBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});TimelineBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:TimelineBase,selector:"[mbsc-tml-b]",usesInheritance:true,ngImport:i0});return TimelineBase}(STBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:TimelineBase,decorators:[{type:Directive,args:[{selector:"[mbsc-tml-b]"}]}]});var DraggableDirective=/*#__PURE__*/function(_super){__extends(DraggableDirective,_super);function DraggableDirective(){return _super!==null&&_super.apply(this,arguments)||this}DraggableDirective.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:DraggableDirective,deps:null,target:i0.ɵɵFactoryTarget.Directive});DraggableDirective.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:DraggableDirective,selector:"[mbsc-draggable]",inputs:{dragData:"dragData",type:"type"},usesInheritance:true,ngImport:i0});return DraggableDirective}(DraggableBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:DraggableDirective,decorators:[{type:Directive,args:[{selector:"[mbsc-draggable]"}]}],propDecorators:{dragData:[{type:Input}],type:[{type:Input}]}});var MbscDraggableModule=/*#__PURE__*/function(){function MbscDraggableModule(){}MbscDraggableModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDraggableModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscDraggableModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDraggableModule,declarations:[DraggableBase,DraggableDirective],imports:[CommonModule],exports:[DraggableDirective]});MbscDraggableModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDraggableModule,imports:[[CommonModule]]});return MbscDraggableModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDraggableModule,decorators:[{type:NgModule,args:[{declarations:[DraggableBase,DraggableDirective],exports:[DraggableDirective],imports:[CommonModule]}]}]});var DropcontainerBase=/*#__PURE__*/function(_super){__extends(DropcontainerBase,_super);function DropcontainerBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._onExternalDrag=function(args){var element=_this.s.element||_this._el;var isIn=function(){return args.endY<_this._elBottom&&args.endY>_this._elTop&&args.endX>_this._elLeft&&args.endX<_this._elRight};var isInArea;switch(args.eventName){case"onDragStart":if(element){var rect=element.getBoundingClientRect();_this._elTop=rect.top;_this._elBottom=rect.bottom;_this._elLeft=rect.left;_this._elRight=rect.right;_this._isItemIn=_this._isOwner=isIn()}break;case"onDragMove":isInArea=isIn();if(isInArea&&!_this._isItemIn){_this._hook("onItemDragEnter",{clone:args.clone,data:args.dragData,dataType:args.dragDataType,domEvent:args.domEvent})}else if(!isInArea&&_this._isItemIn){_this._hook("onItemDragLeave",{clone:args.clone,data:args.dragData,dataType:args.dragDataType,domEvent:args.domEvent})}_this._isItemIn=isInArea;break;case"onDragEnd":if(_this._isItemIn&&!_this._isOwner){if(args.from){if(args.dragDataType==="resource"){args.from._resourceDropped=true}else{args.from._eventDropped=true}}_this._hook("onItemDrop",{clone:args.clone,data:args.dragData,dataType:args.dragDataType,domEvent:args.domEvent})}_this._isItemIn=false;break}};return _this}DropcontainerBase.prototype._mounted=function(){this._unsubscribe=subscribeExternalDrag(this._onExternalDrag)};DropcontainerBase.prototype._destroy=function(){if(this._unsubscribe){unsubscribeExternalDrag(this._unsubscribe)}};DropcontainerBase._name="Dropcontainer";DropcontainerBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:DropcontainerBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});DropcontainerBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:DropcontainerBase,selector:"[mbsc-dropcontainer]",usesInheritance:true,ngImport:i0});return DropcontainerBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:DropcontainerBase,decorators:[{type:Directive,args:[{selector:"[mbsc-dropcontainer]"}]}]});var MbscDropcontainer=/*#__PURE__*/function(_super){__extends(MbscDropcontainer,_super);function MbscDropcontainer(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.onItemDragEnter=new EventEmitter;_this.onItemDragLeave=new EventEmitter;_this.onItemDrop=new EventEmitter;return _this}MbscDropcontainer.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDropcontainer,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscDropcontainer.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscDropcontainer,selector:"mbsc-dropcontainer",outputs:{onItemDragEnter:"onItemDragEnter",onItemDragLeave:"onItemDragLeave",onItemDrop:"onItemDrop"},usesInheritance:true,ngImport:i0,template:"<ng-content></ng-content>",isInline:true,changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscDropcontainer}(DropcontainerBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDropcontainer,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,selector:"mbsc-dropcontainer",template:"<ng-content></ng-content>"}]}],propDecorators:{onItemDragEnter:[{type:Output}],onItemDragLeave:[{type:Output}],onItemDrop:[{type:Output}]}});var MbscDropcontainerModule=/*#__PURE__*/function(){function MbscDropcontainerModule(){}MbscDropcontainerModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDropcontainerModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscDropcontainerModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDropcontainerModule,declarations:[DropcontainerBase,MbscDropcontainer],imports:[CommonModule],exports:[MbscDropcontainer]});MbscDropcontainerModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDropcontainerModule,imports:[[CommonModule]]});return MbscDropcontainerModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscDropcontainerModule,decorators:[{type:NgModule,args:[{declarations:[DropcontainerBase,MbscDropcontainer],exports:[MbscDropcontainer],imports:[CommonModule]}]}]});var ListItemBase=/*#__PURE__*/function(_super){__extends(ListItemBase,_super);function ListItemBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._onClick=function(ev){_this._triggerEvent("onClick",ev);if(_this.s.selected){_this.setState({hasFocus:false})}};_this._onDoubleClick=function(ev){_this._triggerEvent("onDoubleClick",ev)};_this._onRightClick=function(ev){_this._triggerEvent("onRightClick",ev)};return _this}ListItemBase.prototype._mounted=function(){var _this=this;var isDrag;var touchTimer;this._unlisten=gestureListener(this._el,{click:true,keepFocus:true,onBlur:function(){_this.setState({hasFocus:false})},onEnd:function(ev){if(isDrag){var s=_this.s;var args=__assign({},ev);var eventData=s.eventData;args.domEvent.preventDefault();args.drag=true;args.event=s.event;args.eventData=eventData;args.resource=eventData&&eventData.currentResource&&eventData.currentResource.id;args.slot=eventData&&eventData.currentSlot&&eventData.currentSlot.id;_this._hook("onDragEnd",args);isDrag=false}clearTimeout(touchTimer)},onFocus:function(){_this.setState({hasFocus:true})},onHoverIn:function(ev){if(_this.s.actionable){_this.setState({hasHover:true})}_this._triggerEvent("onHoverIn",ev)},onHoverOut:function(ev){_this.setState({hasHover:false});_this._triggerEvent("onHoverOut",ev)},onKeyDown:function(ev){var event=_this.s.event;switch(ev.keyCode){case ENTER:case SPACE:_this._el.click();ev.preventDefault();break;case BACKSPACE:case DELETE:if(event&&event.editable!==false){_this._hook("onDelete",{domEvent:ev,event:event,source:"agenda"})}break}},onMove:function(ev){var s=_this.s;var args=__assign({},ev);var eventData=s.eventData;args.drag=true;args.event=s.event;args.eventData=eventData;args.external=true;args.resource=eventData&&eventData.currentResource&&eventData.currentResource.id;args.slot=eventData&&eventData.currentSlot&&eventData.currentSlot.id;if(isDrag||!args.isTouch){args.domEvent.preventDefault()}if(isDrag){_this._hook("onDragMove",args)}else if(Math.abs(args.deltaX)>7||Math.abs(args.deltaY)>7){clearTimeout(touchTimer);if(!args.isTouch&&s.drag&&s.event.editable!==false){isDrag=true;_this._hook("onDragStart",args)}}},onPress:function(){if(_this.s.actionable){_this.setState({isActive:true})}},onRelease:function(){_this.setState({isActive:false})},onStart:function(ev){var s=_this.s;if(ev.isTouch&&s.drag&&s.event.editable!==false&&!isDrag){touchTimer=setTimeout((function(){var args=__assign({},ev);var eventData=s.eventData;args.drag=true;args.event=s.event;args.eventData=eventData;args.resource=eventData&&eventData.currentResource&&eventData.currentResource.id;args.slot=eventData&&eventData.currentSlot&&eventData.currentSlot.id;_this._hook("onDragModeOn",args);_this._hook("onDragStart",args);isDrag=true}),350)}return{ripple:s.actionable&&s.ripple}}})};ListItemBase.prototype._render=function(s,state){this._cssClass=this._className+" mbsc-list-item"+this._theme+this._hb+this._rtl+(s.actionable?" mbsc-list-item-actionable":"")+(state.hasFocus?" mbsc-focus":"")+(state.hasHover?" mbsc-hover":"")+(state.isActive?" mbsc-active":"")+(s.selected?" mbsc-selected":"")};ListItemBase.prototype._destroy=function(){if(this._unlisten){this._unlisten()}};ListItemBase.prototype._triggerEvent=function(name,ev){var s=this.s;this._hook(name,{date:s.date,domEvent:ev,event:s.event,source:s.source,target:this._el})};ListItemBase.defaults={actionable:true,ripple:false};ListItemBase._name="ListItem";ListItemBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ListItemBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});ListItemBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:ListItemBase,selector:"[mbsc-li-b]",usesInheritance:true,ngImport:i0});return ListItemBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ListItemBase,decorators:[{type:Directive,args:[{selector:"[mbsc-li-b]"}]}]});var MbscListItem=/*#__PURE__*/function(_super){__extends(MbscListItem,_super);function MbscListItem(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.onClick=new EventEmitter;_this.onDoubleClick=new EventEmitter;_this.onRightClick=new EventEmitter;_this.onHoverIn=new EventEmitter;_this.onHoverOut=new EventEmitter;_this.onDragEnd=new EventEmitter;_this.onDragModeOff=new EventEmitter;_this.onDragModeOn=new EventEmitter;_this.onDragMove=new EventEmitter;_this.onDragStart=new EventEmitter;return _this}MbscListItem.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscListItem,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscListItem.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscListItem,selector:"mbsc-list-item",inputs:{actionable:"actionable",cssClass:"cssClass",drag:"drag",event:"event"},outputs:{onClick:"onClick",onDoubleClick:"onDoubleClick",onRightClick:"onRightClick",onHoverIn:"onHoverIn",onHoverOut:"onHoverOut",onDragEnd:"onDragEnd",onDragModeOff:"onDragModeOff",onDragModeOn:"onDragModeOn",onDragMove:"onDragMove",onDragStart:"onDragStart"},host:{attributes:{tabindex:"0"},listeners:{click:"_onClick($event)",contextmenu:"_onRightClick($event)",dblclick:"_onDoubleClick($event)"},properties:{class:"_cssClass"}},usesInheritance:true,ngImport:i0,template:'<div [innerHTML]="textParam"></div><ng-content\n    ></ng-content>',isInline:true,changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscListItem}(ListItemBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscListItem,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"(click)":"_onClick($event)","(contextmenu)":"_onRightClick($event)","(dblclick)":"_onDoubleClick($event)","[class]":"_cssClass",tabindex:"0"},selector:"mbsc-list-item",template:'<div [innerHTML]="textParam"></div><ng-content\n    ></ng-content>'}]}],propDecorators:{actionable:[{type:Input}],cssClass:[{type:Input}],drag:[{type:Input}],event:[{type:Input}],onClick:[{type:Output}],onDoubleClick:[{type:Output}],onRightClick:[{type:Output}],onHoverIn:[{type:Output}],onHoverOut:[{type:Output}],onDragEnd:[{type:Output}],onDragModeOff:[{type:Output}],onDragModeOn:[{type:Output}],onDragMove:[{type:Output}],onDragStart:[{type:Output}]}});var ListBase=/*#__PURE__*/function(_super){__extends(ListBase,_super);function ListBase(){return _super!==null&&_super.apply(this,arguments)||this}ListBase.prototype._render=function(s){this._cssClass=this._className+this._rtl+" mbsc-font mbsc-list"+this._theme};ListBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ListBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});ListBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:ListBase,selector:"[mbsc-l-b]",usesInheritance:true,ngImport:i0});return ListBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ListBase,decorators:[{type:Directive,args:[{selector:"[mbsc-l-b]"}]}]});var MbscList=/*#__PURE__*/function(_super){__extends(MbscList,_super);function MbscList(){return _super!==null&&_super.apply(this,arguments)||this}MbscList.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscList,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscList.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscList,selector:"mbsc-list",host:{properties:{class:"_cssClass"}},usesInheritance:true,ngImport:i0,template:"<ng-content></ng-content>",isInline:true,changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscList}(ListBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscList,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-list",template:"<ng-content></ng-content>"}]}]});var ListHeaderBase=/*#__PURE__*/function(_super){__extends(ListHeaderBase,_super);function ListHeaderBase(){return _super!==null&&_super.apply(this,arguments)||this}ListHeaderBase.prototype._render=function(s){this._cssClass=this._className+" mbsc-list-header"+this._theme+this._hb};ListHeaderBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ListHeaderBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});ListHeaderBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:ListHeaderBase,selector:"[mbsc-lh-b]",usesInheritance:true,ngImport:i0});return ListHeaderBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:ListHeaderBase,decorators:[{type:Directive,args:[{selector:"[mbsc-lh-b]"}]}]});var MbscListHeader=/*#__PURE__*/function(_super){__extends(MbscListHeader,_super);function MbscListHeader(){return _super!==null&&_super.apply(this,arguments)||this}MbscListHeader.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscListHeader,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscListHeader.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscListHeader,selector:"mbsc-list-header",host:{properties:{class:"_cssClass"}},usesInheritance:true,ngImport:i0,template:"<ng-content></ng-content>",isInline:true,changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscListHeader}(ListHeaderBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscListHeader,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-list-header",template:"<ng-content></ng-content>"}]}]});var MbscScheduleEvent=/*#__PURE__*/function(_super){__extends(MbscScheduleEvent,_super);function MbscScheduleEvent(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.onClick=new EventEmitter;_this.onDoubleClick=new EventEmitter;_this.onRightClick=new EventEmitter;_this.onHoverIn=new EventEmitter;_this.onHoverOut=new EventEmitter;_this.onDelete=new EventEmitter;_this.onDragEnd=new EventEmitter;_this.onDragModeOff=new EventEmitter;_this.onDragModeOn=new EventEmitter;_this.onDragMove=new EventEmitter;_this.onDragStart=new EventEmitter;return _this}MbscScheduleEvent.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScheduleEvent,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscScheduleEvent.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscScheduleEvent,selector:"mbsc-schedule-event",inputs:{bufferAfterTemplate:"bufferAfterTemplate",bufferBeforeTemplate:"bufferBeforeTemplate",contentTemplate:"contentTemplate",displayTimezone:"displayTimezone",drag:"drag",event:"event",endDay:"endDay",eventHeight:"eventHeight",exclusiveEndDates:"exclusiveEndDates",gridEndTime:"gridEndTime",gridStartTime:"gridStartTime",hasResY:"hasResY",hidden:"hidden",inactive:"inactive",isDrag:"isDrag",isListing:"isListing",isTimeline:"isTimeline",lastDay:"lastDay",resize:"resize",resource:"resource",resourceObj:"resourceObj",rtl:"rtl",selected:"selected",singleDay:"singleDay",slot:"slot",slotObj:"slotObj",startDay:"startDay",stickyPos:"stickyPos",template:"template",theme:"theme",timezonePlugin:"timezonePlugin"},outputs:{onClick:"onClick",onDoubleClick:"onDoubleClick",onRightClick:"onRightClick",onHoverIn:"onHoverIn",onHoverOut:"onHoverOut",onDelete:"onDelete",onDragEnd:"onDragEnd",onDragModeOff:"onDragModeOff",onDragModeOn:"onDragModeOn",onDragMove:"onDragMove",onDragStart:"onDragStart"},host:{listeners:{click:"_onClick($event)",contextmenu:"_onRightClick($event)"},properties:{"attr.data-id":"event.id","attr.data-key":"event.key","attr.tabindex":"0","attr.title":"event.tooltip",class:"_cssClass","style.color":"_style.color","style.height":"_style.height","style.left":"_style.left","style.right":"_style.right","style.top":"_style.top","style.width":"_style.width"}},usesInheritance:true,ngImport:i0,template:"\n    <div\n      *ngIf=\"_isStart && event.bufferBefore\"\n      [class]=\"\n        'mbsc-' +\n        _host +\n        '-event-buffer ' +\n        'mbsc-' +\n        _host +\n        '-event-buffer-before' +\n        (bufferBeforeTemplate ? '' : ' mbsc-schedule-event-buffer-background') +\n        _theme +\n        _rtl\n      \"\n      [ngStyle]=\"_bufferStyleStart!\"\n    >\n      <ng-template *ngIf=\"bufferBeforeTemplate\" [ngTemplateOutlet]=\"bufferBeforeTemplate\" [ngTemplateOutletContext]=\"{ $implicit: event }\">\n      </ng-template>\n    </div>\n    <div\n      *ngIf=\"_isEnd && event.bufferAfter\"\n      [class]=\"\n        'mbsc-' +\n        _host +\n        '-event-buffer ' +\n        'mbsc-' +\n        _host +\n        '-event-buffer-after' +\n        (isTimeline ? ' mbsc-timeline-event-buffer' : '') +\n        (bufferAfterTemplate ? '' : ' mbsc-schedule-event-buffer-background') +\n        _theme +\n        _rtl\n      \"\n      [ngStyle]=\"_bufferStyleEnd!\"\n    >\n      <ng-template *ngIf=\"bufferAfterTemplate\" [ngTemplateOutlet]=\"bufferAfterTemplate\" [ngTemplateOutletContext]=\"{ $implicit: event }\">\n      </ng-template>\n    </div>\n    <div\n      *ngIf=\"_isStart && resize && event.original!.editable !== false\"\n      [class]=\"\n        'mbsc-schedule-event-resize mbsc-schedule-event-resize-start' +\n        (isDrag ? ' mbsc-schedule-event-resize-start-touch' : '') +\n        (isTimeline ? ' mbsc-timeline-event-resize' : '') +\n        _rtl\n      \"\n    ></div>\n    <div\n      *ngIf=\"_isEnd && resize && event.original!.editable !== false\"\n      [class]=\"\n        'mbsc-schedule-event-resize mbsc-schedule-event-resize-end' +\n        (isDrag ? ' mbsc-schedule-event-resize-start-touch' : '') +\n        (isTimeline ? ' mbsc-timeline-event-resize' : '') +\n        _rtl\n      \"\n    ></div>\n    <ng-template #default>\n      <div *ngIf=\"!_isAllDay && !_isMore && !isTimeline\" [class]=\"'mbsc-schedule-event-bar' + _theme + _rtl\"></div>\n      <div\n        [class]=\"\n          'mbsc-schedule-event-background' +\n          (isTimeline ? ' mbsc-timeline-event-background' : '') +\n          (_isAllDay ? ' mbsc-schedule-event-all-day-background' : '') +\n          _theme\n        \"\n        [style.background]=\"event.style.background\"\n      ></div>\n      <div\n        aria-hidden=\"true\"\n        [class]=\"'mbsc-schedule-event-inner' + _theme + (_isAllDay ? ' mbsc-schedule-event-all-day-inner' : '') + (event.cssClass || '')\"\n        [style.color]=\"event.style.color\"\n        [style.left]=\"!s.rtl ? s.stickyPos : undefined\"\n        [style.right]=\"s.rtl ? s.stickyPos : undefined\"\n      >\n        <div [class]=\"'mbsc-schedule-event-title' + (_isAllDay ? ' mbsc-schedule-event-all-day-title' : '') + _theme\">\n          <div *ngIf=\"!contentTemplate || _isMore\" [innerHTML]=\"_html\"></div>\n          <ng-template\n            *ngIf=\"contentTemplate && !_isMore\"\n            [ngTemplateOutlet]=\"contentTemplate\"\n            [ngTemplateOutletContext]=\"{ $implicit: event }\"\n          >\n          </ng-template>\n        </div>\n        <div *ngIf=\"!_isAllDay && !_isMore\" [class]=\"'mbsc-schedule-event-range' + _theme\">\n          {{ _rangeText }}\n        </div>\n      </div>\n      <div *ngIf=\"event.ariaLabel\" class=\"mbsc-hidden-content\">{{ event.ariaLabel }}</div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"template && !_isMore ? template : default\"\n      [ngTemplateOutletContext]=\"{ $implicit: event }\"\n    ></ng-template>\n    <div [innerHTML]=\"textParam\"></div>\n  ",isInline:true,directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]},{type:i1$1.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscScheduleEvent}(ScheduleEventBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScheduleEvent,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"(click)":"_onClick($event)","(contextmenu)":"_onRightClick($event)","[attr.data-id]":"event.id","[attr.data-key]":"event.key","[attr.tabindex]":"0","[attr.title]":"event.tooltip","[class]":"_cssClass","[style.color]":"_style.color","[style.height]":"_style.height","[style.left]":"_style.left","[style.right]":"_style.right","[style.top]":"_style.top","[style.width]":"_style.width"},selector:"mbsc-schedule-event",template:"\n    <div\n      *ngIf=\"_isStart && event.bufferBefore\"\n      [class]=\"\n        'mbsc-' +\n        _host +\n        '-event-buffer ' +\n        'mbsc-' +\n        _host +\n        '-event-buffer-before' +\n        (bufferBeforeTemplate ? '' : ' mbsc-schedule-event-buffer-background') +\n        _theme +\n        _rtl\n      \"\n      [ngStyle]=\"_bufferStyleStart!\"\n    >\n      <ng-template *ngIf=\"bufferBeforeTemplate\" [ngTemplateOutlet]=\"bufferBeforeTemplate\" [ngTemplateOutletContext]=\"{ $implicit: event }\">\n      </ng-template>\n    </div>\n    <div\n      *ngIf=\"_isEnd && event.bufferAfter\"\n      [class]=\"\n        'mbsc-' +\n        _host +\n        '-event-buffer ' +\n        'mbsc-' +\n        _host +\n        '-event-buffer-after' +\n        (isTimeline ? ' mbsc-timeline-event-buffer' : '') +\n        (bufferAfterTemplate ? '' : ' mbsc-schedule-event-buffer-background') +\n        _theme +\n        _rtl\n      \"\n      [ngStyle]=\"_bufferStyleEnd!\"\n    >\n      <ng-template *ngIf=\"bufferAfterTemplate\" [ngTemplateOutlet]=\"bufferAfterTemplate\" [ngTemplateOutletContext]=\"{ $implicit: event }\">\n      </ng-template>\n    </div>\n    <div\n      *ngIf=\"_isStart && resize && event.original!.editable !== false\"\n      [class]=\"\n        'mbsc-schedule-event-resize mbsc-schedule-event-resize-start' +\n        (isDrag ? ' mbsc-schedule-event-resize-start-touch' : '') +\n        (isTimeline ? ' mbsc-timeline-event-resize' : '') +\n        _rtl\n      \"\n    ></div>\n    <div\n      *ngIf=\"_isEnd && resize && event.original!.editable !== false\"\n      [class]=\"\n        'mbsc-schedule-event-resize mbsc-schedule-event-resize-end' +\n        (isDrag ? ' mbsc-schedule-event-resize-start-touch' : '') +\n        (isTimeline ? ' mbsc-timeline-event-resize' : '') +\n        _rtl\n      \"\n    ></div>\n    <ng-template #default>\n      <div *ngIf=\"!_isAllDay && !_isMore && !isTimeline\" [class]=\"'mbsc-schedule-event-bar' + _theme + _rtl\"></div>\n      <div\n        [class]=\"\n          'mbsc-schedule-event-background' +\n          (isTimeline ? ' mbsc-timeline-event-background' : '') +\n          (_isAllDay ? ' mbsc-schedule-event-all-day-background' : '') +\n          _theme\n        \"\n        [style.background]=\"event.style.background\"\n      ></div>\n      <div\n        aria-hidden=\"true\"\n        [class]=\"'mbsc-schedule-event-inner' + _theme + (_isAllDay ? ' mbsc-schedule-event-all-day-inner' : '') + (event.cssClass || '')\"\n        [style.color]=\"event.style.color\"\n        [style.left]=\"!s.rtl ? s.stickyPos : undefined\"\n        [style.right]=\"s.rtl ? s.stickyPos : undefined\"\n      >\n        <div [class]=\"'mbsc-schedule-event-title' + (_isAllDay ? ' mbsc-schedule-event-all-day-title' : '') + _theme\">\n          <div *ngIf=\"!contentTemplate || _isMore\" [innerHTML]=\"_html\"></div>\n          <ng-template\n            *ngIf=\"contentTemplate && !_isMore\"\n            [ngTemplateOutlet]=\"contentTemplate\"\n            [ngTemplateOutletContext]=\"{ $implicit: event }\"\n          >\n          </ng-template>\n        </div>\n        <div *ngIf=\"!_isAllDay && !_isMore\" [class]=\"'mbsc-schedule-event-range' + _theme\">\n          {{ _rangeText }}\n        </div>\n      </div>\n      <div *ngIf=\"event.ariaLabel\" class=\"mbsc-hidden-content\">{{ event.ariaLabel }}</div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"template && !_isMore ? template : default\"\n      [ngTemplateOutletContext]=\"{ $implicit: event }\"\n    ></ng-template>\n    <div [innerHTML]=\"textParam\"></div>\n  "}]}],propDecorators:{bufferAfterTemplate:[{type:Input}],bufferBeforeTemplate:[{type:Input}],contentTemplate:[{type:Input}],displayTimezone:[{type:Input}],drag:[{type:Input}],event:[{type:Input}],endDay:[{type:Input}],eventHeight:[{type:Input}],exclusiveEndDates:[{type:Input}],gridEndTime:[{type:Input}],gridStartTime:[{type:Input}],hasResY:[{type:Input}],hidden:[{type:Input}],inactive:[{type:Input}],isDrag:[{type:Input}],isListing:[{type:Input}],isTimeline:[{type:Input}],lastDay:[{type:Input}],resize:[{type:Input}],resource:[{type:Input}],resourceObj:[{type:Input}],rtl:[{type:Input}],selected:[{type:Input}],singleDay:[{type:Input}],slot:[{type:Input}],slotObj:[{type:Input}],startDay:[{type:Input}],stickyPos:[{type:Input}],template:[{type:Input}],theme:[{type:Input}],timezonePlugin:[{type:Input}],onClick:[{type:Output}],onDoubleClick:[{type:Output}],onRightClick:[{type:Output}],onHoverIn:[{type:Output}],onHoverOut:[{type:Output}],onDelete:[{type:Output}],onDragEnd:[{type:Output}],onDragModeOff:[{type:Output}],onDragModeOn:[{type:Output}],onDragMove:[{type:Output}],onDragStart:[{type:Output}]}});var MbscWeekDay=/*#__PURE__*/function(_super){__extends(MbscWeekDay,_super);function MbscWeekDay(){return _super!==null&&_super.apply(this,arguments)||this}MbscWeekDay.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscWeekDay,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscWeekDay.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscWeekDay,selector:"mbsc-week-day",inputs:{background:"background",day:"day",dayNames:"dayNames",dayTemplate:"dayTemplate",dayContentTemplate:"dayContentTemplate",events:"events",isToday:"isToday",label:"label",largeNames:"largeNames",resource:"resource",rtl:"rtl",selectable:"selectable",selected:"selected",theme:"theme",timestamp:"timestamp",onClick:"onClick"},host:{listeners:{click:"_onClick()"},properties:{class:"_cssClass","style.background":"background"}},usesInheritance:true,ngImport:i0,template:'\n    <ng-template *ngIf="dayTemplate" [ngTemplateOutlet]="dayTemplate" [ngTemplateOutletContext]="{ $implicit: _data }"></ng-template>\n    <div\n      aria-hidden="true"\n      *ngIf="!dayTemplate"\n      [class]="\n        \'mbsc-schedule-header-dayname\' +\n        _theme +\n        (s.selected ? \' mbsc-selected\' : \'\') +\n        (s.isToday ? \' mbsc-schedule-header-dayname-curr\' : \'\')\n      "\n    >\n      {{ dayNames[_day] }}\n    </div>\n    <div\n      aria-hidden="true"\n      *ngIf="!dayTemplate"\n      [class]="\n        \'mbsc-schedule-header-day\' +\n        _theme +\n        _rtl +\n        (s.selected ? \' mbsc-selected\' : \'\') +\n        (s.isToday ? \' mbsc-schedule-header-day-today\' : \'\') +\n        (state.hasHover ? \' mbsc-hover\' : \'\')\n      "\n    >\n      {{ day }}\n    </div>\n    <div\n      *ngIf="label"\n      class="mbsc-hidden-content"\n      [attr.role]="s.selectable ? \'button\' : null"\n      [attr.aria-pressed]="s.selectable ? (s.selected ? \'true\' : \'false\') : null"\n    >\n      {{ label }}\n    </div>\n    <ng-template *ngIf="dayContentTemplate" [ngTemplateOutlet]="dayContentTemplate" [ngTemplateOutletContext]="{ $implicit: _data }">\n    </ng-template>\n  ',isInline:true,directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscWeekDay}(WeekDayBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscWeekDay,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"(click)":"_onClick()","[class]":"_cssClass","[style.background]":"background"},selector:"mbsc-week-day",template:'\n    <ng-template *ngIf="dayTemplate" [ngTemplateOutlet]="dayTemplate" [ngTemplateOutletContext]="{ $implicit: _data }"></ng-template>\n    <div\n      aria-hidden="true"\n      *ngIf="!dayTemplate"\n      [class]="\n        \'mbsc-schedule-header-dayname\' +\n        _theme +\n        (s.selected ? \' mbsc-selected\' : \'\') +\n        (s.isToday ? \' mbsc-schedule-header-dayname-curr\' : \'\')\n      "\n    >\n      {{ dayNames[_day] }}\n    </div>\n    <div\n      aria-hidden="true"\n      *ngIf="!dayTemplate"\n      [class]="\n        \'mbsc-schedule-header-day\' +\n        _theme +\n        _rtl +\n        (s.selected ? \' mbsc-selected\' : \'\') +\n        (s.isToday ? \' mbsc-schedule-header-day-today\' : \'\') +\n        (state.hasHover ? \' mbsc-hover\' : \'\')\n      "\n    >\n      {{ day }}\n    </div>\n    <div\n      *ngIf="label"\n      class="mbsc-hidden-content"\n      [attr.role]="s.selectable ? \'button\' : null"\n      [attr.aria-pressed]="s.selectable ? (s.selected ? \'true\' : \'false\') : null"\n    >\n      {{ label }}\n    </div>\n    <ng-template *ngIf="dayContentTemplate" [ngTemplateOutlet]="dayContentTemplate" [ngTemplateOutletContext]="{ $implicit: _data }">\n    </ng-template>\n  '}]}],propDecorators:{background:[{type:Input}],day:[{type:Input}],dayNames:[{type:Input}],dayTemplate:[{type:Input}],dayContentTemplate:[{type:Input}],events:[{type:Input}],isToday:[{type:Input}],label:[{type:Input}],largeNames:[{type:Input}],resource:[{type:Input}],rtl:[{type:Input}],selectable:[{type:Input}],selected:[{type:Input}],theme:[{type:Input}],timestamp:[{type:Input}],onClick:[{type:Input}]}});var MbscTimeIndicator=/*#__PURE__*/function(_super){__extends(MbscTimeIndicator,_super);function MbscTimeIndicator(){return _super!==null&&_super.apply(this,arguments)||this}MbscTimeIndicator.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTimeIndicator,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscTimeIndicator.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscTimeIndicator,selector:"mbsc-time-indicator",inputs:{amText:"amText",displayedTime:"displayedTime",displayedDays:"displayedDays",displayTimezone:"displayTimezone",endDay:"endDay",firstDay:"firstDay",hasResY:"hasResY",orientation:"orientation",pmText:"pmText",rtl:"rtl",showDayIndicator:"showDayIndicator",startDay:"startDay",startTime:"startTime",theme:"theme",timeFormat:"timeFormat",timezones:"timezones",timezonePlugin:"timezonePlugin"},usesInheritance:true,ngImport:i0,template:'\n    <div aria-hidden="true" [class]="_cssClass" [ngStyle]="_pos">\n      <div\n        [class]="\n          (timezones ? \'mbsc-flex \' : \'\') +\n          \'mbsc-schedule-time-indicator-time mbsc-schedule-time-indicator-time-\' +\n          orientation +\n          _theme +\n          _rtl\n        "\n      >\n        <ng-container *ngIf="timezones">\n          <div *ngFor="let t of timezones; let i = index; trackBy: _getKey" [class]="\'mbsc-schedule-time-indicator-tz\' + _theme + _rtl">\n            {{ _times[i] }}\n          </div>\n        </ng-container>\n        <ng-container *ngIf="!timezones">\n          {{ _time }}\n        </ng-container>\n      </div>\n      <div *ngIf="showDayIndicator" [class]="\'mbsc-schedule-time-indicator-day\' + _theme + _rtl" [ngStyle]="_dayPos"></div>\n    </div>\n  ',isInline:true,directives:[{type:i1$1.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]},{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscTimeIndicator}(TimeIndicatorBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTimeIndicator,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,selector:"mbsc-time-indicator",template:'\n    <div aria-hidden="true" [class]="_cssClass" [ngStyle]="_pos">\n      <div\n        [class]="\n          (timezones ? \'mbsc-flex \' : \'\') +\n          \'mbsc-schedule-time-indicator-time mbsc-schedule-time-indicator-time-\' +\n          orientation +\n          _theme +\n          _rtl\n        "\n      >\n        <ng-container *ngIf="timezones">\n          <div *ngFor="let t of timezones; let i = index; trackBy: _getKey" [class]="\'mbsc-schedule-time-indicator-tz\' + _theme + _rtl">\n            {{ _times[i] }}\n          </div>\n        </ng-container>\n        <ng-container *ngIf="!timezones">\n          {{ _time }}\n        </ng-container>\n      </div>\n      <div *ngIf="showDayIndicator" [class]="\'mbsc-schedule-time-indicator-day\' + _theme + _rtl" [ngStyle]="_dayPos"></div>\n    </div>\n  '}]}],propDecorators:{amText:[{type:Input}],displayedTime:[{type:Input}],displayedDays:[{type:Input}],displayTimezone:[{type:Input}],endDay:[{type:Input}],firstDay:[{type:Input}],hasResY:[{type:Input}],orientation:[{type:Input}],pmText:[{type:Input}],rtl:[{type:Input}],showDayIndicator:[{type:Input}],startDay:[{type:Input}],startTime:[{type:Input}],theme:[{type:Input}],timeFormat:[{type:Input}],timezones:[{type:Input}],timezonePlugin:[{type:Input}]}});var MbscScheduler=/*#__PURE__*/function(_super){__extends(MbscScheduler,_super);function MbscScheduler(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._computeEventResize=computeEventResize;_this._defId=DEF_ID;return _this}Object.defineProperty(MbscScheduler.prototype,"vCursorTimeCont",{set:function(el){this._cursorTimeCont=el&&el.nativeElement},enumerable:false,configurable:true});MbscScheduler.prototype._getDayKey=function(index,day){return day.timestamp};MbscScheduler.prototype._getEventKey=function(index,event){return event.uid};MbscScheduler.prototype._getDragKey=function(resourceId,dateKey){return resourceId+"__"+dateKey};MbscScheduler.prototype._getId=function(index,data){return data.id};MbscScheduler.prototype._mounted=function(){this._scrollCont=this.vScrollCont&&this.vScrollCont.nativeElement;this._gridCont=this.vGridCont&&this.vGridCont.nativeElement;this._headerCont=this.vHeaderCont&&this.vHeaderCont.nativeElement;this._timeCont=this.vTimeCont&&this.vTimeCont.nativeElement;this._allDayCont=this.vAllDayCont&&this.vAllDayCont.nativeElement;_super.prototype._mounted.call(this)};MbscScheduler.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScheduler,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscScheduler.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscScheduler,selector:"mbsc-scheduler",inputs:{allDayText:"allDayText",amText:"amText",bufferAfterTemplate:"bufferAfterTemplate",bufferBeforeTemplate:"bufferBeforeTemplate",checkSize:"checkSize",clickToCreate:"clickToCreate",colorsMap:"colorsMap",currentTimeIndicator:"currentTimeIndicator",dataTimezone:"dataTimezone",dateFormat:"dateFormat",dateFormatFull:"dateFormatFull",dateFormatLong:"dateFormatLong",dayNames:"dayNames",dayNamesMin:"dayNamesMin",dayNamesShort:"dayNamesShort",dayTemplate:"dayTemplate",dayContentTemplate:"dayContentTemplate",events:"events",displayTimezone:"displayTimezone",dragBetweenResources:"dragBetweenResources",dragInTime:"dragInTime",dragTimeStep:"dragTimeStep",dragToCreate:"dragToCreate",dragToMove:"dragToMove",dragToResize:"dragToResize",endDay:"endDay",endTime:"endTime",eventDragEnd:"eventDragEnd",eventMap:"eventMap",eventContentTemplate:"eventContentTemplate",eventOrder:"eventOrder",eventOverlap:"eventOverlap",eventTemplate:"eventTemplate",exclusiveEndDates:"exclusiveEndDates",extendDefaultEvent:"extendDefaultEvent",externalDrag:"externalDrag",externalDrop:"externalDrop",firstDay:"firstDay",fromText:"fromText",getDay:"getDay",getDate:"getDate",getMaxDayOfMonth:"getMaxDayOfMonth",getMonth:"getMonth",getWeekNumber:"getWeekNumber",getYear:"getYear",groupBy:"groupBy",height:"height",immutableData:"immutableData",invalidateEvent:"invalidateEvent",invalidsMap:"invalidsMap",maxDate:"maxDate",navigateToEvent:"navigateToEvent",maxEventStack:"maxEventStack",minDate:"minDate",minEventWidth:"minEventWidth",monthNames:"monthNames",monthNamesShort:"monthNamesShort",moreEventsPluralText:"moreEventsPluralText",moreEventsText:"moreEventsText",navService:"navService",newEventText:"newEventText",pmText:"pmText",refDate:"refDate",resources:"resources",resourceTemplate:"resourceTemplate",scroll:"scroll",selected:"selected",selectedEventsMap:"selectedEventsMap",showAllDay:"showAllDay",showDays:"showDays",showEventBuffer:"showEventBuffer",showEventTooltip:"showEventTooltip",size:"size",startDay:"startDay",startTime:"startTime",timeCellStep:"timeCellStep",timeFormat:"timeFormat",timeLabelStep:"timeLabelStep",timezonePlugin:"timezonePlugin",timezones:"timezones",toText:"toText",type:"type",width:"width",onCellClick:"onCellClick",onCellDoubleClick:"onCellDoubleClick",onCellRightClick:"onCellRightClick",onEventClick:"onEventClick",onEventDoubleClick:"onEventDoubleClick",onEventRightClick:"onEventRightClick",onEventHoverIn:"onEventHoverIn",onEventHoverOut:"onEventHoverOut",onEventDelete:"onEventDelete",onEventDragEnd:"onEventDragEnd",onEventDragStart:"onEventDragStart",onEventDragEnter:"onEventDragEnter",onEventDragLeave:"onEventDragLeave",onMoreClick:"onMoreClick",onPopoverClose:"onPopoverClose",onResourceClick:"onResourceClick",onResourceDoubleClick:"onResourceDoubleClick",onResourceRightClick:"onResourceRightClick",onWeekDayClick:"onWeekDayClick"},host:{properties:{class:'"mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-wrapper" + _theme'}},viewQueries:[{propertyName:"vScrollCont",first:true,predicate:["scrollCont"],descendants:true,read:ElementRef,static:true},{propertyName:"vGridCont",first:true,predicate:["gridCont"],descendants:true,read:ElementRef,static:true},{propertyName:"vHeaderCont",first:true,predicate:["headerCont"],descendants:true,read:ElementRef},{propertyName:"vAllDayCont",first:true,predicate:["allDayCont"],descendants:true,read:ElementRef},{propertyName:"vTimeCont",first:true,predicate:["timeCont"],descendants:true,read:ElementRef,static:true},{propertyName:"vCursorTimeCont",first:true,predicate:["cursorTimeCont"],descendants:true,read:ElementRef}],usesInheritance:true,ngImport:i0,template:'\n    <ng-template\n      #tplEvents\n      let-allDay="allDay"\n      let-events="events"\n      let-dateKey="dateKey"\n      let-dragData="dragData"\n      let-dragKey="dragKey"\n      let-resource="resource"\n    >\n      <ng-container *ngIf="events">\n        <ng-container *ngFor="let event of events; trackBy: _getEventKey">\n          <mbsc-schedule-event\n            *ngIf="event.showText && event.position"\n            [bufferAfterTemplate]="bufferAfterTemplate"\n            [bufferBeforeTemplate]="bufferBeforeTemplate"\n            [contentTemplate]="eventContentTemplate"\n            [displayTimezone]="displayTimezone"\n            [drag]="dragToMove || externalDrag"\n            [event]="event"\n            [endDay]="endDay"\n            [exclusiveEndDates]="exclusiveEndDates"\n            [gridEndTime]="_endTime"\n            [gridStartTime]="_startTime"\n            [inactive]="dragData && dragData.draggedEvent && dragData.draggedEvent.id === event.id"\n            [lastDay]="_lastDay"\n            [resize]="_computeEventResize(event.original!.resize, dragToResize, resource.eventResize)"\n            [resource]="resource.id"\n            [resourceObj]="resource"\n            [rtl]="rtl"\n            [singleDay]="!_groupByResource"\n            [selected]="!!(selectedEventsMap[event.uid!] || selectedEventsMap[event.id!])"\n            [slot]="_defId"\n            [startDay]="startDay"\n            [theme]="theme"\n            [template]="eventTemplate"\n            [timezonePlugin]="timezonePlugin"\n            (onClick)="_onEventClick($event)"\n            (onDoubleClick)="onEventDoubleClick($event)"\n            (onRightClick)="onEventRightClick($event)"\n            (onHoverIn)="onEventHoverIn($event)"\n            (onHoverOut)="onEventHoverOut($event)"\n            (onDelete)="onEventDelete($event)"\n            (onDragStart)="_onEventDragStart($event)"\n            (onDragMove)="_onEventDragMove($event)"\n            (onDragEnd)="_onEventDragEnd($event)"\n            (onDragModeOn)="_onEventDragModeOn($event)"\n            (onDragModeOff)="_onEventDragModeOff($event)"\n          >\n          </mbsc-schedule-event>\n          <div *ngIf="!event.showText" class="mbsc-schedule-event mbsc-schedule-event-all-day mbsc-schedule-event-all-day-placeholder">\n            <div [class]="\'mbsc-schedule-event-all-day-inner\' + _theme"></div>\n          </div>\n        </ng-container>\n      </ng-container>\n      <mbsc-schedule-event\n        *ngIf="dragData && dragData.originDates && dragData.originDates[dragKey] && !!dragData.originDates[dragKey].allDay === allDay"\n        [bufferAfterTemplate]="bufferAfterTemplate"\n        [bufferBeforeTemplate]="bufferBeforeTemplate"\n        [contentTemplate]="eventContentTemplate"\n        [displayTimezone]="displayTimezone"\n        [drag]="dragToMove || externalDrag"\n        [event]="dragData.originDates[dragKey]"\n        [endDay]="endDay"\n        [exclusiveEndDates]="exclusiveEndDates"\n        [gridEndTime]="_endTime"\n        [gridStartTime]="_startTime"\n        [hidden]="!!dragData.draggedDates"\n        [isDrag]="true"\n        [lastDay]="_lastDay"\n        [resize]="_computeEventResize(dragData.originDates[dragKey].original!.resize, dragToResize, resource.eventResize)"\n        [resource]="resource.id"\n        [resourceObj]="resource"\n        [rtl]="rtl"\n        [singleDay]="!_groupByResource"\n        [slot]="_defId"\n        [startDay]="startDay"\n        [theme]="theme"\n        [template]="eventTemplate"\n        [timezonePlugin]="timezonePlugin"\n        (onDragStart)="_onEventDragStart($event)"\n        (onDragMove)="_onEventDragMove($event)"\n        (onDragEnd)="_onEventDragEnd($event)"\n        (onDragModeOff)="_onEventDragModeOff($event)"\n      >\n      </mbsc-schedule-event>\n      <mbsc-schedule-event\n        *ngIf="dragData && dragData.draggedDates && dragData.draggedDates[dragKey] && !!dragData.draggedDates[dragKey].allDay === allDay"\n        [bufferAfterTemplate]="bufferAfterTemplate"\n        [bufferBeforeTemplate]="bufferBeforeTemplate"\n        [contentTemplate]="eventContentTemplate"\n        [displayTimezone]="displayTimezone"\n        [drag]="dragToMove || externalDrag"\n        [event]="dragData.draggedDates[dragKey]"\n        [endDay]="endDay"\n        [exclusiveEndDates]="exclusiveEndDates"\n        [gridEndTime]="_endTime"\n        [gridStartTime]="_startTime"\n        [isDrag]="true"\n        [lastDay]="_lastDay"\n        [resize]="_computeEventResize(dragData.draggedDates[dragKey].original!.resize, dragToResize, resource.eventResize)"\n        [resource]="resource.id"\n        [resourceObj]="resource"\n        [rtl]="rtl"\n        [singleDay]="!_groupByResource"\n        [slot]="_defId"\n        [startDay]="startDay"\n        [theme]="theme"\n        [template]="eventTemplate"\n        [timezonePlugin]="timezonePlugin"\n      >\n      </mbsc-schedule-event>\n    </ng-template>\n\n    <ng-template #tplAllDay let-dateKey="dateKey" let-dayName="dayName" let-r="resource" let-resId="resource.id">\n      <div\n        [class]="\n          \'mbsc-schedule-all-day-item mbsc-flex-1-0 \' +\n          (_groupByResource ? \'mbsc-schedule-column-\' + dayName : r.cssClass || \'\') +\n          _colClass +\n          _theme +\n          _rtl +\n          _hb\n        "\n        [style.background]="r.background"\n      >\n        <ng-container\n          [ngTemplateOutlet]="tplEvents"\n          [ngTemplateOutletContext]="{\n            allDay: true,\n            dateKey: dateKey,\n            dragData: state.dragData,\n            dragKey: _getDragKey(resId, dateKey),\n            events: _events[resId][_defId][dateKey] && _events[resId][_defId][dateKey].allDay,\n            resource: r\n          }"\n        >\n        </ng-container>\n        <div\n          *ngIf="_invalids[resId][_defId][dateKey] && _invalids[resId][_defId][dateKey].allDay[0]"\n          [class]="\'mbsc-schedule-invalid mbsc-schedule-invalid-all-day\' + _invalids[resId][_defId][dateKey].allDay[0].cssClass + _theme"\n        >\n          <div class="mbsc-schedule-invalid-text">\n            {{ _invalids[resId][_defId][dateKey].allDay[0].title }}\n          </div>\n        </div>\n        <div\n          *ngIf="_colors[resId][_defId][dateKey] && _colors[resId][_defId][dateKey].allDay[0]"\n          [class]="\'mbsc-schedule-color mbsc-schedule-color-all-day\' + _colors[resId][_defId][dateKey].allDay[0].cssClass + _theme"\n          [ngStyle]="_colors[resId][_defId][dateKey].allDay[0].position"\n        >\n          <div class="mbsc-schedule-color-text">\n            {{ _colors[resId][_defId][dateKey].allDay[0].title }}\n          </div>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template #tplDay let-dateKey="dateKey" let-dayName="dayName" let-r="resource" let-resId="resource.id" let-timestamp="timestamp">\n      <div\n        [class]="\n          \'mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-column \' +\n          (_groupByResource ? \'mbsc-schedule-column-\' + dayName : r.cssClass || \'\') +\n          _colClass +\n          _theme +\n          _rtl +\n          _hb\n        "\n        [style.background]="r.background"\n      >\n        <div [class]="\'mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-column-inner\' + _theme + _rtl + _hb">\n          <div\n            [class]="\n              \'mbsc-schedule-events\' +\n              (_events[resId][_defId][dateKey] && _events[resId][_defId][dateKey].hasMore ? \' mbsc-schedule-events-more\' : \'\') +\n              _rtl\n            "\n          >\n            <ng-container\n              [ngTemplateOutlet]="tplEvents"\n              [ngTemplateOutletContext]="{\n                allDay: false,\n                dateKey: dateKey,\n                dragData: state.dragData,\n                dragKey: _getDragKey(resId, dateKey),\n                events: _events[resId][_defId][dateKey] && _events[resId][_defId][dateKey].data,\n                resource: r\n              }"\n            >\n            </ng-container>\n          </div>\n\n          <ng-container *ngIf="_invalids[resId][_defId][dateKey]">\n            <ng-container *ngFor="let invalid of _invalids[resId][_defId][dateKey].data; trackBy: _getKey">\n              <div *ngIf="invalid.position" [class]="\'mbsc-schedule-invalid\' + invalid.cssClass + _theme" [ngStyle]="invalid.position">\n                <div class="mbsc-schedule-invalid-text">{{ invalid.allDay ? \'\' : invalid.title }}</div>\n              </div>\n            </ng-container>\n          </ng-container>\n\n          <ng-container *ngIf="_colors[resId][_defId][dateKey]">\n            <div\n              *ngFor="let color of _colors[resId][_defId][dateKey].data; trackBy: _getKey"\n              [class]="\'mbsc-schedule-color\' + color.cssClass + _theme"\n              [ngStyle]="color.position"\n            >\n              <div class="mbsc-schedule-color-text">{{ color.title }}</div>\n            </div>\n          </ng-container>\n\n          <div\n            *ngFor="let v of _times; let first = first; let last = last; trackBy: _getKey"\n            (click)="_onCellClick(\'onCellClick\', timestamp, v, $event, resId)"\n            (dblclick)="_onCellClick(\'onCellDoubleClick\', timestamp, v, $event, resId)"\n            (contextmenu)="_onCellClick(\'onCellRightClick\', timestamp, v, $event, resId)"\n            [class]="\n              \'mbsc-schedule-item mbsc-flex-1-0\' +\n              _theme +\n              _hb +\n              (last ? \' mbsc-schedule-item-last\' : \'\') +\n              ((first && !last && _startCellStyle) || (last && !first && _endCellStyle) ? \' mbsc-flex-none\' : \'\')\n            "\n            [ngStyle]="first && !last ? _startCellStyle! : last && !first ? _endCellStyle! : {}"\n          ></div>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template #tplTimes let-index="index">\n      <div\n        *ngFor="let v of _times; let i = index; let first = first; let last = last; trackBy: _getKey"\n        [class]="\n          \'mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-time-wrapper\' +\n          _theme +\n          _rtl +\n          (last ? \' mbsc-schedule-time-wrapper-end\' : \'\') +\n          ((first && !last && _startCellStyle) || (last && !first && _endCellStyle) ? \' mbsc-flex-none\' : \'\')\n        "\n        [ngStyle]="first && !last ? _startCellStyle! : last && !first ? _endCellStyle! : {}"\n      >\n        <div [class]="\'mbsc-flex-1-1 mbsc-schedule-time\' + _theme + _rtl">\n          {{ _timeLabels[index][v] }}\n        </div>\n\n        <ng-container *ngFor="let t of _timesBetween; let j = index; trackBy: _getKey">\n          <div\n            *ngIf="v + (j + 1) * _stepLabel > _startTime && v + (j + 1) * _stepLabel < _endTime"\n            [class]="\'mbsc-flex-1-1 mbsc-schedule-time\' + _theme + _rtl"\n          >\n            {{ _timeLabels[index][v + (j + 1) * _stepLabel] }}\n          </div>\n        </ng-container>\n\n        <div *ngIf="last" [class]="\'mbsc-schedule-time mbsc-schedule-time-end\' + _theme + _rtl">\n          {{ _timeLabels[index][_endTime + 1] }}\n        </div>\n      </div>\n    </ng-template>\n\n    <div [class]="\'mbsc-schedule-header mbsc-flex mbsc-flex-none\' + _theme + _hb">\n      <div [class]="\'mbsc-schedule-time-col mbsc-schedule-time-col-empty\' + _theme + _rtl + _hb" [ngStyle]="_timeWidth!"></div>\n      <div class="mbsc-flex-1-0 mbsc-schedule-header-wrapper">\n        <div #headerCont class="mbsc-flex">\n          <div *ngIf="type === \'day\' && size === 1" class="mbsc-flex-1-0-0 mbsc-schedule-resource-group">\n            <div *ngIf="showDays" class="mbsc-flex">\n              <mbsc-week-day\n                *ngFor="let dayData of _headerDays; trackBy: _getDayKey"\n                class="mbsc-flex-1-1"\n                [day]="dayData.day"\n                [dayNames]="_dayNames"\n                [dayTemplate]="dayTemplate"\n                [dayContentTemplate]="dayContentTemplate"\n                [events]="eventMap[dayData.dateKey]"\n                [isToday]="_isToday(dayData.timestamp)"\n                [label]="dayData.label"\n                [largeNames]="_largeDayNames"\n                [onClick]="onWeekDayClick"\n                [rtl]="rtl"\n                [selectable]="true"\n                [selected]="_selectedDay === dayData.timestamp"\n                [theme]="theme"\n                [timestamp]="dayData.timestamp"\n              >\n              </mbsc-week-day>\n            </div>\n            <div *ngIf="resources" class="mbsc-flex">\n              <ng-container *ngFor="let r of _resources; trackBy: _getId">\n                <div\n                  *ngIf="r.name || (resourceTemplate && r.id !== _defId)"\n                  [style.background]="r.background"\n                  [class]="\'mbsc-schedule-resource mbsc-flex-1-0 mbsc-schedule-col-width \' + (r.cssClass || \'\') + _theme + _rtl + _hb"\n                  (click)="_onResourceClick(\'onResourceClick\', $event, r)"\n                  (dblclick)="_onResourceClick(\'onResourceDoubleClick\', $event, r)"\n                  (contextmenu)="_onResourceClick(\'onResourceRightClick\', $event, r)"\n                >\n                  <div class="mbsc-schedule-resource-title">\n                    <ng-template #default>\n                      {{ r.name }}\n                    </ng-template>\n                    <ng-template [ngTemplateOutlet]="resourceTemplate || default" [ngTemplateOutletContext]="{ $implicit: r }">\n                    </ng-template>\n                  </div>\n                </div>\n              </ng-container>\n            </div>\n          </div>\n          <ng-container *ngIf="type !== \'day\' || size !== 1">\n            <ng-container *ngIf="_groupByResource">\n              <div\n                *ngFor="let r of _resources; trackBy: _getId"\n                [class]="\'mbsc-flex-1-0-0 mbsc-schedule-resource-group \' + (r.cssClass || \'\') + _theme + _rtl"\n              >\n                <div\n                  *ngIf="r.name || (resourceTemplate && r.id !== _defId)"\n                  [class]="\'mbsc-schedule-resource \' + _theme + _rtl + _hb"\n                  [style.background]="r.background"\n                  (click)="_onResourceClick(\'onResourceClick\', $event, r)"\n                  (dblclick)="_onResourceClick(\'onResourceDoubleClick\', $event, r)"\n                  (contextmenu)="_onResourceClick(\'onResourceRightClick\', $event, r)"\n                >\n                  <div class="mbsc-schedule-resource-title">\n                    <ng-template #default>\n                      {{ r.name }}\n                    </ng-template>\n                    <ng-template [ngTemplateOutlet]="resourceTemplate || default" [ngTemplateOutletContext]="{ $implicit: r }">\n                    </ng-template>\n                  </div>\n                </div>\n                <div *ngIf="showDays" class="mbsc-flex">\n                  <mbsc-week-day\n                    *ngFor="let dayData of _days; trackBy: _getDayKey"\n                    [class]="\'mbsc-flex-1-0\' + _colClass + \' mbsc-schedule-column-\' + dayData.dayName"\n                    [background]="r.background"\n                    [day]="dayData.day"\n                    [dayNames]="_dayNames"\n                    [dayTemplate]="dayTemplate"\n                    [dayContentTemplate]="dayContentTemplate"\n                    [events]="eventMap[dayData.dateKey]"\n                    [isToday]="_isSingleResource && _isToday(dayData.timestamp)"\n                    [label]="dayData.label"\n                    [largeNames]="_largeDayNames"\n                    [onClick]="onWeekDayClick"\n                    [resource]="r.id"\n                    [rtl]="rtl"\n                    [selectable]="false"\n                    [selected]="_isSingleResource && _isToday(dayData.timestamp)"\n                    [theme]="theme"\n                    [timestamp]="dayData.timestamp"\n                  >\n                  </mbsc-week-day>\n                </div>\n              </div>\n            </ng-container>\n            <ng-container *ngIf="!_groupByResource">\n              <div\n                *ngFor="let dayData of _days; trackBy: _getDayKey"\n                [class]="\'mbsc-flex-1-0-0 mbsc-schedule-resource-group mbsc-schedule-column-\' + dayData.dayName + _theme + _rtl"\n              >\n                <mbsc-week-day\n                  *ngIf="showDays"\n                  [day]="dayData.day"\n                  [dayNames]="_dayNames"\n                  [dayTemplate]="dayTemplate"\n                  [dayContentTemplate]="dayContentTemplate"\n                  [events]="eventMap[dayData.dateKey]"\n                  [isToday]="_isSingleResource && _isToday(dayData.timestamp)"\n                  [label]="dayData.label"\n                  [largeNames]="_largeDayNames"\n                  [onClick]="onWeekDayClick"\n                  [rtl]="rtl"\n                  [selectable]="false"\n                  [selected]="_isToday(dayData.timestamp)"\n                  [theme]="theme"\n                  [timestamp]="dayData.timestamp"\n                >\n                </mbsc-week-day>\n                <div *ngIf="resources" class="mbsc-flex">\n                  <ng-container *ngFor="let r of _resources; trackBy: _getId">\n                    <div\n                      *ngIf="r.name || (resourceTemplate && r.id !== _defId)"\n                      [style.background]="r.background"\n                      [class]="\'mbsc-schedule-resource mbsc-flex-1-0 \' + (r.cssClass || \'\') + _colClass + _theme + _rtl + _hb"\n                      (click)="_onResourceClick(\'onResourceClick\', $event, r, dayData.date)"\n                      (dblclick)="_onResourceClick(\'onResourceDoubleClick\', $event, r, dayData.date)"\n                      (contextmenu)="_onResourceClick(\'onResourceRightClick\', $event, r, dayData.date)"\n                    >\n                      <div class="mbsc-schedule-resource-title">\n                        <ng-template #default>\n                          {{ r.name }}\n                        </ng-template>\n                        <ng-template\n                          [ngTemplateOutlet]="resourceTemplate || default"\n                          [ngTemplateOutletContext]="{ $implicit: r, day: dayData.date }"\n                        >\n                        </ng-template>\n                      </div>\n                    </div>\n                  </ng-container>\n                </div>\n              </div>\n            </ng-container>\n          </ng-container>\n        </div>\n      </div>\n      <div class="mbsc-schedule-fake-scroll-y"></div>\n    </div>\n    <div [class]="\'mbsc-schedule-all-day-cont\' + (state.showShadow ? \' mbsc-schedule-all-day-wrapper-shadow\' : \'\') + _theme">\n      <div *ngIf="timezones" class="mbsc-flex mbsc-schedule-timezone-labels" [ngStyle]="_timeWidth!">\n        <div *ngFor="let tz of _timezones; trackBy: _getKey" [class]="\'mbsc-flex-1-0-0 mbsc-schedule-timezone-label\' + _theme + _rtl">\n          {{ tz.label }}\n        </div>\n      </div>\n      <div *ngIf="showAllDay" [class]="\'mbsc-schedule-all-day-wrapper mbsc-flex-none\' + _theme + _hb">\n        <div [class]="\'mbsc-flex mbsc-schedule-all-day\' + _theme">\n          <div [class]="\'mbsc-schedule-time-col\' + _theme + _rtl" [ngStyle]="_timeWidth!">\n            <div *ngIf="!timezones" [class]="\'mbsc-schedule-all-day-text\' + _theme + _rtl">{{ allDayText }}</div>\n          </div>\n          <div class="mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-all-day-group-wrapper">\n            <div #allDayCont class="mbsc-flex mbsc-flex-1-1">\n              <ng-container *ngIf="_groupByResource">\n                <div\n                  *ngFor="let r of _resources; trackBy: _getId"\n                  [class]="\'mbsc-flex mbsc-flex-1-0-0 mbsc-schedule-resource-group \' + (r.cssClass || \'\') + _theme + _rtl"\n                >\n                  <ng-container\n                    *ngFor="let dayData of _days; trackBy: _getDayKey"\n                    [ngTemplateOutlet]="tplAllDay"\n                    [ngTemplateOutletContext]="{\n                      dateKey: dayData.dateKey,\n                      dayName: dayData.dayName,\n                      resource: r,\n                      timestamp: dayData.timestamp\n                    }"\n                  >\n                  </ng-container>\n                </div>\n              </ng-container>\n              <ng-container *ngIf="!_groupByResource">\n                <div\n                  *ngFor="let dayData of _days; trackBy: _getDayKey"\n                  [class]="\'mbsc-flex mbsc-flex-1-0-0 mbsc-schedule-resource-group mbsc-schedule-column-\' + dayData.dayName + _theme + _rtl"\n                >\n                  <ng-container\n                    *ngFor="let r of _resources; trackBy: _getId"\n                    [ngTemplateOutlet]="tplAllDay"\n                    [ngTemplateOutletContext]="{\n                      dateKey: dayData.dateKey,\n                      dayName: dayData.dayName,\n                      resource: r,\n                      timestamp: dayData.timestamp\n                    }"\n                  >\n                  </ng-container>\n                </div>\n              </ng-container>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div [class]="\'mbsc-flex mbsc-flex-1-1 mbsc-schedule-grid-wrapper\' + _theme">\n      <div [innerHTML]="textParam"></div>\n      <div\n        #timeCont\n        aria-hidden="true"\n        [class]="\'mbsc-flex-col mbsc-schedule-time-col mbsc-schedule-time-cont\' + _theme + _rtl"\n        [ngStyle]="_timeWidth!"\n      >\n        <div class="mbsc-flex mbsc-schedule-time-cont-inner">\n          <div class="mbsc-flex-col mbsc-flex-1-1">\n            <div\n              [class]="\n                \'mbsc-flex-1-1 mbsc-schedule-time-cont-pos\' +\n                _theme +\n                (timezones ? \' mbsc-flex \' : \' mbsc-flex-col mbsc-schedule-time-col-last\')\n              "\n            >\n              <div\n                *ngFor="let tz of _timezones; let last = last; trackBy: _getKey; let i = index"\n                [class]="\'mbsc-flex-col\' + _theme + (last ? \' mbsc-schedule-time-col-last\' : \'\')"\n              >\n                <ng-container *ngIf="timezones" [ngTemplateOutlet]="tplTimes" [ngTemplateOutletContext]="{ index: i }"></ng-container>\n              </div>\n              <ng-container *ngIf="!timezones" [ngTemplateOutlet]="tplTimes" [ngTemplateOutletContext]="{ index: 0 }"></ng-container>\n              <mbsc-time-indicator\n                *ngIf="_showTimeIndicator"\n                [amText]="s.amText"\n                [displayedTime]="_time"\n                [displayedDays]="_daysNr"\n                [displayTimezone]="displayTimezone"\n                [endDay]="endDay"\n                [firstDay]="_firstDayTz"\n                orientation="x"\n                [pmText]="s.pmText"\n                [rtl]="rtl"\n                [showDayIndicator]="_isSingleResource && !_isMulti && type === \'week\'"\n                [startDay]="startDay"\n                [startTime]="_startTime"\n                [theme]="theme"\n                [timeFormat]="timeFormat"\n                [timezones]="_timezones"\n                [timezonePlugin]="timezonePlugin"\n              >\n              </mbsc-time-indicator>\n              <div\n                *ngIf="_showCursorTime"\n                #cursorTimeCont\n                [class]="\'mbsc-schedule-cursor-time mbsc-schedule-cursor-time-x\' + _theme + _rtl"\n              ></div>\n            </div>\n            <div *ngIf="state.hasScrollX" class="mbsc-schedule-fake-scroll-x"></div>\n          </div>\n          <div class="mbsc-schedule-fake-scroll-y"></div>\n        </div>\n      </div>\n      <div #scrollCont [class]="\'mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-grid-scroll\' + _theme" (scroll)="_onScroll()">\n        \x3c!-- The extra flex div is needed for the div width to expand correctly --\x3e\n        <div class="mbsc-flex mbsc-flex-1-1">\n          <div\n            #gridCont\n            class="mbsc-flex mbsc-flex-1-0 mbsc-schedule-grid"\n            (mouseleave)="_onMouseLeave($event)"\n            (mousemove)="_onMouseMove($event)"\n          >\n            <ng-container *ngIf="_groupByResource">\n              <div\n                *ngFor="let r of _resources; trackBy: _getId"\n                [class]="\'mbsc-flex mbsc-flex-1-0-0 mbsc-schedule-resource-group \' + (r.cssClass || \'\') + _theme + _rtl"\n              >\n                <ng-container *ngFor="let dayData of _days; trackBy: _getDayKey">\n                  <ng-container\n                    [ngTemplateOutlet]="tplDay"\n                    [ngTemplateOutletContext]="{\n                      dateKey: dayData.dateKey,\n                      dayName: dayData.dayName,\n                      resource: r,\n                      timestamp: dayData.timestamp\n                    }"\n                  >\n                  </ng-container>\n                </ng-container>\n              </div>\n            </ng-container>\n            <ng-container *ngIf="!_groupByResource">\n              <div\n                *ngFor="let dayData of _days; trackBy: _getDayKey"\n                [class]="\'mbsc-flex mbsc-flex-1-0-0 mbsc-schedule-resource-group mbsc-schedule-column-\' + dayData.dayName + _theme + _rtl"\n              >\n                <ng-container *ngFor="let r of _resources; trackBy: _getId">\n                  <ng-container\n                    [ngTemplateOutlet]="tplDay"\n                    [ngTemplateOutletContext]="{\n                      dateKey: dayData.dateKey,\n                      dayName: dayData.dayName,\n                      resource: r,\n                      timestamp: dayData.timestamp\n                    }"\n                  >\n                  </ng-container>\n                </ng-container>\n              </div>\n            </ng-container>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div *ngIf="state.dragData && !state.isTouchDrag" class="mbsc-calendar-dragging"></div>\n  ',isInline:true,components:[{type:MbscScheduleEvent,selector:"mbsc-schedule-event",inputs:["bufferAfterTemplate","bufferBeforeTemplate","contentTemplate","displayTimezone","drag","event","endDay","eventHeight","exclusiveEndDates","gridEndTime","gridStartTime","hasResY","hidden","inactive","isDrag","isListing","isTimeline","lastDay","resize","resource","resourceObj","rtl","selected","singleDay","slot","slotObj","startDay","stickyPos","template","theme","timezonePlugin"],outputs:["onClick","onDoubleClick","onRightClick","onHoverIn","onHoverOut","onDelete","onDragEnd","onDragModeOff","onDragModeOn","onDragMove","onDragStart"]},{type:MbscWeekDay,selector:"mbsc-week-day",inputs:["background","day","dayNames","dayTemplate","dayContentTemplate","events","isToday","label","largeNames","resource","rtl","selectable","selected","theme","timestamp","onClick"]},{type:MbscTimeIndicator,selector:"mbsc-time-indicator",inputs:["amText","displayedTime","displayedDays","displayTimezone","endDay","firstDay","hasResY","orientation","pmText","rtl","showDayIndicator","startDay","startTime","theme","timeFormat","timezones","timezonePlugin"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:i1$1.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:i1$1.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscScheduler}(SchedulerBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscScheduler,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":'"mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-wrapper" + _theme'},selector:"mbsc-scheduler",template:'\n    <ng-template\n      #tplEvents\n      let-allDay="allDay"\n      let-events="events"\n      let-dateKey="dateKey"\n      let-dragData="dragData"\n      let-dragKey="dragKey"\n      let-resource="resource"\n    >\n      <ng-container *ngIf="events">\n        <ng-container *ngFor="let event of events; trackBy: _getEventKey">\n          <mbsc-schedule-event\n            *ngIf="event.showText && event.position"\n            [bufferAfterTemplate]="bufferAfterTemplate"\n            [bufferBeforeTemplate]="bufferBeforeTemplate"\n            [contentTemplate]="eventContentTemplate"\n            [displayTimezone]="displayTimezone"\n            [drag]="dragToMove || externalDrag"\n            [event]="event"\n            [endDay]="endDay"\n            [exclusiveEndDates]="exclusiveEndDates"\n            [gridEndTime]="_endTime"\n            [gridStartTime]="_startTime"\n            [inactive]="dragData && dragData.draggedEvent && dragData.draggedEvent.id === event.id"\n            [lastDay]="_lastDay"\n            [resize]="_computeEventResize(event.original!.resize, dragToResize, resource.eventResize)"\n            [resource]="resource.id"\n            [resourceObj]="resource"\n            [rtl]="rtl"\n            [singleDay]="!_groupByResource"\n            [selected]="!!(selectedEventsMap[event.uid!] || selectedEventsMap[event.id!])"\n            [slot]="_defId"\n            [startDay]="startDay"\n            [theme]="theme"\n            [template]="eventTemplate"\n            [timezonePlugin]="timezonePlugin"\n            (onClick)="_onEventClick($event)"\n            (onDoubleClick)="onEventDoubleClick($event)"\n            (onRightClick)="onEventRightClick($event)"\n            (onHoverIn)="onEventHoverIn($event)"\n            (onHoverOut)="onEventHoverOut($event)"\n            (onDelete)="onEventDelete($event)"\n            (onDragStart)="_onEventDragStart($event)"\n            (onDragMove)="_onEventDragMove($event)"\n            (onDragEnd)="_onEventDragEnd($event)"\n            (onDragModeOn)="_onEventDragModeOn($event)"\n            (onDragModeOff)="_onEventDragModeOff($event)"\n          >\n          </mbsc-schedule-event>\n          <div *ngIf="!event.showText" class="mbsc-schedule-event mbsc-schedule-event-all-day mbsc-schedule-event-all-day-placeholder">\n            <div [class]="\'mbsc-schedule-event-all-day-inner\' + _theme"></div>\n          </div>\n        </ng-container>\n      </ng-container>\n      <mbsc-schedule-event\n        *ngIf="dragData && dragData.originDates && dragData.originDates[dragKey] && !!dragData.originDates[dragKey].allDay === allDay"\n        [bufferAfterTemplate]="bufferAfterTemplate"\n        [bufferBeforeTemplate]="bufferBeforeTemplate"\n        [contentTemplate]="eventContentTemplate"\n        [displayTimezone]="displayTimezone"\n        [drag]="dragToMove || externalDrag"\n        [event]="dragData.originDates[dragKey]"\n        [endDay]="endDay"\n        [exclusiveEndDates]="exclusiveEndDates"\n        [gridEndTime]="_endTime"\n        [gridStartTime]="_startTime"\n        [hidden]="!!dragData.draggedDates"\n        [isDrag]="true"\n        [lastDay]="_lastDay"\n        [resize]="_computeEventResize(dragData.originDates[dragKey].original!.resize, dragToResize, resource.eventResize)"\n        [resource]="resource.id"\n        [resourceObj]="resource"\n        [rtl]="rtl"\n        [singleDay]="!_groupByResource"\n        [slot]="_defId"\n        [startDay]="startDay"\n        [theme]="theme"\n        [template]="eventTemplate"\n        [timezonePlugin]="timezonePlugin"\n        (onDragStart)="_onEventDragStart($event)"\n        (onDragMove)="_onEventDragMove($event)"\n        (onDragEnd)="_onEventDragEnd($event)"\n        (onDragModeOff)="_onEventDragModeOff($event)"\n      >\n      </mbsc-schedule-event>\n      <mbsc-schedule-event\n        *ngIf="dragData && dragData.draggedDates && dragData.draggedDates[dragKey] && !!dragData.draggedDates[dragKey].allDay === allDay"\n        [bufferAfterTemplate]="bufferAfterTemplate"\n        [bufferBeforeTemplate]="bufferBeforeTemplate"\n        [contentTemplate]="eventContentTemplate"\n        [displayTimezone]="displayTimezone"\n        [drag]="dragToMove || externalDrag"\n        [event]="dragData.draggedDates[dragKey]"\n        [endDay]="endDay"\n        [exclusiveEndDates]="exclusiveEndDates"\n        [gridEndTime]="_endTime"\n        [gridStartTime]="_startTime"\n        [isDrag]="true"\n        [lastDay]="_lastDay"\n        [resize]="_computeEventResize(dragData.draggedDates[dragKey].original!.resize, dragToResize, resource.eventResize)"\n        [resource]="resource.id"\n        [resourceObj]="resource"\n        [rtl]="rtl"\n        [singleDay]="!_groupByResource"\n        [slot]="_defId"\n        [startDay]="startDay"\n        [theme]="theme"\n        [template]="eventTemplate"\n        [timezonePlugin]="timezonePlugin"\n      >\n      </mbsc-schedule-event>\n    </ng-template>\n\n    <ng-template #tplAllDay let-dateKey="dateKey" let-dayName="dayName" let-r="resource" let-resId="resource.id">\n      <div\n        [class]="\n          \'mbsc-schedule-all-day-item mbsc-flex-1-0 \' +\n          (_groupByResource ? \'mbsc-schedule-column-\' + dayName : r.cssClass || \'\') +\n          _colClass +\n          _theme +\n          _rtl +\n          _hb\n        "\n        [style.background]="r.background"\n      >\n        <ng-container\n          [ngTemplateOutlet]="tplEvents"\n          [ngTemplateOutletContext]="{\n            allDay: true,\n            dateKey: dateKey,\n            dragData: state.dragData,\n            dragKey: _getDragKey(resId, dateKey),\n            events: _events[resId][_defId][dateKey] && _events[resId][_defId][dateKey].allDay,\n            resource: r\n          }"\n        >\n        </ng-container>\n        <div\n          *ngIf="_invalids[resId][_defId][dateKey] && _invalids[resId][_defId][dateKey].allDay[0]"\n          [class]="\'mbsc-schedule-invalid mbsc-schedule-invalid-all-day\' + _invalids[resId][_defId][dateKey].allDay[0].cssClass + _theme"\n        >\n          <div class="mbsc-schedule-invalid-text">\n            {{ _invalids[resId][_defId][dateKey].allDay[0].title }}\n          </div>\n        </div>\n        <div\n          *ngIf="_colors[resId][_defId][dateKey] && _colors[resId][_defId][dateKey].allDay[0]"\n          [class]="\'mbsc-schedule-color mbsc-schedule-color-all-day\' + _colors[resId][_defId][dateKey].allDay[0].cssClass + _theme"\n          [ngStyle]="_colors[resId][_defId][dateKey].allDay[0].position"\n        >\n          <div class="mbsc-schedule-color-text">\n            {{ _colors[resId][_defId][dateKey].allDay[0].title }}\n          </div>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template #tplDay let-dateKey="dateKey" let-dayName="dayName" let-r="resource" let-resId="resource.id" let-timestamp="timestamp">\n      <div\n        [class]="\n          \'mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-column \' +\n          (_groupByResource ? \'mbsc-schedule-column-\' + dayName : r.cssClass || \'\') +\n          _colClass +\n          _theme +\n          _rtl +\n          _hb\n        "\n        [style.background]="r.background"\n      >\n        <div [class]="\'mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-column-inner\' + _theme + _rtl + _hb">\n          <div\n            [class]="\n              \'mbsc-schedule-events\' +\n              (_events[resId][_defId][dateKey] && _events[resId][_defId][dateKey].hasMore ? \' mbsc-schedule-events-more\' : \'\') +\n              _rtl\n            "\n          >\n            <ng-container\n              [ngTemplateOutlet]="tplEvents"\n              [ngTemplateOutletContext]="{\n                allDay: false,\n                dateKey: dateKey,\n                dragData: state.dragData,\n                dragKey: _getDragKey(resId, dateKey),\n                events: _events[resId][_defId][dateKey] && _events[resId][_defId][dateKey].data,\n                resource: r\n              }"\n            >\n            </ng-container>\n          </div>\n\n          <ng-container *ngIf="_invalids[resId][_defId][dateKey]">\n            <ng-container *ngFor="let invalid of _invalids[resId][_defId][dateKey].data; trackBy: _getKey">\n              <div *ngIf="invalid.position" [class]="\'mbsc-schedule-invalid\' + invalid.cssClass + _theme" [ngStyle]="invalid.position">\n                <div class="mbsc-schedule-invalid-text">{{ invalid.allDay ? \'\' : invalid.title }}</div>\n              </div>\n            </ng-container>\n          </ng-container>\n\n          <ng-container *ngIf="_colors[resId][_defId][dateKey]">\n            <div\n              *ngFor="let color of _colors[resId][_defId][dateKey].data; trackBy: _getKey"\n              [class]="\'mbsc-schedule-color\' + color.cssClass + _theme"\n              [ngStyle]="color.position"\n            >\n              <div class="mbsc-schedule-color-text">{{ color.title }}</div>\n            </div>\n          </ng-container>\n\n          <div\n            *ngFor="let v of _times; let first = first; let last = last; trackBy: _getKey"\n            (click)="_onCellClick(\'onCellClick\', timestamp, v, $event, resId)"\n            (dblclick)="_onCellClick(\'onCellDoubleClick\', timestamp, v, $event, resId)"\n            (contextmenu)="_onCellClick(\'onCellRightClick\', timestamp, v, $event, resId)"\n            [class]="\n              \'mbsc-schedule-item mbsc-flex-1-0\' +\n              _theme +\n              _hb +\n              (last ? \' mbsc-schedule-item-last\' : \'\') +\n              ((first && !last && _startCellStyle) || (last && !first && _endCellStyle) ? \' mbsc-flex-none\' : \'\')\n            "\n            [ngStyle]="first && !last ? _startCellStyle! : last && !first ? _endCellStyle! : {}"\n          ></div>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template #tplTimes let-index="index">\n      <div\n        *ngFor="let v of _times; let i = index; let first = first; let last = last; trackBy: _getKey"\n        [class]="\n          \'mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-time-wrapper\' +\n          _theme +\n          _rtl +\n          (last ? \' mbsc-schedule-time-wrapper-end\' : \'\') +\n          ((first && !last && _startCellStyle) || (last && !first && _endCellStyle) ? \' mbsc-flex-none\' : \'\')\n        "\n        [ngStyle]="first && !last ? _startCellStyle! : last && !first ? _endCellStyle! : {}"\n      >\n        <div [class]="\'mbsc-flex-1-1 mbsc-schedule-time\' + _theme + _rtl">\n          {{ _timeLabels[index][v] }}\n        </div>\n\n        <ng-container *ngFor="let t of _timesBetween; let j = index; trackBy: _getKey">\n          <div\n            *ngIf="v + (j + 1) * _stepLabel > _startTime && v + (j + 1) * _stepLabel < _endTime"\n            [class]="\'mbsc-flex-1-1 mbsc-schedule-time\' + _theme + _rtl"\n          >\n            {{ _timeLabels[index][v + (j + 1) * _stepLabel] }}\n          </div>\n        </ng-container>\n\n        <div *ngIf="last" [class]="\'mbsc-schedule-time mbsc-schedule-time-end\' + _theme + _rtl">\n          {{ _timeLabels[index][_endTime + 1] }}\n        </div>\n      </div>\n    </ng-template>\n\n    <div [class]="\'mbsc-schedule-header mbsc-flex mbsc-flex-none\' + _theme + _hb">\n      <div [class]="\'mbsc-schedule-time-col mbsc-schedule-time-col-empty\' + _theme + _rtl + _hb" [ngStyle]="_timeWidth!"></div>\n      <div class="mbsc-flex-1-0 mbsc-schedule-header-wrapper">\n        <div #headerCont class="mbsc-flex">\n          <div *ngIf="type === \'day\' && size === 1" class="mbsc-flex-1-0-0 mbsc-schedule-resource-group">\n            <div *ngIf="showDays" class="mbsc-flex">\n              <mbsc-week-day\n                *ngFor="let dayData of _headerDays; trackBy: _getDayKey"\n                class="mbsc-flex-1-1"\n                [day]="dayData.day"\n                [dayNames]="_dayNames"\n                [dayTemplate]="dayTemplate"\n                [dayContentTemplate]="dayContentTemplate"\n                [events]="eventMap[dayData.dateKey]"\n                [isToday]="_isToday(dayData.timestamp)"\n                [label]="dayData.label"\n                [largeNames]="_largeDayNames"\n                [onClick]="onWeekDayClick"\n                [rtl]="rtl"\n                [selectable]="true"\n                [selected]="_selectedDay === dayData.timestamp"\n                [theme]="theme"\n                [timestamp]="dayData.timestamp"\n              >\n              </mbsc-week-day>\n            </div>\n            <div *ngIf="resources" class="mbsc-flex">\n              <ng-container *ngFor="let r of _resources; trackBy: _getId">\n                <div\n                  *ngIf="r.name || (resourceTemplate && r.id !== _defId)"\n                  [style.background]="r.background"\n                  [class]="\'mbsc-schedule-resource mbsc-flex-1-0 mbsc-schedule-col-width \' + (r.cssClass || \'\') + _theme + _rtl + _hb"\n                  (click)="_onResourceClick(\'onResourceClick\', $event, r)"\n                  (dblclick)="_onResourceClick(\'onResourceDoubleClick\', $event, r)"\n                  (contextmenu)="_onResourceClick(\'onResourceRightClick\', $event, r)"\n                >\n                  <div class="mbsc-schedule-resource-title">\n                    <ng-template #default>\n                      {{ r.name }}\n                    </ng-template>\n                    <ng-template [ngTemplateOutlet]="resourceTemplate || default" [ngTemplateOutletContext]="{ $implicit: r }">\n                    </ng-template>\n                  </div>\n                </div>\n              </ng-container>\n            </div>\n          </div>\n          <ng-container *ngIf="type !== \'day\' || size !== 1">\n            <ng-container *ngIf="_groupByResource">\n              <div\n                *ngFor="let r of _resources; trackBy: _getId"\n                [class]="\'mbsc-flex-1-0-0 mbsc-schedule-resource-group \' + (r.cssClass || \'\') + _theme + _rtl"\n              >\n                <div\n                  *ngIf="r.name || (resourceTemplate && r.id !== _defId)"\n                  [class]="\'mbsc-schedule-resource \' + _theme + _rtl + _hb"\n                  [style.background]="r.background"\n                  (click)="_onResourceClick(\'onResourceClick\', $event, r)"\n                  (dblclick)="_onResourceClick(\'onResourceDoubleClick\', $event, r)"\n                  (contextmenu)="_onResourceClick(\'onResourceRightClick\', $event, r)"\n                >\n                  <div class="mbsc-schedule-resource-title">\n                    <ng-template #default>\n                      {{ r.name }}\n                    </ng-template>\n                    <ng-template [ngTemplateOutlet]="resourceTemplate || default" [ngTemplateOutletContext]="{ $implicit: r }">\n                    </ng-template>\n                  </div>\n                </div>\n                <div *ngIf="showDays" class="mbsc-flex">\n                  <mbsc-week-day\n                    *ngFor="let dayData of _days; trackBy: _getDayKey"\n                    [class]="\'mbsc-flex-1-0\' + _colClass + \' mbsc-schedule-column-\' + dayData.dayName"\n                    [background]="r.background"\n                    [day]="dayData.day"\n                    [dayNames]="_dayNames"\n                    [dayTemplate]="dayTemplate"\n                    [dayContentTemplate]="dayContentTemplate"\n                    [events]="eventMap[dayData.dateKey]"\n                    [isToday]="_isSingleResource && _isToday(dayData.timestamp)"\n                    [label]="dayData.label"\n                    [largeNames]="_largeDayNames"\n                    [onClick]="onWeekDayClick"\n                    [resource]="r.id"\n                    [rtl]="rtl"\n                    [selectable]="false"\n                    [selected]="_isSingleResource && _isToday(dayData.timestamp)"\n                    [theme]="theme"\n                    [timestamp]="dayData.timestamp"\n                  >\n                  </mbsc-week-day>\n                </div>\n              </div>\n            </ng-container>\n            <ng-container *ngIf="!_groupByResource">\n              <div\n                *ngFor="let dayData of _days; trackBy: _getDayKey"\n                [class]="\'mbsc-flex-1-0-0 mbsc-schedule-resource-group mbsc-schedule-column-\' + dayData.dayName + _theme + _rtl"\n              >\n                <mbsc-week-day\n                  *ngIf="showDays"\n                  [day]="dayData.day"\n                  [dayNames]="_dayNames"\n                  [dayTemplate]="dayTemplate"\n                  [dayContentTemplate]="dayContentTemplate"\n                  [events]="eventMap[dayData.dateKey]"\n                  [isToday]="_isSingleResource && _isToday(dayData.timestamp)"\n                  [label]="dayData.label"\n                  [largeNames]="_largeDayNames"\n                  [onClick]="onWeekDayClick"\n                  [rtl]="rtl"\n                  [selectable]="false"\n                  [selected]="_isToday(dayData.timestamp)"\n                  [theme]="theme"\n                  [timestamp]="dayData.timestamp"\n                >\n                </mbsc-week-day>\n                <div *ngIf="resources" class="mbsc-flex">\n                  <ng-container *ngFor="let r of _resources; trackBy: _getId">\n                    <div\n                      *ngIf="r.name || (resourceTemplate && r.id !== _defId)"\n                      [style.background]="r.background"\n                      [class]="\'mbsc-schedule-resource mbsc-flex-1-0 \' + (r.cssClass || \'\') + _colClass + _theme + _rtl + _hb"\n                      (click)="_onResourceClick(\'onResourceClick\', $event, r, dayData.date)"\n                      (dblclick)="_onResourceClick(\'onResourceDoubleClick\', $event, r, dayData.date)"\n                      (contextmenu)="_onResourceClick(\'onResourceRightClick\', $event, r, dayData.date)"\n                    >\n                      <div class="mbsc-schedule-resource-title">\n                        <ng-template #default>\n                          {{ r.name }}\n                        </ng-template>\n                        <ng-template\n                          [ngTemplateOutlet]="resourceTemplate || default"\n                          [ngTemplateOutletContext]="{ $implicit: r, day: dayData.date }"\n                        >\n                        </ng-template>\n                      </div>\n                    </div>\n                  </ng-container>\n                </div>\n              </div>\n            </ng-container>\n          </ng-container>\n        </div>\n      </div>\n      <div class="mbsc-schedule-fake-scroll-y"></div>\n    </div>\n    <div [class]="\'mbsc-schedule-all-day-cont\' + (state.showShadow ? \' mbsc-schedule-all-day-wrapper-shadow\' : \'\') + _theme">\n      <div *ngIf="timezones" class="mbsc-flex mbsc-schedule-timezone-labels" [ngStyle]="_timeWidth!">\n        <div *ngFor="let tz of _timezones; trackBy: _getKey" [class]="\'mbsc-flex-1-0-0 mbsc-schedule-timezone-label\' + _theme + _rtl">\n          {{ tz.label }}\n        </div>\n      </div>\n      <div *ngIf="showAllDay" [class]="\'mbsc-schedule-all-day-wrapper mbsc-flex-none\' + _theme + _hb">\n        <div [class]="\'mbsc-flex mbsc-schedule-all-day\' + _theme">\n          <div [class]="\'mbsc-schedule-time-col\' + _theme + _rtl" [ngStyle]="_timeWidth!">\n            <div *ngIf="!timezones" [class]="\'mbsc-schedule-all-day-text\' + _theme + _rtl">{{ allDayText }}</div>\n          </div>\n          <div class="mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-all-day-group-wrapper">\n            <div #allDayCont class="mbsc-flex mbsc-flex-1-1">\n              <ng-container *ngIf="_groupByResource">\n                <div\n                  *ngFor="let r of _resources; trackBy: _getId"\n                  [class]="\'mbsc-flex mbsc-flex-1-0-0 mbsc-schedule-resource-group \' + (r.cssClass || \'\') + _theme + _rtl"\n                >\n                  <ng-container\n                    *ngFor="let dayData of _days; trackBy: _getDayKey"\n                    [ngTemplateOutlet]="tplAllDay"\n                    [ngTemplateOutletContext]="{\n                      dateKey: dayData.dateKey,\n                      dayName: dayData.dayName,\n                      resource: r,\n                      timestamp: dayData.timestamp\n                    }"\n                  >\n                  </ng-container>\n                </div>\n              </ng-container>\n              <ng-container *ngIf="!_groupByResource">\n                <div\n                  *ngFor="let dayData of _days; trackBy: _getDayKey"\n                  [class]="\'mbsc-flex mbsc-flex-1-0-0 mbsc-schedule-resource-group mbsc-schedule-column-\' + dayData.dayName + _theme + _rtl"\n                >\n                  <ng-container\n                    *ngFor="let r of _resources; trackBy: _getId"\n                    [ngTemplateOutlet]="tplAllDay"\n                    [ngTemplateOutletContext]="{\n                      dateKey: dayData.dateKey,\n                      dayName: dayData.dayName,\n                      resource: r,\n                      timestamp: dayData.timestamp\n                    }"\n                  >\n                  </ng-container>\n                </div>\n              </ng-container>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div [class]="\'mbsc-flex mbsc-flex-1-1 mbsc-schedule-grid-wrapper\' + _theme">\n      <div [innerHTML]="textParam"></div>\n      <div\n        #timeCont\n        aria-hidden="true"\n        [class]="\'mbsc-flex-col mbsc-schedule-time-col mbsc-schedule-time-cont\' + _theme + _rtl"\n        [ngStyle]="_timeWidth!"\n      >\n        <div class="mbsc-flex mbsc-schedule-time-cont-inner">\n          <div class="mbsc-flex-col mbsc-flex-1-1">\n            <div\n              [class]="\n                \'mbsc-flex-1-1 mbsc-schedule-time-cont-pos\' +\n                _theme +\n                (timezones ? \' mbsc-flex \' : \' mbsc-flex-col mbsc-schedule-time-col-last\')\n              "\n            >\n              <div\n                *ngFor="let tz of _timezones; let last = last; trackBy: _getKey; let i = index"\n                [class]="\'mbsc-flex-col\' + _theme + (last ? \' mbsc-schedule-time-col-last\' : \'\')"\n              >\n                <ng-container *ngIf="timezones" [ngTemplateOutlet]="tplTimes" [ngTemplateOutletContext]="{ index: i }"></ng-container>\n              </div>\n              <ng-container *ngIf="!timezones" [ngTemplateOutlet]="tplTimes" [ngTemplateOutletContext]="{ index: 0 }"></ng-container>\n              <mbsc-time-indicator\n                *ngIf="_showTimeIndicator"\n                [amText]="s.amText"\n                [displayedTime]="_time"\n                [displayedDays]="_daysNr"\n                [displayTimezone]="displayTimezone"\n                [endDay]="endDay"\n                [firstDay]="_firstDayTz"\n                orientation="x"\n                [pmText]="s.pmText"\n                [rtl]="rtl"\n                [showDayIndicator]="_isSingleResource && !_isMulti && type === \'week\'"\n                [startDay]="startDay"\n                [startTime]="_startTime"\n                [theme]="theme"\n                [timeFormat]="timeFormat"\n                [timezones]="_timezones"\n                [timezonePlugin]="timezonePlugin"\n              >\n              </mbsc-time-indicator>\n              <div\n                *ngIf="_showCursorTime"\n                #cursorTimeCont\n                [class]="\'mbsc-schedule-cursor-time mbsc-schedule-cursor-time-x\' + _theme + _rtl"\n              ></div>\n            </div>\n            <div *ngIf="state.hasScrollX" class="mbsc-schedule-fake-scroll-x"></div>\n          </div>\n          <div class="mbsc-schedule-fake-scroll-y"></div>\n        </div>\n      </div>\n      <div #scrollCont [class]="\'mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-grid-scroll\' + _theme" (scroll)="_onScroll()">\n        \x3c!-- The extra flex div is needed for the div width to expand correctly --\x3e\n        <div class="mbsc-flex mbsc-flex-1-1">\n          <div\n            #gridCont\n            class="mbsc-flex mbsc-flex-1-0 mbsc-schedule-grid"\n            (mouseleave)="_onMouseLeave($event)"\n            (mousemove)="_onMouseMove($event)"\n          >\n            <ng-container *ngIf="_groupByResource">\n              <div\n                *ngFor="let r of _resources; trackBy: _getId"\n                [class]="\'mbsc-flex mbsc-flex-1-0-0 mbsc-schedule-resource-group \' + (r.cssClass || \'\') + _theme + _rtl"\n              >\n                <ng-container *ngFor="let dayData of _days; trackBy: _getDayKey">\n                  <ng-container\n                    [ngTemplateOutlet]="tplDay"\n                    [ngTemplateOutletContext]="{\n                      dateKey: dayData.dateKey,\n                      dayName: dayData.dayName,\n                      resource: r,\n                      timestamp: dayData.timestamp\n                    }"\n                  >\n                  </ng-container>\n                </ng-container>\n              </div>\n            </ng-container>\n            <ng-container *ngIf="!_groupByResource">\n              <div\n                *ngFor="let dayData of _days; trackBy: _getDayKey"\n                [class]="\'mbsc-flex mbsc-flex-1-0-0 mbsc-schedule-resource-group mbsc-schedule-column-\' + dayData.dayName + _theme + _rtl"\n              >\n                <ng-container *ngFor="let r of _resources; trackBy: _getId">\n                  <ng-container\n                    [ngTemplateOutlet]="tplDay"\n                    [ngTemplateOutletContext]="{\n                      dateKey: dayData.dateKey,\n                      dayName: dayData.dayName,\n                      resource: r,\n                      timestamp: dayData.timestamp\n                    }"\n                  >\n                  </ng-container>\n                </ng-container>\n              </div>\n            </ng-container>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div *ngIf="state.dragData && !state.isTouchDrag" class="mbsc-calendar-dragging"></div>\n  '}]}],propDecorators:{vScrollCont:[{type:ViewChild,args:["scrollCont",{static:true,read:ElementRef}]}],vGridCont:[{type:ViewChild,args:["gridCont",{static:true,read:ElementRef}]}],vHeaderCont:[{type:ViewChild,args:["headerCont",{static:false,read:ElementRef}]}],vAllDayCont:[{type:ViewChild,args:["allDayCont",{static:false,read:ElementRef}]}],vTimeCont:[{type:ViewChild,args:["timeCont",{static:true,read:ElementRef}]}],allDayText:[{type:Input}],amText:[{type:Input}],bufferAfterTemplate:[{type:Input}],bufferBeforeTemplate:[{type:Input}],checkSize:[{type:Input}],clickToCreate:[{type:Input}],colorsMap:[{type:Input}],currentTimeIndicator:[{type:Input}],dataTimezone:[{type:Input}],dateFormat:[{type:Input}],dateFormatFull:[{type:Input}],dateFormatLong:[{type:Input}],dayNames:[{type:Input}],dayNamesMin:[{type:Input}],dayNamesShort:[{type:Input}],dayTemplate:[{type:Input}],dayContentTemplate:[{type:Input}],events:[{type:Input}],displayTimezone:[{type:Input}],dragBetweenResources:[{type:Input}],dragInTime:[{type:Input}],dragTimeStep:[{type:Input}],dragToCreate:[{type:Input}],dragToMove:[{type:Input}],dragToResize:[{type:Input}],endDay:[{type:Input}],endTime:[{type:Input}],eventDragEnd:[{type:Input}],eventMap:[{type:Input}],eventContentTemplate:[{type:Input}],eventOrder:[{type:Input}],eventOverlap:[{type:Input}],eventTemplate:[{type:Input}],exclusiveEndDates:[{type:Input}],extendDefaultEvent:[{type:Input}],externalDrag:[{type:Input}],externalDrop:[{type:Input}],firstDay:[{type:Input}],fromText:[{type:Input}],getDay:[{type:Input}],getDate:[{type:Input}],getMaxDayOfMonth:[{type:Input}],getMonth:[{type:Input}],getWeekNumber:[{type:Input}],getYear:[{type:Input}],groupBy:[{type:Input}],height:[{type:Input}],immutableData:[{type:Input}],invalidateEvent:[{type:Input}],invalidsMap:[{type:Input}],maxDate:[{type:Input}],navigateToEvent:[{type:Input}],maxEventStack:[{type:Input}],minDate:[{type:Input}],minEventWidth:[{type:Input}],monthNames:[{type:Input}],monthNamesShort:[{type:Input}],moreEventsPluralText:[{type:Input}],moreEventsText:[{type:Input}],navService:[{type:Input}],newEventText:[{type:Input}],pmText:[{type:Input}],refDate:[{type:Input}],resources:[{type:Input}],resourceTemplate:[{type:Input}],scroll:[{type:Input}],selected:[{type:Input}],selectedEventsMap:[{type:Input}],showAllDay:[{type:Input}],showDays:[{type:Input}],showEventBuffer:[{type:Input}],showEventTooltip:[{type:Input}],size:[{type:Input}],startDay:[{type:Input}],startTime:[{type:Input}],timeCellStep:[{type:Input}],timeFormat:[{type:Input}],timeLabelStep:[{type:Input}],timezonePlugin:[{type:Input}],timezones:[{type:Input}],toText:[{type:Input}],type:[{type:Input}],width:[{type:Input}],onCellClick:[{type:Input}],onCellDoubleClick:[{type:Input}],onCellRightClick:[{type:Input}],onEventClick:[{type:Input}],onEventDoubleClick:[{type:Input}],onEventRightClick:[{type:Input}],onEventHoverIn:[{type:Input}],onEventHoverOut:[{type:Input}],onEventDelete:[{type:Input}],onEventDragEnd:[{type:Input}],onEventDragStart:[{type:Input}],onEventDragEnter:[{type:Input}],onEventDragLeave:[{type:Input}],onMoreClick:[{type:Input}],onPopoverClose:[{type:Input}],onResourceClick:[{type:Input}],onResourceDoubleClick:[{type:Input}],onResourceRightClick:[{type:Input}],onWeekDayClick:[{type:Input}],vCursorTimeCont:[{type:ViewChild,args:["cursorTimeCont",{static:false,read:ElementRef}]}]}});var MbscTimeline=/*#__PURE__*/function(_super){__extends(MbscTimeline,_super);function MbscTimeline(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._computeResize=computeEventResize;_this._defId=DEF_ID;_this._oneDay=ONE_DAY;return _this}Object.defineProperty(MbscTimeline.prototype,"vDraggedResourceEl",{set:function(el){this._draggedResourceEl=el&&el.nativeElement},enumerable:false,configurable:true});Object.defineProperty(MbscTimeline.prototype,"vDraggedResvDraggedResourceLineElourceEl",{set:function(el){this._draggedResourceLineEl=el&&el.nativeElement},enumerable:false,configurable:true});Object.defineProperty(MbscTimeline.prototype,"vCursorTimeCont",{set:function(el){this._cursorTimeCont=el&&el.nativeElement},enumerable:false,configurable:true});MbscTimeline.prototype._getDayKey=function(index,day){return day.timestamp};MbscTimeline.prototype._getTimeKey=function(index,v){return v.t};MbscTimeline.prototype._getEventKey=function(index,data){return data.uid};MbscTimeline.prototype._getDragKey=function(resourceId,slotId,dateKey){return resourceId+"__"+slotId+"__"+dateKey};MbscTimeline.prototype._getId=function(index,data){return data.id};MbscTimeline.prototype._getOriginDate=function(dragData){return new Date(dragData.originDate)};MbscTimeline.prototype._getRowKey=function(index,rowGroup){return rowGroup.day?rowGroup.day.dateKey:DEF_ID};MbscTimeline.prototype._getDate=function(timestamp){return new Date(timestamp)};MbscTimeline.prototype._render=function(s,state){this._hasFooter=!!(this.hourFooterTemplate||this.dayFooterTemplate||this.weekFooterTemplate||this.monthFooterTemplate||this.quarterFooterTemplate||this.yearFooterTemplate);this._createEventMaps=!!(this._hasFooter||this.hourTemplate||this.dayTemplate||this.weekTemplate||this.monthTemplate||this.quarterTemplate||this.yearTemplate);_super.prototype._render.call(this,s,state)};MbscTimeline.prototype._mounted=function(){this._footerCont=this.vFooterCont&&this.vFooterCont.nativeElement;this._headerCont=this.vHeaderCont&&this.vHeaderCont.nativeElement;this._scrollCont=this.vScrollCont&&this.vScrollCont.nativeElement;this._gridCont=this.vGridCont&&this.vGridCont.nativeElement;this._resCont=this.vResCont&&this.vResCont.nativeElement;this._sidebarCont=this.vSidebarCont&&this.vSidebarCont.nativeElement;this._stickyDate=this.vStickyDate&&this.vStickyDate.nativeElement;this._stickyFooter=this.vStickyFooter&&this.vStickyFooter.nativeElement;this._stickyHeader=this.vStickyHeader&&this.vStickyHeader.nativeElement;this._stickyMonth=this.vStickyMonth&&this.vStickyMonth.nativeElement;this._stickyWeek=this.vStickyWeek&&this.vStickyWeek.nativeElement;_super.prototype._mounted.call(this)};MbscTimeline.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTimeline,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscTimeline.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscTimeline,selector:"mbsc-timeline",inputs:{allDayText:"allDayText",amText:"amText",bufferAfterTemplate:"bufferAfterTemplate",bufferBeforeTemplate:"bufferBeforeTemplate",checkSize:"checkSize",clickToCreate:"clickToCreate",colorsMap:"colorsMap",connections:"connections",currentTimeIndicator:"currentTimeIndicator",columnWidth:"columnWidth",dateFormat:"dateFormat",dateFormatFull:"dateFormatFull",dateFormatLong:"dateFormatLong",dataTimezone:"dataTimezone",dayNames:"dayNames",dayNamesMin:"dayNamesMin",dayNamesShort:"dayNamesShort",dayFooterTemplate:"dayFooterTemplate",dayTemplate:"dayTemplate",dragIcon:"dragIcon",monthTemplate:"monthTemplate",monthFooterTemplate:"monthFooterTemplate",weekTemplate:"weekTemplate",weekFooterTemplate:"weekFooterTemplate",yearTemplate:"yearTemplate",yearFooterTemplate:"yearFooterTemplate",hourTemplate:"hourTemplate",hourFooterTemplate:"hourFooterTemplate",displayTimezone:"displayTimezone",dragBetweenResources:"dragBetweenResources",dragBetweenSlots:"dragBetweenSlots",dragInTime:"dragInTime",dragTimeStep:"dragTimeStep",dragToCreate:"dragToCreate",dragToMove:"dragToMove",dragToResize:"dragToResize",endDay:"endDay",endTime:"endTime",eventDragEnd:"eventDragEnd",eventMap:"eventMap",eventContentTemplate:"eventContentTemplate",eventOrder:"eventOrder",eventOverlap:"eventOverlap",eventTemplate:"eventTemplate",exclusiveEndDates:"exclusiveEndDates",extendDefaultEvent:"extendDefaultEvent",externalDrag:"externalDrag",externalDrop:"externalDrop",externalResourceDrag:"externalResourceDrag",externalResourceDrop:"externalResourceDrop",eventHeight:"eventHeight",eventList:"eventList",firstDay:"firstDay",fromText:"fromText",getDay:"getDay",getDate:"getDate",getMaxDayOfMonth:"getMaxDayOfMonth",getMonth:"getMonth",getWeekNumber:"getWeekNumber",getYear:"getYear",groupBy:"groupBy",height:"height",immutableData:"immutableData",invalidateEvent:"invalidateEvent",invalidsMap:"invalidsMap",maxDate:"maxDate",maxEventStack:"maxEventStack",minDate:"minDate",moreEventsPluralText:"moreEventsPluralText",moreEventsText:"moreEventsText",navigateToEvent:"navigateToEvent",monthNames:"monthNames",monthNamesShort:"monthNamesShort",navService:"navService",newEventText:"newEventText",nextIcon:"nextIcon",nextIconRtl:"nextIconRtl",downIcon:"downIcon",pmText:"pmText",refDate:"refDate",resolution:"resolution",resolutionVertical:"resolutionVertical",resources:"resources",resourceFooterTemplate:"resourceFooterTemplate",resourceHeaderTemplate:"resourceHeaderTemplate",resourceReorder:"resourceReorder",resourceTemplate:"resourceTemplate",resourceEmptyTemplate:"resourceEmptyTemplate",rowHeight:"rowHeight",scroll:"scroll",selected:"selected",selectedEventsMap:"selectedEventsMap",showAllDay:"showAllDay",showDays:"showDays",showEventBuffer:"showEventBuffer",showEventTooltip:"showEventTooltip",sidebarFooterTemplate:"sidebarFooterTemplate",sidebarHeaderTemplate:"sidebarHeaderTemplate",sidebarTemplate:"sidebarTemplate",size:"size",slots:"slots",slotTemplate:"slotTemplate",startDay:"startDay",startTime:"startTime",quarterTemplate:"quarterTemplate",quarterFooterTemplate:"quarterFooterTemplate",quarterText:"quarterText",timeCellStep:"timeCellStep",timeFormat:"timeFormat",timeLabelStep:"timeLabelStep",timezonePlugin:"timezonePlugin",toText:"toText",type:"type",virtualScroll:"virtualScroll",weekNumbers:"weekNumbers",weekText:"weekText",width:"width",zoomLevel:"zoomLevel",onActiveChange:"onActiveChange",onCellClick:"onCellClick",onCellDoubleClick:"onCellDoubleClick",onCellRightClick:"onCellRightClick",onEventClick:"onEventClick",onEventDoubleClick:"onEventDoubleClick",onEventDragEnter:"onEventDragEnter",onEventDragLeave:"onEventDragLeave",onEventRightClick:"onEventRightClick",onEventHoverIn:"onEventHoverIn",onEventHoverOut:"onEventHoverOut",onEventDelete:"onEventDelete",onEventDragEnd:"onEventDragEnd",onEventDragStart:"onEventDragStart",onMoreClick:"onMoreClick",onPopoverClose:"onPopoverClose",onResourceClick:"onResourceClick",onResourceDoubleClick:"onResourceDoubleClick",onResourceCollapse:"onResourceCollapse",onResourceCreate:"onResourceCreate",onResourceCreated:"onResourceCreated",onResourceDelete:"onResourceDelete",onResourceDeleted:"onResourceDeleted",onResourceDragEnd:"onResourceDragEnd",onResourceDragEnter:"onResourceDragEnter",onResourceDragLeave:"onResourceDragLeave",onResourceDragStart:"onResourceDragStart",onResourceExpand:"onResourceExpand",onResourceOrderUpdate:"onResourceOrderUpdate",onResourceRightClick:"onResourceRightClick",onWeekDayClick:"onWeekDayClick",onVirtualLoading:"onVirtualLoading"},host:{properties:{class:'"mbsc-timeline mbsc-flex-1-1 mbsc-flex-col" +\n      (state.cellWidth ? "" : " mbsc-hidden") +\n      (_variableEventHeight ? " mbsc-timeline-events-variable" : "") +\n      (_hasSticky ? " mbsc-has-sticky" : "") +\n      (_hasResources ? "" : " mbsc-timeline-no-resource") + _theme + _rtl'}},viewQueries:[{propertyName:"vScrollCont",first:true,predicate:["scrollCont"],descendants:true,read:ElementRef,static:true},{propertyName:"vGridCont",first:true,predicate:["gridCont"],descendants:true,read:ElementRef,static:true},{propertyName:"vFooterCont",first:true,predicate:["footerCont"],descendants:true,read:ElementRef},{propertyName:"vHeaderCont",first:true,predicate:["headerCont"],descendants:true,read:ElementRef,static:true},{propertyName:"vResCont",first:true,predicate:["resCont"],descendants:true,read:ElementRef},{propertyName:"vSidebarCont",first:true,predicate:["sidebarCont"],descendants:true,read:ElementRef},{propertyName:"vStickyFooter",first:true,predicate:["stickyFooter"],descendants:true,read:ElementRef},{propertyName:"vStickyHeader",first:true,predicate:["stickyHeader"],descendants:true,read:ElementRef},{propertyName:"vStickyDate",first:true,predicate:["stickyDate"],descendants:true,read:ElementRef},{propertyName:"vStickyMonth",first:true,predicate:["stickyMonth"],descendants:true,read:ElementRef},{propertyName:"vStickyWeek",first:true,predicate:["stickyWeek"],descendants:true,read:ElementRef},{propertyName:"vDraggedResourceEl",first:true,predicate:["draggedResourceEl"],descendants:true,read:ElementRef},{propertyName:"vDraggedResvDraggedResourceLineElourceEl",first:true,predicate:["draggedResourceLineEl"],descendants:true,read:ElementRef},{propertyName:"vCursorTimeCont",first:true,predicate:["cursorTimeCont"],descendants:true,read:ElementRef}],usesInheritance:true,ngImport:i0,template:'\n    <ng-template #tplResource let-res="res" let-key="key" let-day="day" let-isDrag="isDrag">\n      <div\n        *ngIf="key !== _dragRow"\n        [class]="\n          \'mbsc-timeline-resource mbsc-timeline-row mbsc-flex-1-0\' +\n          (res.isParent ? \' mbsc-timeline-parent\' : \'\') +\n          (res.isParent || (resourceReorder && res.reorder !== false && res.id !== _defId) ? \' mbsc-flex\' : \'\') +\n          (state.dragData && res.id === state.dragData.hoverResource ? \' mbsc-timeline-parent-hover\' : \'\') +\n          (res.fixed && !_hasResY ? \' mbsc-timeline-row-fixed\' : \'\') +\n          (key === _dragRow && !isDrag ? \' mbsc-timeline-hidden\' : \'\') +\n          (res.cssClass ? \' \' + res.cssClass : \'\') +\n          _theme +\n          _rtl +\n          _hb\n        "\n        [style.background]="res.background"\n        [style.minHeight]="_rowHeights[key]"\n        [style.paddingLeft.em]="rtl ? undefined : _hasHierarchy ? res.depth! * 1.75 : undefined"\n        [style.paddingRight.em]="rtl ? (_hasHierarchy ? res.depth! * 1.75 : undefined) : undefined"\n        [style.top]="res.fixed && !_hasResY ? _fixedResourceTops[key] + \'px\' : undefined"\n        (click)="_onResourceClick(\'onResourceClick\', $event, res, day)"\n        (dblclick)="_onResourceClick(\'onResourceDoubleClick\', $event, res, day)"\n        (contextmenu)="_onResourceClick(\'onResourceRightClick\', $event, res, day)"\n      >\n        <mbsc-icon\n          *ngIf="resourceReorder && res.reorder !== false && res.id !== _defId"\n          [class]="\'mbsc-timeline-resource-icon mbsc-timeline-resource-sort \' + _rtl + _hb"\n          [svg]="s.dragIcon"\n          [theme]="theme"\n        >\n        </mbsc-icon>\n\n        <mbsc-icon\n          *ngIf="res.isParent"\n          [class]="\'mbsc-timeline-resource-icon\' + _rtl + _hb"\n          [svg]="res.collapsed ? (rtl ? nextIconRtl : nextIcon) : downIcon"\n          [theme]="theme"\n          (click)="_toggleResource(res, $event)"\n        >\n        </mbsc-icon>\n        <div\n          [class]="\n            \'mbsc-timeline-resource-title\' +\n            (res.isParent || (resourceReorder && res.reorder !== false && res.id !== _defId) ? \' mbsc-flex-1-1\' : \'\')\n          "\n        >\n          <ng-template #default>{{ res.name }}</ng-template>\n          <ng-template\n            *ngIf="res.id !== _defId"\n            [ngTemplateOutlet]="resourceTemplate || default"\n            [ngTemplateOutletContext]="{ $implicit: res, day: day }"\n          >\n          </ng-template>\n          <ng-template\n            *ngIf="res.id === _defId"\n            [ngTemplateOutlet]="resourceEmptyTemplate || default"\n            [ngTemplateOutletContext]="{ $implicit: res }"\n          >\n          </ng-template>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template #tplSidebar let-res="res" let-key="key">\n      <div\n        *ngIf="key !== _dragRow"\n        [class]="\n          \'mbsc-timeline-sidebar-resource mbsc-timeline-row mbsc-flex-1-0\' +\n          (res.isParent ? \' mbsc-timeline-parent mbsc-flex\' : \'\') +\n          (state.dragData && res.id === state.dragData.hoverResource ? \' mbsc-timeline-parent-hover\' : \'\') +\n          (res.fixed && !_hasResY ? \' mbsc-timeline-row-fixed\' : \'\') +\n          (res.cssClass ? \' \' + res.cssClass : \'\') +\n          _theme +\n          _rtl +\n          _hb\n        "\n        [style.background]="res.background"\n        [style.minHeight]="_rowHeights[key]"\n        [style.top]="res.fixed && !_hasResY ? _fixedResourceTops[key] + \'px\' : undefined"\n      >\n        <div class="mbsc-timeline-sidebar-resource-title">\n          <ng-template *ngIf="res.id !== _defId" [ngTemplateOutlet]="sidebarTemplate!" [ngTemplateOutletContext]="{ $implicit: res }">\n          </ng-template>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template #tplRow let-res="res" let-dateKey="dateKey" let-day="day">\n      <div\n        [class]="\n          \'mbsc-timeline-row mbsc-timeline-row-outer mbsc-flex mbsc-flex-1-0\' +\n          (res.isParent ? \' mbsc-timeline-parent\' : \'\') +\n          (state.dragData && res.id === state.dragData.hoverResource ? \' mbsc-timeline-parent-hover\' : \'\') +\n          (res.fixed && !_hasResY ? \' mbsc-timeline-row-fixed\' : \'\') +\n          (res.cssClass ? \' \' + res.cssClass : \'\') +\n          ((dateKey ? dateKey + \'-\' : \'\') + res.id === _dragRow ? \' mbsc-timeline-hidden\' : \'\') +\n          _theme +\n          _hb\n        "\n        [style.background]="res.background"\n        [style.minHeight]="_rowHeights[(dateKey ? dateKey + \'-\' : \'\') + res.id]"\n        [style.top]="res.fixed && !_hasResY ? _fixedResourceTops[(dateKey ? dateKey + \'-\' : \'\') + res.id] + \'px\' : undefined"\n      >\n        <ng-container\n          *ngIf="!_hasSlots"\n          [ngTemplateOutlet]="tplDayData"\n          [ngTemplateOutletContext]="{\n            colors: _viewColors[(dateKey ? dateKey + \'-\' : \'\') + res.id],\n            events: _viewEvents[(dateKey ? dateKey + \'-\' : \'\') + res.id],\n            invalids: _viewInvalids[(dateKey ? dateKey + \'-\' : \'\') + res.id],\n            dragData: state.dragData,\n            dragKey: _getDragKey(res.id, _defId, dateKey || \'all\'),\n            resource: res,\n            slot: _slots[0],\n            tracks: _events[res.id][_defId][dateKey || \'all\'] ? _events[res.id][_defId][dateKey || \'all\'].tracks : []\n          }"\n        >\n        </ng-container>\n\n        <div [class]="\'mbsc-timeline-row mbsc-timeline-row-size\' + (res.cssClass ? \' \' + res.cssClass : \'\')"></div>\n        <div [style.width.px]="_phXStart" class="mbsc-flex-none"></div>\n        <div class="mbsc-flex mbsc-flex-1-0">\n          <ng-container *ngFor="let dayData of _virtualDays; trackBy: _getDayKey">\n            <div\n              *ngIf="_isDailyResolution"\n              [class]="\n                \'mbsc-timeline-day mbsc-flex mbsc-flex-1-0-0\' +\n                _dayClass +\n                _theme +\n                _rtl +\n                _hb +\n                (dayData.dateKey === _dragCol ? \' mbsc-timeline-hidden\' : \'\') +\n                (dayData.dateIndex < _daysNr - 1 && (_stepCell < _oneDay || dayData.lastOfMonth) ? \' mbsc-timeline-day-border\' : \'\')\n              "\n            >\n              <div\n                *ngFor="let slot of _slots; trackBy: _getId"\n                [class]="\'mbsc-flex mbsc-flex-1-1\' + (_hasSlots ? \' mbsc-timeline-slot\' : \'\')"\n              >\n                <ng-container\n                  *ngIf="_hasSlots"\n                  [ngTemplateOutlet]="tplDayData"\n                  [ngTemplateOutletContext]="{\n                    colors: (_colors[res.id][slot.id][dateKey || dayData.dateKey] && [\n                      _colors[res.id][slot.id][dateKey || dayData.dateKey].data\n                    ]) || [[]],\n                    events: (_events[res.id][slot.id][dateKey || dayData.dateKey] && [\n                      _events[res.id][slot.id][dateKey || dayData.dateKey].data\n                    ]) || [[]],\n                    invalids: (_invalids[res.id][slot.id][dateKey || dayData.dateKey] && [\n                      _invalids[res.id][slot.id][dateKey || dayData.dateKey].data\n                    ]) || [[]],\n                    dragData: state.dragData,\n                    dragKey: _getDragKey(res.id, slot.id, dayData.dateKey),\n                    resource: res,\n                    slot: slot,\n                    tracks: []\n                  }"\n                >\n                </ng-container>\n                <div *ngIf="dayData.phStart !== 0" [style.width.px]="dayData.phStart" class="mbsc-flex-none"></div>\n                <div\n                  *ngFor="let v of dayData.times; trackBy: _getTimeKey"\n                  [class]="\n                    \'mbsc-timeline-column mbsc-flex-1-1\' +\n                    _colWidthClass +\n                    _theme +\n                    _rtl +\n                    _hb +\n                    (v.hidden ? \' mbsc-timeline-hidden\' : \'\') +\n                    ((v.first && !v.last && _startCellStyle) || (v.last && !v.first && _endCellStyle) ? \' mbsc-flex-none\' : \'\')\n                  "\n                  (click)="_onCellClick(\'onCellClick\', (day || dayData).timestamp, v.t, $event, res.id, slot.id)"\n                  (dblclick)="_onCellClick(\'onCellDoubleClick\', (day || dayData).timestamp, v.t, $event, res.id, slot.id)"\n                  (contextmenu)="_onCellClick(\'onCellRightClick\', (day || dayData).timestamp, v.t, $event, res.id, slot.id)"\n                  [ngStyle]="v.first && !v.last ? _startCellStyle! : v.last && !v.first ? _endCellStyle! : {}"\n                ></div>\n                <div *ngIf="dayData.phEnd !== 0" [style.width.px]="dayData.phEnd" class="mbsc-flex-none"></div>\n              </div>\n            </div>\n            <div\n              *ngIf="!_isDailyResolution"\n              [class]="\n                \'mbsc-timeline-day mbsc-timeline-column mbsc-flex-1-0-0\' +\n                _colWidthClass +\n                _theme +\n                _rtl +\n                _hb +\n                (dayData.dateKey === _dragCol ? \' mbsc-timeline-hidden\' : \'\')\n              "\n              (click)="onCellClick({ date: dayData.date, domEvent: $event, resource: res.id, source: \'timeline\' })"\n              (dblclick)="onCellDoubleClick({ date: dayData.date, domEvent: $event, resource: res.id, source: \'timeline\' })"\n              (contextmenu)="onCellRightClick({ date: dayData.date, domEvent: $event, resource: res.id, source: \'timeline\' })"\n            ></div>\n          </ng-container>\n        </div>\n        <div [style.width.px]="_phXEnd" class="mbsc-flex-none"></div>\n      </div>\n    </ng-template>\n\n    <ng-template #tplHour let-hour="hour" let-timestamp="timestamp">\n      <div aria-hidden="true" [class]="\'mbsc-timeline-header-time mbsc-flex-1-1\' + _theme">\n        <ng-template #defaultHour>{{ _timeLabels[0][timestamp] }}</ng-template>\n        <ng-template\n          *ngIf="_timeLabels[0][timestamp]"\n          [ngTemplateOutlet]="hourTemplate || defaultHour"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: _getDate(+hour.date + timestamp),\n              events: hour.eventMap[+hour.date + timestamp] || [],\n              isActive: hour.isActive\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplHourFooter let-hour="hour" let-timestamp="timestamp">\n      <div aria-hidden="true" [class]="\'mbsc-timeline-footer-time mbsc-flex-1-1 \' + _theme">\n        <ng-template\n          *ngIf="_timeLabels[0][timestamp]"\n          [ngTemplateOutlet]="hourFooterTemplate!"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: _getDate(+hour.date + timestamp),\n              events: hour.eventMap[+hour.date + timestamp] || [],\n              isActive: hour.isActive\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplDay let-day="day">\n      <div\n        aria-hidden="true"\n        [class]="\n          (dayTemplate ? \'\' : \'mbsc-timeline-header-date-text\') +\n          (day.isActive && !dayTemplate ? \' mbsc-timeline-header-active\' : \'\') +\n          _theme\n        "\n      >\n        <ng-template #defaultDay>{{ day.dateText }}</ng-template>\n        <ng-template\n          [ngTemplateOutlet]="dayTemplate || defaultDay"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: day.date,\n              events: day.eventMap.all,\n              isActive: day.isActive\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplDayFooter let-day="day">\n      <div [class]="\'mbsc-timeline-footer-date-cont\' + _theme">\n        <ng-template\n          [ngTemplateOutlet]="dayFooterTemplate!"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: day.date,\n              events: day.eventMap.all\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplWeek let-week="week">\n      <ng-template #defaultWeek>{{ week.weekText }}</ng-template>\n      <ng-template\n        [ngTemplateOutlet]="weekTemplate || defaultWeek"\n        [ngTemplateOutletContext]="{\n          $implicit: {\n            date: week.date,\n            events: week.eventMap[week.timestamp] || [],\n            isActive: week.isActive,\n            startDate: week.date,\n            endDate: week.endDate,\n            weekNr: week.weekNr\n          }\n        }"\n      ></ng-template>\n    </ng-template>\n\n    <ng-template #tplWeekFooter let-week="week">\n      <div class="mbsc-timeline-footer-week-cont">\n        <ng-template\n          [ngTemplateOutlet]="weekFooterTemplate!"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: week.date,\n              events: week.eventMap[week.timestamp] || [],\n              isActive: week.isActive,\n              startDate: week.date,\n              endDate: week.endDate,\n              weekNr: week.weekNr\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplMonth let-month="month">\n      <ng-template #defaultMonth>{{ month.monthText }}</ng-template>\n      <ng-template\n        [ngTemplateOutlet]="monthTemplate || defaultMonth"\n        [ngTemplateOutletContext]="{\n          $implicit: {\n            date: month.date,\n            events: month.eventMap[month.timestamp] || [],\n            isActive: month.isActive\n          }\n        }"\n      ></ng-template>\n    </ng-template>\n\n    <ng-template #tplMonthFooter let-month="month">\n      <div class="mbsc-timeline-footer-month-cont">\n        <ng-template\n          [ngTemplateOutlet]="monthFooterTemplate!"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: month.date,\n              events: month.eventMap[month.timestamp] || []\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplQuarter let-quarter="quarter">\n      <ng-template #defaultQuarter>{{ quarter.quarterText }}</ng-template>\n      <ng-template\n        [ngTemplateOutlet]="quarterTemplate || defaultQuarter"\n        [ngTemplateOutletContext]="{\n          $implicit: {\n            date: quarter.date,\n            events: quarter.eventMap[quarter.timestamp] || [],\n            isActive: quarter.isActive\n          }\n        }"\n      ></ng-template>\n    </ng-template>\n\n    <ng-template #tplQuarterFooter let-quarter="quarter">\n      <div class="mbsc-timeline-footer-quarter-cont">\n        <ng-template\n          [ngTemplateOutlet]="quarterFooterTemplate!"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: quarter.date,\n              events: quarter.eventMap[quarter.timestamp] || [],\n              isActive: quarter.isActive\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplYear let-year="year">\n      <ng-template #defaultYear>{{ year.columnTitle }}</ng-template>\n      <ng-template\n        [ngTemplateOutlet]="yearTemplate || defaultYear"\n        [ngTemplateOutletContext]="{\n          $implicit: {\n            date: year.date,\n            events: year.eventMap[year.timestamp] || [],\n            isActive: year.isActive\n          }\n        }"\n      ></ng-template>\n    </ng-template>\n\n    <ng-template #tplYearFooter let-year="year">\n      <div class="mbsc-timeline-footer-year-cont">\n        <ng-template\n          [ngTemplateOutlet]="yearFooterTemplate!"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: year.date,\n              events: year.eventMap[year.timestamp] || [],\n              isActive: year.isActive\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template\n      #tplDayData\n      let-colors="colors"\n      let-dragData="dragData"\n      let-dragKey="dragKey"\n      let-events="events"\n      let-invalids="invalids"\n      let-resource="resource"\n      let-slot="slot"\n      let-tracks="tracks"\n    >\n      <div class="mbsc-timeline-events">\n        <div\n          *ngFor="let track of events; let i = index; trackBy: _getKey"\n          class="mbsc-timeline-events-track"\n          [style.minHeight]="_variableEventHeight ? (tracks[i] || 0) + \'px\' : undefined"\n        >\n          <ng-container *ngFor="let event of track; trackBy: _getEventKey">\n            <mbsc-schedule-event\n              *ngIf="event.position"\n              [bufferAfterTemplate]="bufferAfterTemplate"\n              [bufferBeforeTemplate]="bufferBeforeTemplate"\n              [contentTemplate]="eventContentTemplate"\n              [displayTimezone]="displayTimezone"\n              [drag]="dragToMove || externalDrag"\n              [endDay]="endDay"\n              [event]="event"\n              [eventHeight]="_setRowHeight && !_variableEventHeight ? _eventHeight : undefined"\n              [exclusiveEndDates]="exclusiveEndDates"\n              [gridEndTime]="_endTime"\n              [gridStartTime]="_startTime"\n              [hasResY]="_hasResY"\n              [inactive]="dragData && dragData.draggedEvent && dragData.draggedEvent.id === event.id"\n              [isTimeline]="true"\n              [isListing]="eventList"\n              [lastDay]="_lastDay"\n              [resize]="_computeResize(event.original!.resize, dragToResize, resource.eventResize)"\n              [resource]="resource.id"\n              [resourceObj]="resource"\n              [rtl]="rtl"\n              [selected]="!!(selectedEventsMap[event.uid!] || selectedEventsMap[event.id!])"\n              [slot]="slot.id"\n              [slotObj]="slot"\n              [startDay]="startDay"\n              [stickyPos]="_hasSticky && !_hasSlots ? (_hasResources ? _resourceWidth : 0) + \'px\' : undefined"\n              [theme]="theme"\n              [template]="eventTemplate"\n              [timezonePlugin]="timezonePlugin"\n              (onClick)="_onEventClick($event)"\n              (onDoubleClick)="onEventDoubleClick($event)"\n              (onRightClick)="onEventRightClick($event)"\n              (onHoverIn)="onEventHoverIn($event)"\n              (onHoverOut)="onEventHoverOut($event)"\n              (onDelete)="onEventDelete($event)"\n              (onDragStart)="_onEventDragStart($event)"\n              (onDragMove)="_onEventDragMove($event)"\n              (onDragEnd)="_onEventDragEnd($event)"\n              (onDragModeOn)="_onEventDragModeOn($event)"\n              (onDragModeOff)="_onEventDragModeOff($event)"\n            >\n            </mbsc-schedule-event>\n          </ng-container>\n          <mbsc-schedule-event\n            *ngIf="dragData && dragData.originDates && dragData.originDates[dragKey] && dragData.originDates[dragKey].track === i"\n            [bufferAfterTemplate]="bufferAfterTemplate"\n            [bufferBeforeTemplate]="bufferBeforeTemplate"\n            [contentTemplate]="eventContentTemplate"\n            [displayTimezone]="displayTimezone"\n            [drag]="dragToMove || externalDrag"\n            [endDay]="endDay"\n            [event]="dragData.originDates[dragKey]"\n            [eventHeight]="_setRowHeight && !_variableEventHeight ? _eventHeight : undefined"\n            [exclusiveEndDates]="exclusiveEndDates"\n            [gridEndTime]="_endTime"\n            [gridStartTime]="_startTime"\n            [hasResY]="_hasResY"\n            [hidden]="!!dragData.draggedDates"\n            [isDrag]="true"\n            [isTimeline]="true"\n            [isListing]="eventList"\n            [lastDay]="_lastDay"\n            [resize]="_computeResize(dragData.originDates[dragKey].original!.resize, dragToResize, resource.eventResize)"\n            [resource]="resource.id"\n            [resourceObj]="resource"\n            [rtl]="rtl"\n            [slot]="slot.id"\n            [slotObj]="slot"\n            [startDay]="startDay"\n            [theme]="theme"\n            [template]="eventTemplate"\n            [timezonePlugin]="timezonePlugin"\n            (onDragStart)="_onEventDragStart($event)"\n            (onDragMove)="_onEventDragMove($event)"\n            (onDragEnd)="_onEventDragEnd($event)"\n            (onDragModeOff)="_onEventDragModeOff($event)"\n          >\n          </mbsc-schedule-event>\n          <mbsc-schedule-event\n            *ngIf="dragData && dragData.draggedDates && dragData.draggedDates[dragKey] && dragData.draggedDates[dragKey].track === i"\n            [bufferAfterTemplate]="bufferAfterTemplate"\n            [bufferBeforeTemplate]="bufferBeforeTemplate"\n            [contentTemplate]="eventContentTemplate"\n            [displayTimezone]="displayTimezone"\n            [drag]="dragToMove || externalDrag"\n            [endDay]="endDay"\n            [event]="dragData.draggedDates[dragKey]"\n            [eventHeight]="_setRowHeight && !_variableEventHeight ? _eventHeight : undefined"\n            [exclusiveEndDates]="exclusiveEndDates"\n            [gridEndTime]="_endTime"\n            [gridStartTime]="_startTime"\n            [hasResY]="_hasResY"\n            [isDrag]="true"\n            [isTimeline]="true"\n            [isListing]="eventList"\n            [lastDay]="_lastDay"\n            [resize]="_computeResize(dragData.draggedDates[dragKey].original!.resize, dragToResize, resource.eventResize)"\n            [resource]="resource.id"\n            [resourceObj]="resource"\n            [rtl]="rtl"\n            [slot]="slot.id"\n            [slotObj]="slot"\n            [startDay]="startDay"\n            [theme]="theme"\n            [template]="eventTemplate"\n            [timezonePlugin]="timezonePlugin"\n          >\n          </mbsc-schedule-event>\n        </div>\n        <div *ngIf="_setRowHeight && _variableEventHeight" [class]="\'mbsc-timeline-row-gutter\' + _theme"></div>\n      </div>\n      <ng-container *ngFor="let invalid of invalids[0]; trackBy: _getKey">\n        <div\n          *ngIf="invalid.position"\n          [class]="\'mbsc-schedule-invalid mbsc-timeline-invalid\' + invalid.cssClass + _theme"\n          [ngStyle]="invalid.position"\n        >\n          <div class="mbsc-schedule-invalid-text">{{ invalid.title }}</div>\n        </div>\n      </ng-container>\n      <ng-container *ngFor="let color of colors[0]; trackBy: _getKey">\n        <div [class]="\'mbsc-schedule-color mbsc-timeline-color\' + color.cssClass + _theme" [ngStyle]="color.position">\n          <div class="mbsc-schedule-color-text">{{ color.title }}</div>\n        </div>\n      </ng-container>\n    </ng-template>\n\n    <div [innerHTML]="textParam"></div>\n    <div #stickyHeader [class]="\'mbsc-timeline-header-sticky mbsc-flex\' + _theme">\n      <div\n        *ngIf="_hasRows"\n        [class]="\'mbsc-timeline-resource-header-cont \' + _colClass + _theme + _rtl + _hb"\n        [style.height.px]="state.headerHeight"\n        [style.width.px]="_hasResources ? _resourceWidth : undefined"\n      >\n        <div class="mbsc-timeline-resource-header">\n          <ng-template [ngTemplateOutlet]="resourceHeaderTemplate!"></ng-template>\n        </div>\n      </div>\n      <div class="mbsc-flex-1-1">\n        <ng-container *ngIf="_isDailyResolution && !_hasResY">\n          <div *ngIf="_isMulti" [class]="\'mbsc-timeline-header-month mbsc-flex\' + _theme + _rtl + _hb">\n            <div\n              #stickyMonth\n              [class]="\n                \'mbsc-timeline-header-text \' +\n                (monthTemplate ? \'mbsc-timeline-header-month-cont\' : \'mbsc-timeline-header-month-text\') +\n                _theme\n              "\n            >\n              <ng-template #defaultTmpl>{{ _stickyDay.monthText }}</ng-template>\n              <ng-template\n                [ngTemplateOutlet]="monthTemplate || defaultTmpl"\n                [ngTemplateOutletContext]="{\n                  $implicit: {\n                    date: _stickyDay.date,\n                    events: _stickyDay.eventMap[_stickyDay.timestamp] || [],\n                    isActive: _stickyDay.isActive\n                  }\n                }"\n              ></ng-template>\n            </div>\n          </div>\n          <div *ngIf="weekNumbers" [class]="\'mbsc-timeline-header-week mbsc-flex\' + _theme + _rtl + _hb">\n            <div\n              #stickyWeek\n              [class]="\n                \'mbsc-timeline-header-text \' + (weekTemplate ? \'mbsc-timeline-header-week-cont\' : \'mbsc-timeline-header-week-text\') + _theme\n              "\n            >\n              <ng-template #defaultTmpl>{{ _stickyDay.weekText }}</ng-template>\n              <ng-template\n                [ngTemplateOutlet]="weekTemplate || defaultTmpl"\n                [ngTemplateOutletContext]="{\n                  $implicit: {\n                    date: _stickyDay.date,\n                    events: _stickyDay.eventMap[_stickyDay.timestamp] || [],\n                    isActive: _stickyDay.isActive,\n                    startDate: _stickyDay.date,\n                    endDate: _stickyDay.endDate,\n                    weekNr: _stickyDay.weekNr\n                  }\n                }"\n              ></ng-template>\n            </div>\n          </div>\n          <div *ngIf="_hasSlots || _stepCell < _oneDay" [class]="\'mbsc-timeline-header-date mbsc-flex\' + _theme + _rtl + _hb">\n            <div\n              #stickyDate\n              [class]="\n                \'mbsc-timeline-header-text \' +\n                (_stickyDay.isActive && !dayTemplate ? \'mbsc-timeline-header-active \' : \'\') +\n                (dayTemplate ? \'mbsc-timeline-header-date-cont\' : \'mbsc-timeline-header-date-text\') +\n                _theme\n              "\n            >\n              <ng-template #defaultDay>{{ _stickyDay.dateText }}</ng-template>\n              <ng-template\n                [ngTemplateOutlet]="dayTemplate || defaultDay"\n                [ngTemplateOutletContext]="{\n                  $implicit: {\n                    date: _stickyDay.date,\n                    events: _stickyDay.eventMap.all,\n                    isActive: _stickyDay.isActive\n                  }\n                }"\n              ></ng-template>\n            </div>\n          </div>\n        </ng-container>\n      </div>\n      <div\n        *ngIf="_hasRows && !!sidebarTemplate"\n        [class]="\'mbsc-timeline-sidebar-header-cont mbsc-timeline-sidebar-col\' + _theme + _rtl + _hb"\n        [style.height.px]="state.headerHeight"\n      >\n        <div class="mbsc-timeline-sidebar-header">\n          <ng-template [ngTemplateOutlet]="sidebarHeaderTemplate!"></ng-template>\n        </div>\n      </div>\n      <div *ngIf="state.hasScrollY" class="mbsc-schedule-fake-scroll-y"></div>\n    </div>\n\n    <div #stickyFooter *ngIf="_hasFooter" [class]="\'mbsc-timeline-footer-sticky mbsc-flex\' + _theme">\n      <div\n        *ngIf="_hasRows"\n        [class]="\'mbsc-timeline-resource-footer-cont \' + _colClass + _theme + _rtl + _hb"\n        [style.height.px]="state.footerHeight"\n        [style.width.px]="_hasResources ? _resourceWidth : undefined"\n      >\n        <div class="mbsc-timeline-resource-footer">\n          <ng-template [ngTemplateOutlet]="resourceFooterTemplate!"></ng-template>\n        </div>\n      </div>\n      <div *ngIf="_isDailyResolution" class="mbsc-flex-1-1"></div>\n      <div\n        *ngIf="_hasRows && !!sidebarTemplate"\n        [class]="\'mbsc-timeline-sidebar-footer-cont mbsc-timeline-sidebar-col\' + _theme + _rtl + _hb"\n        [style.height.px]="state.footerHeight"\n      >\n        <div class="mbsc-timeline-sidebar-footer">\n          <ng-template [ngTemplateOutlet]="sidebarFooterTemplate!"></ng-template>\n        </div>\n      </div>\n      <div *ngIf="state.hasScrollY" class="mbsc-schedule-fake-scroll-y"></div>\n    </div>\n\n    <div #scrollCont [class]="\'mbsc-timeline-grid-scroll mbsc-flex-col mbsc-flex-1-1\' + _theme + _rtl + _hb" (scroll)="_onScroll()">\n      <div [class]="\'mbsc-flex-none\'" [style.height.px]="_hasSticky ? undefined : state.headerHeight"></div>\n      <div #headerCont [class]="\'mbsc-timeline-header mbsc-flex\' + _theme + _rtl + _hb">\n        <div\n          *ngIf="_hasRows"\n          [class]="\'mbsc-timeline-resource-header-cont \' + _colClass + _theme + _rtl + _hb"\n          [style.width.px]="_hasResources ? _resourceWidth : undefined"\n        ></div>\n        <div\n          [class]="\'mbsc-timeline-header-bg mbsc-flex-1-0 mbsc-flex\' + _theme"\n          [style.width.px]="state.hasScrollX ? this._gridWidth : undefined"\n        >\n          <div class="mbsc-timeline-time-indicator-cont" [style.height.px]="(state.scrollContHeight || 0) - (state.headerHeight || 0)">\n            <mbsc-time-indicator\n              *ngIf="_showTimeIndicator"\n              [amText]="s.amText"\n              [displayedTime]="_time"\n              [displayedDays]="_daysNr"\n              [displayTimezone]="displayTimezone"\n              [endDay]="endDay"\n              [firstDay]="_firstDayTz"\n              [hasResY]="_hasResY"\n              orientation="y"\n              [pmText]="s.pmText"\n              [rtl]="rtl"\n              [startDay]="startDay"\n              [startTime]="_startTime"\n              [theme]="theme"\n              [timeFormat]="timeFormat"\n              [timezonePlugin]="timezonePlugin"\n            >\n            </mbsc-time-indicator>\n            <div *ngIf="_showCursorTime" #cursorTimeCont [class]="\'mbsc-schedule-cursor-time mbsc-schedule-cursor-time-y\' + _theme"></div>\n          </div>\n          <div [style.width.px]="_phXStart" class="mbsc-flex-none"></div>\n          <div class="mbsc-flex-1-1 mbsc-overflow-hidden">\n            <ng-container *ngIf="_isDailyResolution">\n              <div *ngIf="_isMulti && !_hasResY" class="mbsc-flex">\n                <ng-container *ngFor="let d of _virtualDays; trackBy: _getDayKey">\n                  <div\n                    *ngIf="d.dateKey !== _dragCol"\n                    [class]="\n                      \'mbsc-timeline-month mbsc-flex-1-0-0\' +\n                      _colWidthClass +\n                      _theme +\n                      _rtl +\n                      _hb +\n                      (d.dateIndex < _daysNr - 1 && d.lastOfMonth ? \' mbsc-timeline-day mbsc-timeline-day-border\' : \'\')\n                    "\n                  >\n                    <div\n                      [class]="\n                        \'mbsc-timeline-header-month\' +\n                        _theme +\n                        _rtl +\n                        _hb +\n                        (d.dateIndex < _daysNr - 1 && d.lastOfMonth ? \' mbsc-timeline-header-month-last\' : \'\')\n                      "\n                    >\n                      <div\n                        [class]="\n                          (monthTemplate ? \'mbsc-timeline-header-month-cont\' : \'mbsc-timeline-header-month-text\') +\n                          (d.lastOfMonth ? \' mbsc-timeline-header-month-text-last\' : \'\') +\n                          _theme\n                        "\n                      >\n                        <ng-template\n                          *ngIf="d.monthTitle"\n                          [ngTemplateOutlet]="tplMonth"\n                          [ngTemplateOutletContext]="{ month: d }"\n                        ></ng-template>\n                      </div>\n                    </div>\n                  </div>\n                </ng-container>\n              </div>\n              <div *ngIf="s.weekNumbers" class="mbsc-flex">\n                <ng-container *ngFor="let d of _virtualDays; trackBy: _getDayKey">\n                  <div\n                    *ngIf="d.dateKey !== _dragCol"\n                    [class]="\n                      \'mbsc-timeline-month mbsc-flex-1-0-0\' +\n                      _colWidthClass +\n                      _theme +\n                      _rtl +\n                      _hb +\n                      (d.dateIndex < _daysNr - 1 && d.lastOfWeek && (_stepCell < _oneDay || d.lastOfMonth)\n                        ? \' mbsc-timeline-day mbsc-timeline-day-border\'\n                        : \'\')\n                    "\n                  >\n                    <div\n                      [class]="\'mbsc-timeline-header-week\' + _theme + _rtl + _hb + (d.lastOfWeek ? \' mbsc-timeline-header-week-last\' : \'\')"\n                    >\n                      <div\n                        [class]="\n                          (weekTemplate ? \'mbsc-timeline-header-week-cont\' : \'mbsc-timeline-header-week-text\') +\n                          (d.lastOfWeek ? \' mbsc-timeline-header-week-text-last\' : \'\') +\n                          _theme\n                        "\n                      >\n                        <ng-template *ngIf="d.weekTitle" [ngTemplateOutlet]="tplWeek" [ngTemplateOutletContext]="{ week: d }"></ng-template>\n                      </div>\n                    </div>\n                  </div>\n                </ng-container>\n              </div>\n              <div class="mbsc-flex">\n                <ng-container *ngFor="let d of _virtualDays; trackBy: _getDayKey">\n                  <div\n                    *ngIf="d.dateKey !== _dragCol"\n                    [class]="\n                      \'mbsc-timeline-day mbsc-flex-1-0-0\' +\n                      _dayClass +\n                      _theme +\n                      _rtl +\n                      _hb +\n                      (d.dateIndex < _daysNr - 1 && (_stepCell < _oneDay || d.lastOfMonth) ? \' mbsc-timeline-day-border\' : \'\')\n                    "\n                  >\n                    <div *ngIf="!_hasResY" [class]="\'mbsc-timeline-header-date\' + _theme + _rtl + _hb">\n                      <ng-template [ngTemplateOutlet]="tplDay" [ngTemplateOutletContext]="{ day: d }"></ng-template>\n                      <div *ngIf="d.label" class="mbsc-hidden-content">{{ d.label }}</div>\n                    </div>\n                    <div *ngIf="_hasSlots" [class]="\'mbsc-flex mbsc-timeline-slots\' + _theme">\n                      <div\n                        *ngFor="let slot of _slots; trackBy: _getId"\n                        [class]="\'mbsc-timeline-slot mbsc-timeline-slot-header mbsc-flex-1-1\' + _colWidthClass + _rtl + _theme"\n                      >\n                        <div class="mbsc-timeline-slot-title">\n                          <ng-template #defaultSlot>\n                            {{ slot.name }}\n                          </ng-template>\n                          <ng-template\n                            [ngTemplateOutlet]="slotTemplate || defaultSlot"\n                            [ngTemplateOutletContext]="{ $implicit: { slot: slot, date: d.date } }"\n                          >\n                          </ng-template>\n                        </div>\n                      </div>\n                    </div>\n                    <div aria-hidden="true" class="mbsc-flex">\n                      <div *ngIf="d.phStart !== 0" [style.width.px]="d.phStart" class="mbsc-flex-none"></div>\n                      <div\n                        *ngFor="let v of d.times; trackBy: _getTimeKey"\n                        [ngStyle]="v.first && !v.last ? _startCellStyle! : v.last && !v.first ? _endCellStyle! : {}"\n                        [class]="\n                          \'mbsc-flex mbsc-flex-1-1 mbsc-timeline-header-column\' +\n                          _colWidthClass +\n                          _theme +\n                          _rtl +\n                          _hb +\n                          (v.hidden ? \' mbsc-timeline-hidden\' : \'\') +\n                          (!_displayTime || _hasSlots ? \' mbsc-timeline-no-height\' : \'\') +\n                          (_stepLabel > _stepCell && _times[v.i + 1] % _stepLabel ? \' mbsc-timeline-no-border\' : \'\') +\n                          ((v.first && !v.last && _startCellStyle) || (v.last && !v.first && _endCellStyle) ? \' mbsc-flex-none\' : \'\')\n                        "\n                      >\n                        <ng-template\n                          *ngIf="_displayTime"\n                          [ngTemplateOutlet]="tplHour"\n                          [ngTemplateOutletContext]="{ hour: d, timestamp: v.t }"\n                        ></ng-template>\n                        <ng-container *ngFor="let tb of _timesBetween; let j = index; trackBy: _getKey">\n                          <ng-template\n                            *ngIf="v.t + (j + 1) * _stepLabel > _startTime && v.t + (j + 1) * _stepLabel < _endTime"\n                            [ngTemplateOutlet]="tplHour"\n                            [ngTemplateOutletContext]="{ hour: d, timestamp: v.t + (j + 1) * _stepLabel }"\n                          ></ng-template>\n                        </ng-container>\n                      </div>\n                      <div *ngIf="d.phEnd !== 0" [style.width.px]="d.phEnd" class="mbsc-flex-none"></div>\n                    </div>\n                  </div>\n                </ng-container>\n              </div>\n            </ng-container>\n            <div *ngIf="!_isDailyResolution" class="mbsc-flex">\n              <ng-container *ngFor="let d of _virtualDays; trackBy: _getDayKey">\n                <div *ngIf="d.dateKey !== _dragCol" [class]="\'mbsc-timeline-day mbsc-flex-1-0-0\' + _colWidthClass + _theme + _rtl + _hb">\n                  <div [class]="\'mbsc-timeline-header-week mbsc-timeline-header-week-last\' + _theme + _rtl + _hb">\n                    <div\n                      [class]="\n                        \'mbsc-timeline-header-week-text mbsc-timeline-header-week-text-last\' +\n                        (d.isActive && !(weekTemplate || dayTemplate || monthTemplate || quarterTemplate || yearTemplate)\n                          ? \' mbsc-timeline-header-active\'\n                          : \'\') +\n                        _theme\n                      "\n                    >\n                      <ng-container\n                        *ngIf="weekTemplate || monthTemplate || quarterTemplate || yearTemplate; else defaultTitle"\n                        [ngSwitch]="resolution"\n                      >\n                        <div [class]="\'mbsc-timeline-header-\' + resolution + \'-cont\'">\n                          <ng-template\n                            *ngSwitchCase="\'week\'"\n                            [ngTemplateOutlet]="tplWeek"\n                            [ngTemplateOutletContext]="{ week: d }"\n                          ></ng-template>\n                          <ng-template\n                            *ngSwitchCase="\'month\'"\n                            [ngTemplateOutlet]="tplMonth"\n                            [ngTemplateOutletContext]="{ month: d }"\n                          ></ng-template>\n                          <ng-template\n                            *ngSwitchCase="\'quarter\'"\n                            [ngTemplateOutlet]="tplQuarter"\n                            [ngTemplateOutletContext]="{ quarter: d }"\n                          ></ng-template>\n                          <ng-template\n                            *ngSwitchCase="\'year\'"\n                            [ngTemplateOutlet]="tplYear"\n                            [ngTemplateOutletContext]="{ year: d }"\n                          ></ng-template>\n                        </div>\n                      </ng-container>\n                      <ng-template #defaultTitle>{{ d.columnTitle }}</ng-template>\n                    </div>\n                  </div>\n                </div>\n              </ng-container>\n            </div>\n          </div>\n          <div [style.width.px]="_phXEnd" class="mbsc-flex-none"></div>\n        </div>\n        <div\n          *ngIf="_hasRows && !!sidebarTemplate"\n          [class]="\'mbsc-timeline-sidebar-header-cont mbsc-timeline-sidebar-col\' + _theme + _rtl + _hb"\n        ></div>\n      </div>\n\n      <div class="mbsc-flex mbsc-flex-1-1">\n        \x3c!-- The extra flex div is needed for the div height to expand correctly --\x3e\n        <div class="mbsc-flex mbsc-flex-1-1">\n          <div\n            *ngIf="_hasRows"\n            #resCont\n            [class]="\'mbsc-timeline-resources mbsc-flex-col \' + _colClass + _theme + _rtl"\n            [style.width.px]="_hasResources ? _resourceWidth : undefined"\n          >\n            <div [class]="\'mbsc-flex-none\'" [style.height.px]="_hasSideSticky ? undefined : state.headerHeight"></div>\n            <div [class]="\'mbsc-timeline-resource-bg mbsc-flex-1-1\' + (_hasHierarchy || state.hasScrollY ? \'\' : \' mbsc-flex-col\') + _theme">\n              <div [style.height.px]="_phY" class="mbsc-flex-none"></div>\n              <ng-container *ngFor="let rowGroup of _virtualRows; trackBy: _getRowKey">\n                <ng-container *ngIf="!rowGroup.day && !rowGroup.hidden">\n                  <ng-template\n                    *ngFor="let r of rowGroup.rows; trackBy: _getId"\n                    [ngTemplateOutlet]="tplResource"\n                    [ngTemplateOutletContext]="{ res: r, key: r.id }"\n                  >\n                  </ng-template>\n                </ng-container>\n                <ng-container *ngIf="rowGroup.day && !rowGroup.hidden">\n                  <div *ngIf="_hasResources" [class]="\'mbsc-timeline-row-group mbsc-flex mbsc-flex-1-0\' + _theme + _hb">\n                    <div [class]="\'mbsc-timeline-row-date mbsc-timeline-row-date-col mbsc-flex-none\' + _rtl + _theme + _hb">\n                      <ng-template [ngTemplateOutlet]="tplDay" [ngTemplateOutletContext]="{ day: rowGroup.day }"> </ng-template>\n                    </div>\n                    <div class="mbsc-timeline-row-resource-col mbsc-flex-1-1 mbsc-flex-col">\n                      <ng-template\n                        *ngFor="let r of rowGroup.rows; trackBy: _getId"\n                        [ngTemplateOutlet]="tplResource"\n                        [ngTemplateOutletContext]="{ res: r, key: rowGroup.day.dateKey + \'-\' + r.id, day: rowGroup.day.date }"\n                      >\n                      </ng-template>\n                    </div>\n                  </div>\n                  <div\n                    *ngIf="!_hasResources"\n                    [class]="\'mbsc-timeline-row-date mbsc-flex-1-0\' + _rtl + _theme + _hb"\n                    [style.minHeight]="_rowHeights[rowGroup.day.dateKey + \'-\' + _defId]"\n                  >\n                    <ng-template [ngTemplateOutlet]="tplDay" [ngTemplateOutletContext]="{ day: rowGroup.day }"> </ng-template>\n                  </div>\n                </ng-container>\n              </ng-container>\n            </div>\n            <div\n              *ngIf="_hasFooter"\n              class="mbsc-flex-none mbsc-timeline-footer-ph"\n              [style.height.px]="_hasSideSticky ? undefined : state.footerHeight"\n            ></div>\n          </div>\n          <div\n            *ngIf="_hasRows"\n            [class]="_hasSideSticky ? \'\' : _colClass"\n            [style.width.px]="_hasSideSticky || !_hasResources ? undefined : _resourceWidth"\n          ></div>\n          <div class="mbsc-timeline-hidden">\n            <div\n              [class]="\'mbsc-timeline-day mbsc-timeline-empty-day\' + (_isDailyResolution ? \'\' : _colWidthClass) + _dayClass + _theme"\n            ></div>\n            <div\n              [class]="\n                \'mbsc-timeline-column mbsc-timeline-empty-column\' + (_hasSlots ? \' mbsc-timeline-slot\' : \'\') + _colWidthClass + _theme\n              "\n            ></div>\n            <div [class]="\'mbsc-timeline-row mbsc-timeline-empty-row\' + _theme"></div>\n            <div [class]="\'mbsc-timeline-row mbsc-timeline-parent mbsc-timeline-empty-parent\' + _theme"></div>\n            <div [class]="\'mbsc-timeline-row-gutter\' + _theme"></div>\n            <div [class]="\'mbsc-timeline-empty-resource \' + _colClass + _theme"></div>\n            <div [class]="\'mbsc-timeline-resource-depth-step\' + _theme"></div>\n          </div>\n          <div\n            #gridCont\n            [class]="\'mbsc-timeline-grid mbsc-flex-1-0\' + (_hasHierarchy || state.hasScrollY ? \'\' : \' mbsc-flex-col\')"\n            [style.width.px]="state.hasScrollX ? _gridWidth : undefined"\n            [style.height.px]="state.hasScrollY ? _gridHeight : undefined"\n            (mouseleave)="_onMouseLeave($event)"\n            (mousemove)="_onMouseMove($event)"\n          >\n            <ng-container *ngIf="state.dragData && state.dragData.draggedResourceVisible">\n              <div\n                #draggedResourceLineEl\n                [class]="\n                  \'mbsc-timeline-resource-drop\' +\n                  (state.dragData && state.dragData.draggedResourceInvalid ? \' mbsc-timeline-resource-drop-invalid \' : \' \') +\n                  _theme\n                "\n              ></div>\n            </ng-container>\n            <div [style.height.px]="_phY" class="mbsc-flex-none"></div>\n            <ng-container *ngFor="let rowGroup of _virtualRows; trackBy: _getRowKey">\n              <ng-container *ngIf="!rowGroup.day || !_hasResources">\n                <ng-template\n                  *ngFor="let r of rowGroup.rows; trackBy: _getId"\n                  [ngTemplateOutlet]="tplRow"\n                  [ngTemplateOutletContext]="{ res: r, dateKey: rowGroup.day ? rowGroup.day.dateKey : \'\', day: rowGroup.day }"\n                >\n                </ng-template>\n              </ng-container>\n              <ng-container *ngIf="rowGroup.day && _hasResources">\n                <div [class]="\'mbsc-timeline-row-group mbsc-flex-col mbsc-flex-1-0\' + _theme + _hb">\n                  <ng-template\n                    *ngFor="let r of rowGroup.rows; trackBy: _getId"\n                    [ngTemplateOutlet]="tplRow"\n                    [ngTemplateOutletContext]="{ res: r, dateKey: rowGroup.day.dateKey, day: rowGroup.day }"\n                  >\n                  </ng-template>\n                </div>\n              </ng-container>\n            </ng-container>\n            <svg *ngIf="_connections" [attr.class]="\'mbsc-connections\' + _theme" viewBox="0 0 100 100" preserveAspectRatio="none">\n              <ng-container *ngFor="let c of _connections; trackBy: _getId">\n                <path\n                  *ngIf="_virtualStart <= c.endDate && _virtualEnd > c.startDate"\n                  [attr.d]="c.pathD"\n                  [attr.class]="\'mbsc-connection \' + c.cssClass + _theme"\n                  [style.stroke]="c.color"\n                  [style.fill]="c.fill"\n                  vector-effect="non-scaling-stroke"\n                ></path>\n              </ng-container>\n            </svg>\n          </div>\n\n          <div\n            *ngIf="_hasRows && !!sidebarTemplate"\n            #sidebarCont\n            [class]="\'mbsc-timeline-sidebar mbsc-timeline-sidebar-col mbsc-flex-col\' + _theme + _rtl"\n          >\n            <div [class]="\'mbsc-flex-none\'" [style.height.px]="_hasSideSticky ? undefined : state.headerHeight"></div>\n            <div [class]="\'mbsc-timeline-resource-bg mbsc-flex-1-1\' + (_hasHierarchy || state.hasScrollY ? \'\' : \' mbsc-flex-col\') + _theme">\n              <div [style.height.px]="_phY" class="mbsc-flex-none"></div>\n              <ng-container *ngFor="let rowGroup of _virtualRows; trackBy: _getRowKey">\n                <ng-container *ngIf="!rowGroup.day && !rowGroup.hidden">\n                  <ng-template\n                    *ngFor="let r of rowGroup.rows; trackBy: _getId"\n                    [ngTemplateOutlet]="tplSidebar"\n                    [ngTemplateOutletContext]="{ res: r, key: r.id }"\n                  >\n                  </ng-template>\n                </ng-container>\n                <ng-container *ngIf="rowGroup.day && !rowGroup.hidden">\n                  <div [class]="\'mbsc-timeline-row-group mbsc-flex-col mbsc-flex-1-0\' + _theme + _hb">\n                    <ng-template\n                      *ngFor="let r of rowGroup.rows; trackBy: _getId"\n                      [ngTemplateOutlet]="tplSidebar"\n                      [ngTemplateOutletContext]="{ res: r, key: rowGroup.day.dateKey + \'-\' + r.id }"\n                    >\n                    </ng-template>\n                  </div>\n                </ng-container>\n              </ng-container>\n            </div>\n            <div\n              *ngIf="_hasFooter"\n              class="mbsc-flex-none mbsc-timeline-footer-ph"\n              [style.height.px]="_hasSideSticky ? undefined : state.footerHeight"\n            ></div>\n          </div>\n          <div *ngIf="_hasRows && !!sidebarTemplate" [class]="_hasSideSticky ? \'\' : \'mbsc-timeline-sidebar-col\'"></div>\n        </div>\n      </div>\n\n      <ng-container *ngIf="_hasFooter">\n        <div [class]="\'mbsc-flex-none\'" [style.height.px]="_hasSticky ? undefined : state.footerHeight"></div>\n        <div #footerCont [class]="\'mbsc-timeline-footer mbsc-flex\' + _theme + _rtl + _hb">\n          <div\n            *ngIf="_hasRows"\n            [class]="\'mbsc-timeline-resource-footer-cont \' + _colClass + _theme + _rtl + _hb"\n            [style.width.px]="_hasResources ? _resourceWidth : undefined"\n          ></div>\n          <div\n            [class]="\'mbsc-timeline-footer-bg mbsc-flex-1-0 mbsc-flex\' + _theme"\n            [style.width.px]="state.hasScrollX ? this._gridWidth : undefined"\n          >\n            <div [style.width.px]="_phXStart" class="mbsc-flex-none"></div>\n            <div class="mbsc-flex-1-1 mbsc-overflow-hidden">\n              <div *ngIf="_isDailyResolution" class="mbsc-flex">\n                <ng-container *ngFor="let d of _virtualDays; trackBy: _getDayKey">\n                  <div\n                    *ngIf="d.dateKey !== _dragCol"\n                    [class]="\n                      \'mbsc-timeline-day mbsc-flex-1-0-0\' +\n                      _dayClass +\n                      _theme +\n                      _rtl +\n                      _hb +\n                      (d.dateIndex < _daysNr - 1 && (_stepCell < _oneDay || d.lastOfMonth) ? \' mbsc-timeline-day-border\' : \'\')\n                    "\n                  >\n                    <div class="mbsc-flex">\n                      <div *ngIf="d.phStart !== 0" [style.width.px]="d.phStart" class="mbsc-flex-none"></div>\n                      <div\n                        *ngFor="let v of d.times; trackBy: _getTimeKey"\n                        [ngStyle]="v.first && !v.last ? _startCellStyle! : v.last && !v.first ? _endCellStyle! : {}"\n                        [class]="\n                          \'mbsc-flex mbsc-flex-1-1 mbsc-timeline-column mbsc-timeline-footer-column\' +\n                          _colWidthClass +\n                          _theme +\n                          _rtl +\n                          _hb +\n                          (v.hidden ? \' mbsc-timeline-hidden\' : \'\') +\n                          (!_displayTime || _hasSlots ? \' mbsc-timeline-no-height\' : \'\') +\n                          (_stepLabel > _stepCell && _times[v.i + 1] % _stepLabel ? \' mbsc-timeline-no-border\' : \'\') +\n                          ((v.first && !v.last && _startCellStyle) || (v.last && !v.first && _endCellStyle) ? \' mbsc-flex-none\' : \'\')\n                        "\n                      >\n                        <ng-template\n                          *ngIf="_displayTime"\n                          [ngTemplateOutlet]="tplHourFooter"\n                          [ngTemplateOutletContext]="{ hour: d, timestamp: v.t }"\n                        ></ng-template>\n                        <ng-container *ngFor="let tb of _timesBetween; let j = index; trackBy: _getKey">\n                          <ng-template\n                            *ngIf="v.t + (j + 1) * _stepLabel > _startTime && v.t + (j + 1) * _stepLabel < _endTime"\n                            [ngTemplateOutlet]="tplHourFooter"\n                            [ngTemplateOutletContext]="{ hour: d, timestamp: v.t + (j + 1) * _stepLabel }"\n                          ></ng-template>\n                        </ng-container>\n                      </div>\n                      <div *ngIf="d.phEnd !== 0" [style.width.px]="d.phEnd" class="mbsc-flex-none"></div>\n                    </div>\n                    <div *ngIf="dayFooterTemplate" [class]="\'mbsc-timeline-footer-date\' + _theme + _rtl + _hb">\n                      <ng-template [ngTemplateOutlet]="tplDayFooter" [ngTemplateOutletContext]="{ day: d }"></ng-template>\n                    </div>\n                    <div *ngIf="_hasSlots" class="mbsc-flex">\n                      <div *ngFor="let slot of _slots; trackBy: _getId" [class]="\'mbsc-timeline-slot mbsc-flex-1-1\' + _rtl + _theme"></div>\n                    </div>\n                  </div>\n                </ng-container>\n              </div>\n              <div *ngIf="!_isDailyResolution" class="mbsc-flex">\n                <ng-container *ngFor="let d of _virtualDays; trackBy: _getDayKey">\n                  <div *ngIf="d.dateKey !== _dragCol" [class]="\'mbsc-timeline-day mbsc-flex-1-0-0\' + _colWidthClass + _theme + _rtl + _hb">\n                    <div [class]="\'mbsc-timeline-footer-week mbsc-timeline-footer-week-last\' + _theme + _rtl + _hb">\n                      <div [class]="\'mbsc-timeline-footer-week-text\' + _theme">\n                        <ng-container\n                          *ngIf="weekFooterTemplate || monthFooterTemplate || quarterFooterTemplate || yearFooterTemplate"\n                          [ngSwitch]="s.resolution"\n                        >\n                          <ng-template\n                            *ngSwitchCase="\'week\'"\n                            [ngTemplateOutlet]="tplWeekFooter"\n                            [ngTemplateOutletContext]="{ week: d }"\n                          ></ng-template>\n                          <ng-template\n                            *ngSwitchCase="\'month\'"\n                            [ngTemplateOutlet]="tplMonthFooter"\n                            [ngTemplateOutletContext]="{ month: d }"\n                          ></ng-template>\n                          <ng-template\n                            *ngSwitchCase="\'quarter\'"\n                            [ngTemplateOutlet]="tplQuarterFooter"\n                            [ngTemplateOutletContext]="{ quarter: d }"\n                          ></ng-template>\n                          <ng-template\n                            *ngSwitchCase="\'year\'"\n                            [ngTemplateOutlet]="tplYearFooter"\n                            [ngTemplateOutletContext]="{ year: d }"\n                          ></ng-template>\n                        </ng-container>\n                      </div>\n                    </div>\n                  </div>\n                </ng-container>\n              </div>\n            </div>\n            <div [style.width.px]="_phXEnd" class="mbsc-flex-none"></div>\n          </div>\n          <div\n            *ngIf="_hasRows && !!sidebarTemplate"\n            [class]="\'mbsc-timeline-sidebar-footer-cont mbsc-timeline-sidebar-col\' + _theme + _rtl + _hb"\n          ></div>\n        </div>\n      </ng-container>\n    </div>\n    <div\n      *ngIf="state.dragData && state.dragData.draggedResourceVisible && state.dragData.draggedResource"\n      #draggedResourceEl\n      [class]="\'mbsc-timeline-resource-dragged mbsc-flex mbsc-flex-1-1\' + _theme"\n    >\n      <ng-template\n        [ngTemplateOutlet]="tplResource"\n        [ngTemplateOutletContext]="{\n          res: state.dragData.draggedResource,\n          key: state.dragData.draggedResource.id,\n          day: _getOriginDate(state.dragData),\n          isDrag: true\n        }"\n      >\n      </ng-template>\n    </div>\n    <div *ngIf="state.dragData && !state.isTouchDrag" class="mbsc-calendar-dragging"></div>\n  ',isInline:true,components:[{type:MbscIcon,selector:"mbsc-icon",inputs:["name","svg"]},{type:MbscScheduleEvent,selector:"mbsc-schedule-event",inputs:["bufferAfterTemplate","bufferBeforeTemplate","contentTemplate","displayTimezone","drag","event","endDay","eventHeight","exclusiveEndDates","gridEndTime","gridStartTime","hasResY","hidden","inactive","isDrag","isListing","isTimeline","lastDay","resize","resource","resourceObj","rtl","selected","singleDay","slot","slotObj","startDay","stickyPos","template","theme","timezonePlugin"],outputs:["onClick","onDoubleClick","onRightClick","onHoverIn","onHoverOut","onDelete","onDragEnd","onDragModeOff","onDragModeOn","onDragMove","onDragStart"]},{type:MbscTimeIndicator,selector:"mbsc-time-indicator",inputs:["amText","displayedTime","displayedDays","displayTimezone","endDay","firstDay","hasResY","orientation","pmText","rtl","showDayIndicator","startDay","startTime","theme","timeFormat","timezones","timezonePlugin"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:i1$1.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]},{type:i1$1.NgSwitch,selector:"[ngSwitch]",inputs:["ngSwitch"]},{type:i1$1.NgSwitchCase,selector:"[ngSwitchCase]",inputs:["ngSwitchCase"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscTimeline}(TimelineBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscTimeline,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":'"mbsc-timeline mbsc-flex-1-1 mbsc-flex-col" +\n      (state.cellWidth ? "" : " mbsc-hidden") +\n      (_variableEventHeight ? " mbsc-timeline-events-variable" : "") +\n      (_hasSticky ? " mbsc-has-sticky" : "") +\n      (_hasResources ? "" : " mbsc-timeline-no-resource") + _theme + _rtl'},selector:"mbsc-timeline",template:'\n    <ng-template #tplResource let-res="res" let-key="key" let-day="day" let-isDrag="isDrag">\n      <div\n        *ngIf="key !== _dragRow"\n        [class]="\n          \'mbsc-timeline-resource mbsc-timeline-row mbsc-flex-1-0\' +\n          (res.isParent ? \' mbsc-timeline-parent\' : \'\') +\n          (res.isParent || (resourceReorder && res.reorder !== false && res.id !== _defId) ? \' mbsc-flex\' : \'\') +\n          (state.dragData && res.id === state.dragData.hoverResource ? \' mbsc-timeline-parent-hover\' : \'\') +\n          (res.fixed && !_hasResY ? \' mbsc-timeline-row-fixed\' : \'\') +\n          (key === _dragRow && !isDrag ? \' mbsc-timeline-hidden\' : \'\') +\n          (res.cssClass ? \' \' + res.cssClass : \'\') +\n          _theme +\n          _rtl +\n          _hb\n        "\n        [style.background]="res.background"\n        [style.minHeight]="_rowHeights[key]"\n        [style.paddingLeft.em]="rtl ? undefined : _hasHierarchy ? res.depth! * 1.75 : undefined"\n        [style.paddingRight.em]="rtl ? (_hasHierarchy ? res.depth! * 1.75 : undefined) : undefined"\n        [style.top]="res.fixed && !_hasResY ? _fixedResourceTops[key] + \'px\' : undefined"\n        (click)="_onResourceClick(\'onResourceClick\', $event, res, day)"\n        (dblclick)="_onResourceClick(\'onResourceDoubleClick\', $event, res, day)"\n        (contextmenu)="_onResourceClick(\'onResourceRightClick\', $event, res, day)"\n      >\n        <mbsc-icon\n          *ngIf="resourceReorder && res.reorder !== false && res.id !== _defId"\n          [class]="\'mbsc-timeline-resource-icon mbsc-timeline-resource-sort \' + _rtl + _hb"\n          [svg]="s.dragIcon"\n          [theme]="theme"\n        >\n        </mbsc-icon>\n\n        <mbsc-icon\n          *ngIf="res.isParent"\n          [class]="\'mbsc-timeline-resource-icon\' + _rtl + _hb"\n          [svg]="res.collapsed ? (rtl ? nextIconRtl : nextIcon) : downIcon"\n          [theme]="theme"\n          (click)="_toggleResource(res, $event)"\n        >\n        </mbsc-icon>\n        <div\n          [class]="\n            \'mbsc-timeline-resource-title\' +\n            (res.isParent || (resourceReorder && res.reorder !== false && res.id !== _defId) ? \' mbsc-flex-1-1\' : \'\')\n          "\n        >\n          <ng-template #default>{{ res.name }}</ng-template>\n          <ng-template\n            *ngIf="res.id !== _defId"\n            [ngTemplateOutlet]="resourceTemplate || default"\n            [ngTemplateOutletContext]="{ $implicit: res, day: day }"\n          >\n          </ng-template>\n          <ng-template\n            *ngIf="res.id === _defId"\n            [ngTemplateOutlet]="resourceEmptyTemplate || default"\n            [ngTemplateOutletContext]="{ $implicit: res }"\n          >\n          </ng-template>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template #tplSidebar let-res="res" let-key="key">\n      <div\n        *ngIf="key !== _dragRow"\n        [class]="\n          \'mbsc-timeline-sidebar-resource mbsc-timeline-row mbsc-flex-1-0\' +\n          (res.isParent ? \' mbsc-timeline-parent mbsc-flex\' : \'\') +\n          (state.dragData && res.id === state.dragData.hoverResource ? \' mbsc-timeline-parent-hover\' : \'\') +\n          (res.fixed && !_hasResY ? \' mbsc-timeline-row-fixed\' : \'\') +\n          (res.cssClass ? \' \' + res.cssClass : \'\') +\n          _theme +\n          _rtl +\n          _hb\n        "\n        [style.background]="res.background"\n        [style.minHeight]="_rowHeights[key]"\n        [style.top]="res.fixed && !_hasResY ? _fixedResourceTops[key] + \'px\' : undefined"\n      >\n        <div class="mbsc-timeline-sidebar-resource-title">\n          <ng-template *ngIf="res.id !== _defId" [ngTemplateOutlet]="sidebarTemplate!" [ngTemplateOutletContext]="{ $implicit: res }">\n          </ng-template>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template #tplRow let-res="res" let-dateKey="dateKey" let-day="day">\n      <div\n        [class]="\n          \'mbsc-timeline-row mbsc-timeline-row-outer mbsc-flex mbsc-flex-1-0\' +\n          (res.isParent ? \' mbsc-timeline-parent\' : \'\') +\n          (state.dragData && res.id === state.dragData.hoverResource ? \' mbsc-timeline-parent-hover\' : \'\') +\n          (res.fixed && !_hasResY ? \' mbsc-timeline-row-fixed\' : \'\') +\n          (res.cssClass ? \' \' + res.cssClass : \'\') +\n          ((dateKey ? dateKey + \'-\' : \'\') + res.id === _dragRow ? \' mbsc-timeline-hidden\' : \'\') +\n          _theme +\n          _hb\n        "\n        [style.background]="res.background"\n        [style.minHeight]="_rowHeights[(dateKey ? dateKey + \'-\' : \'\') + res.id]"\n        [style.top]="res.fixed && !_hasResY ? _fixedResourceTops[(dateKey ? dateKey + \'-\' : \'\') + res.id] + \'px\' : undefined"\n      >\n        <ng-container\n          *ngIf="!_hasSlots"\n          [ngTemplateOutlet]="tplDayData"\n          [ngTemplateOutletContext]="{\n            colors: _viewColors[(dateKey ? dateKey + \'-\' : \'\') + res.id],\n            events: _viewEvents[(dateKey ? dateKey + \'-\' : \'\') + res.id],\n            invalids: _viewInvalids[(dateKey ? dateKey + \'-\' : \'\') + res.id],\n            dragData: state.dragData,\n            dragKey: _getDragKey(res.id, _defId, dateKey || \'all\'),\n            resource: res,\n            slot: _slots[0],\n            tracks: _events[res.id][_defId][dateKey || \'all\'] ? _events[res.id][_defId][dateKey || \'all\'].tracks : []\n          }"\n        >\n        </ng-container>\n\n        <div [class]="\'mbsc-timeline-row mbsc-timeline-row-size\' + (res.cssClass ? \' \' + res.cssClass : \'\')"></div>\n        <div [style.width.px]="_phXStart" class="mbsc-flex-none"></div>\n        <div class="mbsc-flex mbsc-flex-1-0">\n          <ng-container *ngFor="let dayData of _virtualDays; trackBy: _getDayKey">\n            <div\n              *ngIf="_isDailyResolution"\n              [class]="\n                \'mbsc-timeline-day mbsc-flex mbsc-flex-1-0-0\' +\n                _dayClass +\n                _theme +\n                _rtl +\n                _hb +\n                (dayData.dateKey === _dragCol ? \' mbsc-timeline-hidden\' : \'\') +\n                (dayData.dateIndex < _daysNr - 1 && (_stepCell < _oneDay || dayData.lastOfMonth) ? \' mbsc-timeline-day-border\' : \'\')\n              "\n            >\n              <div\n                *ngFor="let slot of _slots; trackBy: _getId"\n                [class]="\'mbsc-flex mbsc-flex-1-1\' + (_hasSlots ? \' mbsc-timeline-slot\' : \'\')"\n              >\n                <ng-container\n                  *ngIf="_hasSlots"\n                  [ngTemplateOutlet]="tplDayData"\n                  [ngTemplateOutletContext]="{\n                    colors: (_colors[res.id][slot.id][dateKey || dayData.dateKey] && [\n                      _colors[res.id][slot.id][dateKey || dayData.dateKey].data\n                    ]) || [[]],\n                    events: (_events[res.id][slot.id][dateKey || dayData.dateKey] && [\n                      _events[res.id][slot.id][dateKey || dayData.dateKey].data\n                    ]) || [[]],\n                    invalids: (_invalids[res.id][slot.id][dateKey || dayData.dateKey] && [\n                      _invalids[res.id][slot.id][dateKey || dayData.dateKey].data\n                    ]) || [[]],\n                    dragData: state.dragData,\n                    dragKey: _getDragKey(res.id, slot.id, dayData.dateKey),\n                    resource: res,\n                    slot: slot,\n                    tracks: []\n                  }"\n                >\n                </ng-container>\n                <div *ngIf="dayData.phStart !== 0" [style.width.px]="dayData.phStart" class="mbsc-flex-none"></div>\n                <div\n                  *ngFor="let v of dayData.times; trackBy: _getTimeKey"\n                  [class]="\n                    \'mbsc-timeline-column mbsc-flex-1-1\' +\n                    _colWidthClass +\n                    _theme +\n                    _rtl +\n                    _hb +\n                    (v.hidden ? \' mbsc-timeline-hidden\' : \'\') +\n                    ((v.first && !v.last && _startCellStyle) || (v.last && !v.first && _endCellStyle) ? \' mbsc-flex-none\' : \'\')\n                  "\n                  (click)="_onCellClick(\'onCellClick\', (day || dayData).timestamp, v.t, $event, res.id, slot.id)"\n                  (dblclick)="_onCellClick(\'onCellDoubleClick\', (day || dayData).timestamp, v.t, $event, res.id, slot.id)"\n                  (contextmenu)="_onCellClick(\'onCellRightClick\', (day || dayData).timestamp, v.t, $event, res.id, slot.id)"\n                  [ngStyle]="v.first && !v.last ? _startCellStyle! : v.last && !v.first ? _endCellStyle! : {}"\n                ></div>\n                <div *ngIf="dayData.phEnd !== 0" [style.width.px]="dayData.phEnd" class="mbsc-flex-none"></div>\n              </div>\n            </div>\n            <div\n              *ngIf="!_isDailyResolution"\n              [class]="\n                \'mbsc-timeline-day mbsc-timeline-column mbsc-flex-1-0-0\' +\n                _colWidthClass +\n                _theme +\n                _rtl +\n                _hb +\n                (dayData.dateKey === _dragCol ? \' mbsc-timeline-hidden\' : \'\')\n              "\n              (click)="onCellClick({ date: dayData.date, domEvent: $event, resource: res.id, source: \'timeline\' })"\n              (dblclick)="onCellDoubleClick({ date: dayData.date, domEvent: $event, resource: res.id, source: \'timeline\' })"\n              (contextmenu)="onCellRightClick({ date: dayData.date, domEvent: $event, resource: res.id, source: \'timeline\' })"\n            ></div>\n          </ng-container>\n        </div>\n        <div [style.width.px]="_phXEnd" class="mbsc-flex-none"></div>\n      </div>\n    </ng-template>\n\n    <ng-template #tplHour let-hour="hour" let-timestamp="timestamp">\n      <div aria-hidden="true" [class]="\'mbsc-timeline-header-time mbsc-flex-1-1\' + _theme">\n        <ng-template #defaultHour>{{ _timeLabels[0][timestamp] }}</ng-template>\n        <ng-template\n          *ngIf="_timeLabels[0][timestamp]"\n          [ngTemplateOutlet]="hourTemplate || defaultHour"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: _getDate(+hour.date + timestamp),\n              events: hour.eventMap[+hour.date + timestamp] || [],\n              isActive: hour.isActive\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplHourFooter let-hour="hour" let-timestamp="timestamp">\n      <div aria-hidden="true" [class]="\'mbsc-timeline-footer-time mbsc-flex-1-1 \' + _theme">\n        <ng-template\n          *ngIf="_timeLabels[0][timestamp]"\n          [ngTemplateOutlet]="hourFooterTemplate!"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: _getDate(+hour.date + timestamp),\n              events: hour.eventMap[+hour.date + timestamp] || [],\n              isActive: hour.isActive\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplDay let-day="day">\n      <div\n        aria-hidden="true"\n        [class]="\n          (dayTemplate ? \'\' : \'mbsc-timeline-header-date-text\') +\n          (day.isActive && !dayTemplate ? \' mbsc-timeline-header-active\' : \'\') +\n          _theme\n        "\n      >\n        <ng-template #defaultDay>{{ day.dateText }}</ng-template>\n        <ng-template\n          [ngTemplateOutlet]="dayTemplate || defaultDay"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: day.date,\n              events: day.eventMap.all,\n              isActive: day.isActive\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplDayFooter let-day="day">\n      <div [class]="\'mbsc-timeline-footer-date-cont\' + _theme">\n        <ng-template\n          [ngTemplateOutlet]="dayFooterTemplate!"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: day.date,\n              events: day.eventMap.all\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplWeek let-week="week">\n      <ng-template #defaultWeek>{{ week.weekText }}</ng-template>\n      <ng-template\n        [ngTemplateOutlet]="weekTemplate || defaultWeek"\n        [ngTemplateOutletContext]="{\n          $implicit: {\n            date: week.date,\n            events: week.eventMap[week.timestamp] || [],\n            isActive: week.isActive,\n            startDate: week.date,\n            endDate: week.endDate,\n            weekNr: week.weekNr\n          }\n        }"\n      ></ng-template>\n    </ng-template>\n\n    <ng-template #tplWeekFooter let-week="week">\n      <div class="mbsc-timeline-footer-week-cont">\n        <ng-template\n          [ngTemplateOutlet]="weekFooterTemplate!"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: week.date,\n              events: week.eventMap[week.timestamp] || [],\n              isActive: week.isActive,\n              startDate: week.date,\n              endDate: week.endDate,\n              weekNr: week.weekNr\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplMonth let-month="month">\n      <ng-template #defaultMonth>{{ month.monthText }}</ng-template>\n      <ng-template\n        [ngTemplateOutlet]="monthTemplate || defaultMonth"\n        [ngTemplateOutletContext]="{\n          $implicit: {\n            date: month.date,\n            events: month.eventMap[month.timestamp] || [],\n            isActive: month.isActive\n          }\n        }"\n      ></ng-template>\n    </ng-template>\n\n    <ng-template #tplMonthFooter let-month="month">\n      <div class="mbsc-timeline-footer-month-cont">\n        <ng-template\n          [ngTemplateOutlet]="monthFooterTemplate!"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: month.date,\n              events: month.eventMap[month.timestamp] || []\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplQuarter let-quarter="quarter">\n      <ng-template #defaultQuarter>{{ quarter.quarterText }}</ng-template>\n      <ng-template\n        [ngTemplateOutlet]="quarterTemplate || defaultQuarter"\n        [ngTemplateOutletContext]="{\n          $implicit: {\n            date: quarter.date,\n            events: quarter.eventMap[quarter.timestamp] || [],\n            isActive: quarter.isActive\n          }\n        }"\n      ></ng-template>\n    </ng-template>\n\n    <ng-template #tplQuarterFooter let-quarter="quarter">\n      <div class="mbsc-timeline-footer-quarter-cont">\n        <ng-template\n          [ngTemplateOutlet]="quarterFooterTemplate!"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: quarter.date,\n              events: quarter.eventMap[quarter.timestamp] || [],\n              isActive: quarter.isActive\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template #tplYear let-year="year">\n      <ng-template #defaultYear>{{ year.columnTitle }}</ng-template>\n      <ng-template\n        [ngTemplateOutlet]="yearTemplate || defaultYear"\n        [ngTemplateOutletContext]="{\n          $implicit: {\n            date: year.date,\n            events: year.eventMap[year.timestamp] || [],\n            isActive: year.isActive\n          }\n        }"\n      ></ng-template>\n    </ng-template>\n\n    <ng-template #tplYearFooter let-year="year">\n      <div class="mbsc-timeline-footer-year-cont">\n        <ng-template\n          [ngTemplateOutlet]="yearFooterTemplate!"\n          [ngTemplateOutletContext]="{\n            $implicit: {\n              date: year.date,\n              events: year.eventMap[year.timestamp] || [],\n              isActive: year.isActive\n            }\n          }"\n        ></ng-template>\n      </div>\n    </ng-template>\n\n    <ng-template\n      #tplDayData\n      let-colors="colors"\n      let-dragData="dragData"\n      let-dragKey="dragKey"\n      let-events="events"\n      let-invalids="invalids"\n      let-resource="resource"\n      let-slot="slot"\n      let-tracks="tracks"\n    >\n      <div class="mbsc-timeline-events">\n        <div\n          *ngFor="let track of events; let i = index; trackBy: _getKey"\n          class="mbsc-timeline-events-track"\n          [style.minHeight]="_variableEventHeight ? (tracks[i] || 0) + \'px\' : undefined"\n        >\n          <ng-container *ngFor="let event of track; trackBy: _getEventKey">\n            <mbsc-schedule-event\n              *ngIf="event.position"\n              [bufferAfterTemplate]="bufferAfterTemplate"\n              [bufferBeforeTemplate]="bufferBeforeTemplate"\n              [contentTemplate]="eventContentTemplate"\n              [displayTimezone]="displayTimezone"\n              [drag]="dragToMove || externalDrag"\n              [endDay]="endDay"\n              [event]="event"\n              [eventHeight]="_setRowHeight && !_variableEventHeight ? _eventHeight : undefined"\n              [exclusiveEndDates]="exclusiveEndDates"\n              [gridEndTime]="_endTime"\n              [gridStartTime]="_startTime"\n              [hasResY]="_hasResY"\n              [inactive]="dragData && dragData.draggedEvent && dragData.draggedEvent.id === event.id"\n              [isTimeline]="true"\n              [isListing]="eventList"\n              [lastDay]="_lastDay"\n              [resize]="_computeResize(event.original!.resize, dragToResize, resource.eventResize)"\n              [resource]="resource.id"\n              [resourceObj]="resource"\n              [rtl]="rtl"\n              [selected]="!!(selectedEventsMap[event.uid!] || selectedEventsMap[event.id!])"\n              [slot]="slot.id"\n              [slotObj]="slot"\n              [startDay]="startDay"\n              [stickyPos]="_hasSticky && !_hasSlots ? (_hasResources ? _resourceWidth : 0) + \'px\' : undefined"\n              [theme]="theme"\n              [template]="eventTemplate"\n              [timezonePlugin]="timezonePlugin"\n              (onClick)="_onEventClick($event)"\n              (onDoubleClick)="onEventDoubleClick($event)"\n              (onRightClick)="onEventRightClick($event)"\n              (onHoverIn)="onEventHoverIn($event)"\n              (onHoverOut)="onEventHoverOut($event)"\n              (onDelete)="onEventDelete($event)"\n              (onDragStart)="_onEventDragStart($event)"\n              (onDragMove)="_onEventDragMove($event)"\n              (onDragEnd)="_onEventDragEnd($event)"\n              (onDragModeOn)="_onEventDragModeOn($event)"\n              (onDragModeOff)="_onEventDragModeOff($event)"\n            >\n            </mbsc-schedule-event>\n          </ng-container>\n          <mbsc-schedule-event\n            *ngIf="dragData && dragData.originDates && dragData.originDates[dragKey] && dragData.originDates[dragKey].track === i"\n            [bufferAfterTemplate]="bufferAfterTemplate"\n            [bufferBeforeTemplate]="bufferBeforeTemplate"\n            [contentTemplate]="eventContentTemplate"\n            [displayTimezone]="displayTimezone"\n            [drag]="dragToMove || externalDrag"\n            [endDay]="endDay"\n            [event]="dragData.originDates[dragKey]"\n            [eventHeight]="_setRowHeight && !_variableEventHeight ? _eventHeight : undefined"\n            [exclusiveEndDates]="exclusiveEndDates"\n            [gridEndTime]="_endTime"\n            [gridStartTime]="_startTime"\n            [hasResY]="_hasResY"\n            [hidden]="!!dragData.draggedDates"\n            [isDrag]="true"\n            [isTimeline]="true"\n            [isListing]="eventList"\n            [lastDay]="_lastDay"\n            [resize]="_computeResize(dragData.originDates[dragKey].original!.resize, dragToResize, resource.eventResize)"\n            [resource]="resource.id"\n            [resourceObj]="resource"\n            [rtl]="rtl"\n            [slot]="slot.id"\n            [slotObj]="slot"\n            [startDay]="startDay"\n            [theme]="theme"\n            [template]="eventTemplate"\n            [timezonePlugin]="timezonePlugin"\n            (onDragStart)="_onEventDragStart($event)"\n            (onDragMove)="_onEventDragMove($event)"\n            (onDragEnd)="_onEventDragEnd($event)"\n            (onDragModeOff)="_onEventDragModeOff($event)"\n          >\n          </mbsc-schedule-event>\n          <mbsc-schedule-event\n            *ngIf="dragData && dragData.draggedDates && dragData.draggedDates[dragKey] && dragData.draggedDates[dragKey].track === i"\n            [bufferAfterTemplate]="bufferAfterTemplate"\n            [bufferBeforeTemplate]="bufferBeforeTemplate"\n            [contentTemplate]="eventContentTemplate"\n            [displayTimezone]="displayTimezone"\n            [drag]="dragToMove || externalDrag"\n            [endDay]="endDay"\n            [event]="dragData.draggedDates[dragKey]"\n            [eventHeight]="_setRowHeight && !_variableEventHeight ? _eventHeight : undefined"\n            [exclusiveEndDates]="exclusiveEndDates"\n            [gridEndTime]="_endTime"\n            [gridStartTime]="_startTime"\n            [hasResY]="_hasResY"\n            [isDrag]="true"\n            [isTimeline]="true"\n            [isListing]="eventList"\n            [lastDay]="_lastDay"\n            [resize]="_computeResize(dragData.draggedDates[dragKey].original!.resize, dragToResize, resource.eventResize)"\n            [resource]="resource.id"\n            [resourceObj]="resource"\n            [rtl]="rtl"\n            [slot]="slot.id"\n            [slotObj]="slot"\n            [startDay]="startDay"\n            [theme]="theme"\n            [template]="eventTemplate"\n            [timezonePlugin]="timezonePlugin"\n          >\n          </mbsc-schedule-event>\n        </div>\n        <div *ngIf="_setRowHeight && _variableEventHeight" [class]="\'mbsc-timeline-row-gutter\' + _theme"></div>\n      </div>\n      <ng-container *ngFor="let invalid of invalids[0]; trackBy: _getKey">\n        <div\n          *ngIf="invalid.position"\n          [class]="\'mbsc-schedule-invalid mbsc-timeline-invalid\' + invalid.cssClass + _theme"\n          [ngStyle]="invalid.position"\n        >\n          <div class="mbsc-schedule-invalid-text">{{ invalid.title }}</div>\n        </div>\n      </ng-container>\n      <ng-container *ngFor="let color of colors[0]; trackBy: _getKey">\n        <div [class]="\'mbsc-schedule-color mbsc-timeline-color\' + color.cssClass + _theme" [ngStyle]="color.position">\n          <div class="mbsc-schedule-color-text">{{ color.title }}</div>\n        </div>\n      </ng-container>\n    </ng-template>\n\n    <div [innerHTML]="textParam"></div>\n    <div #stickyHeader [class]="\'mbsc-timeline-header-sticky mbsc-flex\' + _theme">\n      <div\n        *ngIf="_hasRows"\n        [class]="\'mbsc-timeline-resource-header-cont \' + _colClass + _theme + _rtl + _hb"\n        [style.height.px]="state.headerHeight"\n        [style.width.px]="_hasResources ? _resourceWidth : undefined"\n      >\n        <div class="mbsc-timeline-resource-header">\n          <ng-template [ngTemplateOutlet]="resourceHeaderTemplate!"></ng-template>\n        </div>\n      </div>\n      <div class="mbsc-flex-1-1">\n        <ng-container *ngIf="_isDailyResolution && !_hasResY">\n          <div *ngIf="_isMulti" [class]="\'mbsc-timeline-header-month mbsc-flex\' + _theme + _rtl + _hb">\n            <div\n              #stickyMonth\n              [class]="\n                \'mbsc-timeline-header-text \' +\n                (monthTemplate ? \'mbsc-timeline-header-month-cont\' : \'mbsc-timeline-header-month-text\') +\n                _theme\n              "\n            >\n              <ng-template #defaultTmpl>{{ _stickyDay.monthText }}</ng-template>\n              <ng-template\n                [ngTemplateOutlet]="monthTemplate || defaultTmpl"\n                [ngTemplateOutletContext]="{\n                  $implicit: {\n                    date: _stickyDay.date,\n                    events: _stickyDay.eventMap[_stickyDay.timestamp] || [],\n                    isActive: _stickyDay.isActive\n                  }\n                }"\n              ></ng-template>\n            </div>\n          </div>\n          <div *ngIf="weekNumbers" [class]="\'mbsc-timeline-header-week mbsc-flex\' + _theme + _rtl + _hb">\n            <div\n              #stickyWeek\n              [class]="\n                \'mbsc-timeline-header-text \' + (weekTemplate ? \'mbsc-timeline-header-week-cont\' : \'mbsc-timeline-header-week-text\') + _theme\n              "\n            >\n              <ng-template #defaultTmpl>{{ _stickyDay.weekText }}</ng-template>\n              <ng-template\n                [ngTemplateOutlet]="weekTemplate || defaultTmpl"\n                [ngTemplateOutletContext]="{\n                  $implicit: {\n                    date: _stickyDay.date,\n                    events: _stickyDay.eventMap[_stickyDay.timestamp] || [],\n                    isActive: _stickyDay.isActive,\n                    startDate: _stickyDay.date,\n                    endDate: _stickyDay.endDate,\n                    weekNr: _stickyDay.weekNr\n                  }\n                }"\n              ></ng-template>\n            </div>\n          </div>\n          <div *ngIf="_hasSlots || _stepCell < _oneDay" [class]="\'mbsc-timeline-header-date mbsc-flex\' + _theme + _rtl + _hb">\n            <div\n              #stickyDate\n              [class]="\n                \'mbsc-timeline-header-text \' +\n                (_stickyDay.isActive && !dayTemplate ? \'mbsc-timeline-header-active \' : \'\') +\n                (dayTemplate ? \'mbsc-timeline-header-date-cont\' : \'mbsc-timeline-header-date-text\') +\n                _theme\n              "\n            >\n              <ng-template #defaultDay>{{ _stickyDay.dateText }}</ng-template>\n              <ng-template\n                [ngTemplateOutlet]="dayTemplate || defaultDay"\n                [ngTemplateOutletContext]="{\n                  $implicit: {\n                    date: _stickyDay.date,\n                    events: _stickyDay.eventMap.all,\n                    isActive: _stickyDay.isActive\n                  }\n                }"\n              ></ng-template>\n            </div>\n          </div>\n        </ng-container>\n      </div>\n      <div\n        *ngIf="_hasRows && !!sidebarTemplate"\n        [class]="\'mbsc-timeline-sidebar-header-cont mbsc-timeline-sidebar-col\' + _theme + _rtl + _hb"\n        [style.height.px]="state.headerHeight"\n      >\n        <div class="mbsc-timeline-sidebar-header">\n          <ng-template [ngTemplateOutlet]="sidebarHeaderTemplate!"></ng-template>\n        </div>\n      </div>\n      <div *ngIf="state.hasScrollY" class="mbsc-schedule-fake-scroll-y"></div>\n    </div>\n\n    <div #stickyFooter *ngIf="_hasFooter" [class]="\'mbsc-timeline-footer-sticky mbsc-flex\' + _theme">\n      <div\n        *ngIf="_hasRows"\n        [class]="\'mbsc-timeline-resource-footer-cont \' + _colClass + _theme + _rtl + _hb"\n        [style.height.px]="state.footerHeight"\n        [style.width.px]="_hasResources ? _resourceWidth : undefined"\n      >\n        <div class="mbsc-timeline-resource-footer">\n          <ng-template [ngTemplateOutlet]="resourceFooterTemplate!"></ng-template>\n        </div>\n      </div>\n      <div *ngIf="_isDailyResolution" class="mbsc-flex-1-1"></div>\n      <div\n        *ngIf="_hasRows && !!sidebarTemplate"\n        [class]="\'mbsc-timeline-sidebar-footer-cont mbsc-timeline-sidebar-col\' + _theme + _rtl + _hb"\n        [style.height.px]="state.footerHeight"\n      >\n        <div class="mbsc-timeline-sidebar-footer">\n          <ng-template [ngTemplateOutlet]="sidebarFooterTemplate!"></ng-template>\n        </div>\n      </div>\n      <div *ngIf="state.hasScrollY" class="mbsc-schedule-fake-scroll-y"></div>\n    </div>\n\n    <div #scrollCont [class]="\'mbsc-timeline-grid-scroll mbsc-flex-col mbsc-flex-1-1\' + _theme + _rtl + _hb" (scroll)="_onScroll()">\n      <div [class]="\'mbsc-flex-none\'" [style.height.px]="_hasSticky ? undefined : state.headerHeight"></div>\n      <div #headerCont [class]="\'mbsc-timeline-header mbsc-flex\' + _theme + _rtl + _hb">\n        <div\n          *ngIf="_hasRows"\n          [class]="\'mbsc-timeline-resource-header-cont \' + _colClass + _theme + _rtl + _hb"\n          [style.width.px]="_hasResources ? _resourceWidth : undefined"\n        ></div>\n        <div\n          [class]="\'mbsc-timeline-header-bg mbsc-flex-1-0 mbsc-flex\' + _theme"\n          [style.width.px]="state.hasScrollX ? this._gridWidth : undefined"\n        >\n          <div class="mbsc-timeline-time-indicator-cont" [style.height.px]="(state.scrollContHeight || 0) - (state.headerHeight || 0)">\n            <mbsc-time-indicator\n              *ngIf="_showTimeIndicator"\n              [amText]="s.amText"\n              [displayedTime]="_time"\n              [displayedDays]="_daysNr"\n              [displayTimezone]="displayTimezone"\n              [endDay]="endDay"\n              [firstDay]="_firstDayTz"\n              [hasResY]="_hasResY"\n              orientation="y"\n              [pmText]="s.pmText"\n              [rtl]="rtl"\n              [startDay]="startDay"\n              [startTime]="_startTime"\n              [theme]="theme"\n              [timeFormat]="timeFormat"\n              [timezonePlugin]="timezonePlugin"\n            >\n            </mbsc-time-indicator>\n            <div *ngIf="_showCursorTime" #cursorTimeCont [class]="\'mbsc-schedule-cursor-time mbsc-schedule-cursor-time-y\' + _theme"></div>\n          </div>\n          <div [style.width.px]="_phXStart" class="mbsc-flex-none"></div>\n          <div class="mbsc-flex-1-1 mbsc-overflow-hidden">\n            <ng-container *ngIf="_isDailyResolution">\n              <div *ngIf="_isMulti && !_hasResY" class="mbsc-flex">\n                <ng-container *ngFor="let d of _virtualDays; trackBy: _getDayKey">\n                  <div\n                    *ngIf="d.dateKey !== _dragCol"\n                    [class]="\n                      \'mbsc-timeline-month mbsc-flex-1-0-0\' +\n                      _colWidthClass +\n                      _theme +\n                      _rtl +\n                      _hb +\n                      (d.dateIndex < _daysNr - 1 && d.lastOfMonth ? \' mbsc-timeline-day mbsc-timeline-day-border\' : \'\')\n                    "\n                  >\n                    <div\n                      [class]="\n                        \'mbsc-timeline-header-month\' +\n                        _theme +\n                        _rtl +\n                        _hb +\n                        (d.dateIndex < _daysNr - 1 && d.lastOfMonth ? \' mbsc-timeline-header-month-last\' : \'\')\n                      "\n                    >\n                      <div\n                        [class]="\n                          (monthTemplate ? \'mbsc-timeline-header-month-cont\' : \'mbsc-timeline-header-month-text\') +\n                          (d.lastOfMonth ? \' mbsc-timeline-header-month-text-last\' : \'\') +\n                          _theme\n                        "\n                      >\n                        <ng-template\n                          *ngIf="d.monthTitle"\n                          [ngTemplateOutlet]="tplMonth"\n                          [ngTemplateOutletContext]="{ month: d }"\n                        ></ng-template>\n                      </div>\n                    </div>\n                  </div>\n                </ng-container>\n              </div>\n              <div *ngIf="s.weekNumbers" class="mbsc-flex">\n                <ng-container *ngFor="let d of _virtualDays; trackBy: _getDayKey">\n                  <div\n                    *ngIf="d.dateKey !== _dragCol"\n                    [class]="\n                      \'mbsc-timeline-month mbsc-flex-1-0-0\' +\n                      _colWidthClass +\n                      _theme +\n                      _rtl +\n                      _hb +\n                      (d.dateIndex < _daysNr - 1 && d.lastOfWeek && (_stepCell < _oneDay || d.lastOfMonth)\n                        ? \' mbsc-timeline-day mbsc-timeline-day-border\'\n                        : \'\')\n                    "\n                  >\n                    <div\n                      [class]="\'mbsc-timeline-header-week\' + _theme + _rtl + _hb + (d.lastOfWeek ? \' mbsc-timeline-header-week-last\' : \'\')"\n                    >\n                      <div\n                        [class]="\n                          (weekTemplate ? \'mbsc-timeline-header-week-cont\' : \'mbsc-timeline-header-week-text\') +\n                          (d.lastOfWeek ? \' mbsc-timeline-header-week-text-last\' : \'\') +\n                          _theme\n                        "\n                      >\n                        <ng-template *ngIf="d.weekTitle" [ngTemplateOutlet]="tplWeek" [ngTemplateOutletContext]="{ week: d }"></ng-template>\n                      </div>\n                    </div>\n                  </div>\n                </ng-container>\n              </div>\n              <div class="mbsc-flex">\n                <ng-container *ngFor="let d of _virtualDays; trackBy: _getDayKey">\n                  <div\n                    *ngIf="d.dateKey !== _dragCol"\n                    [class]="\n                      \'mbsc-timeline-day mbsc-flex-1-0-0\' +\n                      _dayClass +\n                      _theme +\n                      _rtl +\n                      _hb +\n                      (d.dateIndex < _daysNr - 1 && (_stepCell < _oneDay || d.lastOfMonth) ? \' mbsc-timeline-day-border\' : \'\')\n                    "\n                  >\n                    <div *ngIf="!_hasResY" [class]="\'mbsc-timeline-header-date\' + _theme + _rtl + _hb">\n                      <ng-template [ngTemplateOutlet]="tplDay" [ngTemplateOutletContext]="{ day: d }"></ng-template>\n                      <div *ngIf="d.label" class="mbsc-hidden-content">{{ d.label }}</div>\n                    </div>\n                    <div *ngIf="_hasSlots" [class]="\'mbsc-flex mbsc-timeline-slots\' + _theme">\n                      <div\n                        *ngFor="let slot of _slots; trackBy: _getId"\n                        [class]="\'mbsc-timeline-slot mbsc-timeline-slot-header mbsc-flex-1-1\' + _colWidthClass + _rtl + _theme"\n                      >\n                        <div class="mbsc-timeline-slot-title">\n                          <ng-template #defaultSlot>\n                            {{ slot.name }}\n                          </ng-template>\n                          <ng-template\n                            [ngTemplateOutlet]="slotTemplate || defaultSlot"\n                            [ngTemplateOutletContext]="{ $implicit: { slot: slot, date: d.date } }"\n                          >\n                          </ng-template>\n                        </div>\n                      </div>\n                    </div>\n                    <div aria-hidden="true" class="mbsc-flex">\n                      <div *ngIf="d.phStart !== 0" [style.width.px]="d.phStart" class="mbsc-flex-none"></div>\n                      <div\n                        *ngFor="let v of d.times; trackBy: _getTimeKey"\n                        [ngStyle]="v.first && !v.last ? _startCellStyle! : v.last && !v.first ? _endCellStyle! : {}"\n                        [class]="\n                          \'mbsc-flex mbsc-flex-1-1 mbsc-timeline-header-column\' +\n                          _colWidthClass +\n                          _theme +\n                          _rtl +\n                          _hb +\n                          (v.hidden ? \' mbsc-timeline-hidden\' : \'\') +\n                          (!_displayTime || _hasSlots ? \' mbsc-timeline-no-height\' : \'\') +\n                          (_stepLabel > _stepCell && _times[v.i + 1] % _stepLabel ? \' mbsc-timeline-no-border\' : \'\') +\n                          ((v.first && !v.last && _startCellStyle) || (v.last && !v.first && _endCellStyle) ? \' mbsc-flex-none\' : \'\')\n                        "\n                      >\n                        <ng-template\n                          *ngIf="_displayTime"\n                          [ngTemplateOutlet]="tplHour"\n                          [ngTemplateOutletContext]="{ hour: d, timestamp: v.t }"\n                        ></ng-template>\n                        <ng-container *ngFor="let tb of _timesBetween; let j = index; trackBy: _getKey">\n                          <ng-template\n                            *ngIf="v.t + (j + 1) * _stepLabel > _startTime && v.t + (j + 1) * _stepLabel < _endTime"\n                            [ngTemplateOutlet]="tplHour"\n                            [ngTemplateOutletContext]="{ hour: d, timestamp: v.t + (j + 1) * _stepLabel }"\n                          ></ng-template>\n                        </ng-container>\n                      </div>\n                      <div *ngIf="d.phEnd !== 0" [style.width.px]="d.phEnd" class="mbsc-flex-none"></div>\n                    </div>\n                  </div>\n                </ng-container>\n              </div>\n            </ng-container>\n            <div *ngIf="!_isDailyResolution" class="mbsc-flex">\n              <ng-container *ngFor="let d of _virtualDays; trackBy: _getDayKey">\n                <div *ngIf="d.dateKey !== _dragCol" [class]="\'mbsc-timeline-day mbsc-flex-1-0-0\' + _colWidthClass + _theme + _rtl + _hb">\n                  <div [class]="\'mbsc-timeline-header-week mbsc-timeline-header-week-last\' + _theme + _rtl + _hb">\n                    <div\n                      [class]="\n                        \'mbsc-timeline-header-week-text mbsc-timeline-header-week-text-last\' +\n                        (d.isActive && !(weekTemplate || dayTemplate || monthTemplate || quarterTemplate || yearTemplate)\n                          ? \' mbsc-timeline-header-active\'\n                          : \'\') +\n                        _theme\n                      "\n                    >\n                      <ng-container\n                        *ngIf="weekTemplate || monthTemplate || quarterTemplate || yearTemplate; else defaultTitle"\n                        [ngSwitch]="resolution"\n                      >\n                        <div [class]="\'mbsc-timeline-header-\' + resolution + \'-cont\'">\n                          <ng-template\n                            *ngSwitchCase="\'week\'"\n                            [ngTemplateOutlet]="tplWeek"\n                            [ngTemplateOutletContext]="{ week: d }"\n                          ></ng-template>\n                          <ng-template\n                            *ngSwitchCase="\'month\'"\n                            [ngTemplateOutlet]="tplMonth"\n                            [ngTemplateOutletContext]="{ month: d }"\n                          ></ng-template>\n                          <ng-template\n                            *ngSwitchCase="\'quarter\'"\n                            [ngTemplateOutlet]="tplQuarter"\n                            [ngTemplateOutletContext]="{ quarter: d }"\n                          ></ng-template>\n                          <ng-template\n                            *ngSwitchCase="\'year\'"\n                            [ngTemplateOutlet]="tplYear"\n                            [ngTemplateOutletContext]="{ year: d }"\n                          ></ng-template>\n                        </div>\n                      </ng-container>\n                      <ng-template #defaultTitle>{{ d.columnTitle }}</ng-template>\n                    </div>\n                  </div>\n                </div>\n              </ng-container>\n            </div>\n          </div>\n          <div [style.width.px]="_phXEnd" class="mbsc-flex-none"></div>\n        </div>\n        <div\n          *ngIf="_hasRows && !!sidebarTemplate"\n          [class]="\'mbsc-timeline-sidebar-header-cont mbsc-timeline-sidebar-col\' + _theme + _rtl + _hb"\n        ></div>\n      </div>\n\n      <div class="mbsc-flex mbsc-flex-1-1">\n        \x3c!-- The extra flex div is needed for the div height to expand correctly --\x3e\n        <div class="mbsc-flex mbsc-flex-1-1">\n          <div\n            *ngIf="_hasRows"\n            #resCont\n            [class]="\'mbsc-timeline-resources mbsc-flex-col \' + _colClass + _theme + _rtl"\n            [style.width.px]="_hasResources ? _resourceWidth : undefined"\n          >\n            <div [class]="\'mbsc-flex-none\'" [style.height.px]="_hasSideSticky ? undefined : state.headerHeight"></div>\n            <div [class]="\'mbsc-timeline-resource-bg mbsc-flex-1-1\' + (_hasHierarchy || state.hasScrollY ? \'\' : \' mbsc-flex-col\') + _theme">\n              <div [style.height.px]="_phY" class="mbsc-flex-none"></div>\n              <ng-container *ngFor="let rowGroup of _virtualRows; trackBy: _getRowKey">\n                <ng-container *ngIf="!rowGroup.day && !rowGroup.hidden">\n                  <ng-template\n                    *ngFor="let r of rowGroup.rows; trackBy: _getId"\n                    [ngTemplateOutlet]="tplResource"\n                    [ngTemplateOutletContext]="{ res: r, key: r.id }"\n                  >\n                  </ng-template>\n                </ng-container>\n                <ng-container *ngIf="rowGroup.day && !rowGroup.hidden">\n                  <div *ngIf="_hasResources" [class]="\'mbsc-timeline-row-group mbsc-flex mbsc-flex-1-0\' + _theme + _hb">\n                    <div [class]="\'mbsc-timeline-row-date mbsc-timeline-row-date-col mbsc-flex-none\' + _rtl + _theme + _hb">\n                      <ng-template [ngTemplateOutlet]="tplDay" [ngTemplateOutletContext]="{ day: rowGroup.day }"> </ng-template>\n                    </div>\n                    <div class="mbsc-timeline-row-resource-col mbsc-flex-1-1 mbsc-flex-col">\n                      <ng-template\n                        *ngFor="let r of rowGroup.rows; trackBy: _getId"\n                        [ngTemplateOutlet]="tplResource"\n                        [ngTemplateOutletContext]="{ res: r, key: rowGroup.day.dateKey + \'-\' + r.id, day: rowGroup.day.date }"\n                      >\n                      </ng-template>\n                    </div>\n                  </div>\n                  <div\n                    *ngIf="!_hasResources"\n                    [class]="\'mbsc-timeline-row-date mbsc-flex-1-0\' + _rtl + _theme + _hb"\n                    [style.minHeight]="_rowHeights[rowGroup.day.dateKey + \'-\' + _defId]"\n                  >\n                    <ng-template [ngTemplateOutlet]="tplDay" [ngTemplateOutletContext]="{ day: rowGroup.day }"> </ng-template>\n                  </div>\n                </ng-container>\n              </ng-container>\n            </div>\n            <div\n              *ngIf="_hasFooter"\n              class="mbsc-flex-none mbsc-timeline-footer-ph"\n              [style.height.px]="_hasSideSticky ? undefined : state.footerHeight"\n            ></div>\n          </div>\n          <div\n            *ngIf="_hasRows"\n            [class]="_hasSideSticky ? \'\' : _colClass"\n            [style.width.px]="_hasSideSticky || !_hasResources ? undefined : _resourceWidth"\n          ></div>\n          <div class="mbsc-timeline-hidden">\n            <div\n              [class]="\'mbsc-timeline-day mbsc-timeline-empty-day\' + (_isDailyResolution ? \'\' : _colWidthClass) + _dayClass + _theme"\n            ></div>\n            <div\n              [class]="\n                \'mbsc-timeline-column mbsc-timeline-empty-column\' + (_hasSlots ? \' mbsc-timeline-slot\' : \'\') + _colWidthClass + _theme\n              "\n            ></div>\n            <div [class]="\'mbsc-timeline-row mbsc-timeline-empty-row\' + _theme"></div>\n            <div [class]="\'mbsc-timeline-row mbsc-timeline-parent mbsc-timeline-empty-parent\' + _theme"></div>\n            <div [class]="\'mbsc-timeline-row-gutter\' + _theme"></div>\n            <div [class]="\'mbsc-timeline-empty-resource \' + _colClass + _theme"></div>\n            <div [class]="\'mbsc-timeline-resource-depth-step\' + _theme"></div>\n          </div>\n          <div\n            #gridCont\n            [class]="\'mbsc-timeline-grid mbsc-flex-1-0\' + (_hasHierarchy || state.hasScrollY ? \'\' : \' mbsc-flex-col\')"\n            [style.width.px]="state.hasScrollX ? _gridWidth : undefined"\n            [style.height.px]="state.hasScrollY ? _gridHeight : undefined"\n            (mouseleave)="_onMouseLeave($event)"\n            (mousemove)="_onMouseMove($event)"\n          >\n            <ng-container *ngIf="state.dragData && state.dragData.draggedResourceVisible">\n              <div\n                #draggedResourceLineEl\n                [class]="\n                  \'mbsc-timeline-resource-drop\' +\n                  (state.dragData && state.dragData.draggedResourceInvalid ? \' mbsc-timeline-resource-drop-invalid \' : \' \') +\n                  _theme\n                "\n              ></div>\n            </ng-container>\n            <div [style.height.px]="_phY" class="mbsc-flex-none"></div>\n            <ng-container *ngFor="let rowGroup of _virtualRows; trackBy: _getRowKey">\n              <ng-container *ngIf="!rowGroup.day || !_hasResources">\n                <ng-template\n                  *ngFor="let r of rowGroup.rows; trackBy: _getId"\n                  [ngTemplateOutlet]="tplRow"\n                  [ngTemplateOutletContext]="{ res: r, dateKey: rowGroup.day ? rowGroup.day.dateKey : \'\', day: rowGroup.day }"\n                >\n                </ng-template>\n              </ng-container>\n              <ng-container *ngIf="rowGroup.day && _hasResources">\n                <div [class]="\'mbsc-timeline-row-group mbsc-flex-col mbsc-flex-1-0\' + _theme + _hb">\n                  <ng-template\n                    *ngFor="let r of rowGroup.rows; trackBy: _getId"\n                    [ngTemplateOutlet]="tplRow"\n                    [ngTemplateOutletContext]="{ res: r, dateKey: rowGroup.day.dateKey, day: rowGroup.day }"\n                  >\n                  </ng-template>\n                </div>\n              </ng-container>\n            </ng-container>\n            <svg *ngIf="_connections" [attr.class]="\'mbsc-connections\' + _theme" viewBox="0 0 100 100" preserveAspectRatio="none">\n              <ng-container *ngFor="let c of _connections; trackBy: _getId">\n                <path\n                  *ngIf="_virtualStart <= c.endDate && _virtualEnd > c.startDate"\n                  [attr.d]="c.pathD"\n                  [attr.class]="\'mbsc-connection \' + c.cssClass + _theme"\n                  [style.stroke]="c.color"\n                  [style.fill]="c.fill"\n                  vector-effect="non-scaling-stroke"\n                ></path>\n              </ng-container>\n            </svg>\n          </div>\n\n          <div\n            *ngIf="_hasRows && !!sidebarTemplate"\n            #sidebarCont\n            [class]="\'mbsc-timeline-sidebar mbsc-timeline-sidebar-col mbsc-flex-col\' + _theme + _rtl"\n          >\n            <div [class]="\'mbsc-flex-none\'" [style.height.px]="_hasSideSticky ? undefined : state.headerHeight"></div>\n            <div [class]="\'mbsc-timeline-resource-bg mbsc-flex-1-1\' + (_hasHierarchy || state.hasScrollY ? \'\' : \' mbsc-flex-col\') + _theme">\n              <div [style.height.px]="_phY" class="mbsc-flex-none"></div>\n              <ng-container *ngFor="let rowGroup of _virtualRows; trackBy: _getRowKey">\n                <ng-container *ngIf="!rowGroup.day && !rowGroup.hidden">\n                  <ng-template\n                    *ngFor="let r of rowGroup.rows; trackBy: _getId"\n                    [ngTemplateOutlet]="tplSidebar"\n                    [ngTemplateOutletContext]="{ res: r, key: r.id }"\n                  >\n                  </ng-template>\n                </ng-container>\n                <ng-container *ngIf="rowGroup.day && !rowGroup.hidden">\n                  <div [class]="\'mbsc-timeline-row-group mbsc-flex-col mbsc-flex-1-0\' + _theme + _hb">\n                    <ng-template\n                      *ngFor="let r of rowGroup.rows; trackBy: _getId"\n                      [ngTemplateOutlet]="tplSidebar"\n                      [ngTemplateOutletContext]="{ res: r, key: rowGroup.day.dateKey + \'-\' + r.id }"\n                    >\n                    </ng-template>\n                  </div>\n                </ng-container>\n              </ng-container>\n            </div>\n            <div\n              *ngIf="_hasFooter"\n              class="mbsc-flex-none mbsc-timeline-footer-ph"\n              [style.height.px]="_hasSideSticky ? undefined : state.footerHeight"\n            ></div>\n          </div>\n          <div *ngIf="_hasRows && !!sidebarTemplate" [class]="_hasSideSticky ? \'\' : \'mbsc-timeline-sidebar-col\'"></div>\n        </div>\n      </div>\n\n      <ng-container *ngIf="_hasFooter">\n        <div [class]="\'mbsc-flex-none\'" [style.height.px]="_hasSticky ? undefined : state.footerHeight"></div>\n        <div #footerCont [class]="\'mbsc-timeline-footer mbsc-flex\' + _theme + _rtl + _hb">\n          <div\n            *ngIf="_hasRows"\n            [class]="\'mbsc-timeline-resource-footer-cont \' + _colClass + _theme + _rtl + _hb"\n            [style.width.px]="_hasResources ? _resourceWidth : undefined"\n          ></div>\n          <div\n            [class]="\'mbsc-timeline-footer-bg mbsc-flex-1-0 mbsc-flex\' + _theme"\n            [style.width.px]="state.hasScrollX ? this._gridWidth : undefined"\n          >\n            <div [style.width.px]="_phXStart" class="mbsc-flex-none"></div>\n            <div class="mbsc-flex-1-1 mbsc-overflow-hidden">\n              <div *ngIf="_isDailyResolution" class="mbsc-flex">\n                <ng-container *ngFor="let d of _virtualDays; trackBy: _getDayKey">\n                  <div\n                    *ngIf="d.dateKey !== _dragCol"\n                    [class]="\n                      \'mbsc-timeline-day mbsc-flex-1-0-0\' +\n                      _dayClass +\n                      _theme +\n                      _rtl +\n                      _hb +\n                      (d.dateIndex < _daysNr - 1 && (_stepCell < _oneDay || d.lastOfMonth) ? \' mbsc-timeline-day-border\' : \'\')\n                    "\n                  >\n                    <div class="mbsc-flex">\n                      <div *ngIf="d.phStart !== 0" [style.width.px]="d.phStart" class="mbsc-flex-none"></div>\n                      <div\n                        *ngFor="let v of d.times; trackBy: _getTimeKey"\n                        [ngStyle]="v.first && !v.last ? _startCellStyle! : v.last && !v.first ? _endCellStyle! : {}"\n                        [class]="\n                          \'mbsc-flex mbsc-flex-1-1 mbsc-timeline-column mbsc-timeline-footer-column\' +\n                          _colWidthClass +\n                          _theme +\n                          _rtl +\n                          _hb +\n                          (v.hidden ? \' mbsc-timeline-hidden\' : \'\') +\n                          (!_displayTime || _hasSlots ? \' mbsc-timeline-no-height\' : \'\') +\n                          (_stepLabel > _stepCell && _times[v.i + 1] % _stepLabel ? \' mbsc-timeline-no-border\' : \'\') +\n                          ((v.first && !v.last && _startCellStyle) || (v.last && !v.first && _endCellStyle) ? \' mbsc-flex-none\' : \'\')\n                        "\n                      >\n                        <ng-template\n                          *ngIf="_displayTime"\n                          [ngTemplateOutlet]="tplHourFooter"\n                          [ngTemplateOutletContext]="{ hour: d, timestamp: v.t }"\n                        ></ng-template>\n                        <ng-container *ngFor="let tb of _timesBetween; let j = index; trackBy: _getKey">\n                          <ng-template\n                            *ngIf="v.t + (j + 1) * _stepLabel > _startTime && v.t + (j + 1) * _stepLabel < _endTime"\n                            [ngTemplateOutlet]="tplHourFooter"\n                            [ngTemplateOutletContext]="{ hour: d, timestamp: v.t + (j + 1) * _stepLabel }"\n                          ></ng-template>\n                        </ng-container>\n                      </div>\n                      <div *ngIf="d.phEnd !== 0" [style.width.px]="d.phEnd" class="mbsc-flex-none"></div>\n                    </div>\n                    <div *ngIf="dayFooterTemplate" [class]="\'mbsc-timeline-footer-date\' + _theme + _rtl + _hb">\n                      <ng-template [ngTemplateOutlet]="tplDayFooter" [ngTemplateOutletContext]="{ day: d }"></ng-template>\n                    </div>\n                    <div *ngIf="_hasSlots" class="mbsc-flex">\n                      <div *ngFor="let slot of _slots; trackBy: _getId" [class]="\'mbsc-timeline-slot mbsc-flex-1-1\' + _rtl + _theme"></div>\n                    </div>\n                  </div>\n                </ng-container>\n              </div>\n              <div *ngIf="!_isDailyResolution" class="mbsc-flex">\n                <ng-container *ngFor="let d of _virtualDays; trackBy: _getDayKey">\n                  <div *ngIf="d.dateKey !== _dragCol" [class]="\'mbsc-timeline-day mbsc-flex-1-0-0\' + _colWidthClass + _theme + _rtl + _hb">\n                    <div [class]="\'mbsc-timeline-footer-week mbsc-timeline-footer-week-last\' + _theme + _rtl + _hb">\n                      <div [class]="\'mbsc-timeline-footer-week-text\' + _theme">\n                        <ng-container\n                          *ngIf="weekFooterTemplate || monthFooterTemplate || quarterFooterTemplate || yearFooterTemplate"\n                          [ngSwitch]="s.resolution"\n                        >\n                          <ng-template\n                            *ngSwitchCase="\'week\'"\n                            [ngTemplateOutlet]="tplWeekFooter"\n                            [ngTemplateOutletContext]="{ week: d }"\n                          ></ng-template>\n                          <ng-template\n                            *ngSwitchCase="\'month\'"\n                            [ngTemplateOutlet]="tplMonthFooter"\n                            [ngTemplateOutletContext]="{ month: d }"\n                          ></ng-template>\n                          <ng-template\n                            *ngSwitchCase="\'quarter\'"\n                            [ngTemplateOutlet]="tplQuarterFooter"\n                            [ngTemplateOutletContext]="{ quarter: d }"\n                          ></ng-template>\n                          <ng-template\n                            *ngSwitchCase="\'year\'"\n                            [ngTemplateOutlet]="tplYearFooter"\n                            [ngTemplateOutletContext]="{ year: d }"\n                          ></ng-template>\n                        </ng-container>\n                      </div>\n                    </div>\n                  </div>\n                </ng-container>\n              </div>\n            </div>\n            <div [style.width.px]="_phXEnd" class="mbsc-flex-none"></div>\n          </div>\n          <div\n            *ngIf="_hasRows && !!sidebarTemplate"\n            [class]="\'mbsc-timeline-sidebar-footer-cont mbsc-timeline-sidebar-col\' + _theme + _rtl + _hb"\n          ></div>\n        </div>\n      </ng-container>\n    </div>\n    <div\n      *ngIf="state.dragData && state.dragData.draggedResourceVisible && state.dragData.draggedResource"\n      #draggedResourceEl\n      [class]="\'mbsc-timeline-resource-dragged mbsc-flex mbsc-flex-1-1\' + _theme"\n    >\n      <ng-template\n        [ngTemplateOutlet]="tplResource"\n        [ngTemplateOutletContext]="{\n          res: state.dragData.draggedResource,\n          key: state.dragData.draggedResource.id,\n          day: _getOriginDate(state.dragData),\n          isDrag: true\n        }"\n      >\n      </ng-template>\n    </div>\n    <div *ngIf="state.dragData && !state.isTouchDrag" class="mbsc-calendar-dragging"></div>\n  '}]}],propDecorators:{vScrollCont:[{type:ViewChild,args:["scrollCont",{static:true,read:ElementRef}]}],vGridCont:[{type:ViewChild,args:["gridCont",{static:true,read:ElementRef}]}],vFooterCont:[{type:ViewChild,args:["footerCont",{static:false,read:ElementRef}]}],vHeaderCont:[{type:ViewChild,args:["headerCont",{static:true,read:ElementRef}]}],vResCont:[{type:ViewChild,args:["resCont",{static:false,read:ElementRef}]}],vSidebarCont:[{type:ViewChild,args:["sidebarCont",{static:false,read:ElementRef}]}],vStickyFooter:[{type:ViewChild,args:["stickyFooter",{static:false,read:ElementRef}]}],vStickyHeader:[{type:ViewChild,args:["stickyHeader",{static:false,read:ElementRef}]}],vStickyDate:[{type:ViewChild,args:["stickyDate",{static:false,read:ElementRef}]}],vStickyMonth:[{type:ViewChild,args:["stickyMonth",{static:false,read:ElementRef}]}],vStickyWeek:[{type:ViewChild,args:["stickyWeek",{static:false,read:ElementRef}]}],allDayText:[{type:Input}],amText:[{type:Input}],bufferAfterTemplate:[{type:Input}],bufferBeforeTemplate:[{type:Input}],checkSize:[{type:Input}],clickToCreate:[{type:Input}],colorsMap:[{type:Input}],connections:[{type:Input}],currentTimeIndicator:[{type:Input}],columnWidth:[{type:Input}],dateFormat:[{type:Input}],dateFormatFull:[{type:Input}],dateFormatLong:[{type:Input}],dataTimezone:[{type:Input}],dayNames:[{type:Input}],dayNamesMin:[{type:Input}],dayNamesShort:[{type:Input}],dayFooterTemplate:[{type:Input}],dayTemplate:[{type:Input}],dragIcon:[{type:Input}],monthTemplate:[{type:Input}],monthFooterTemplate:[{type:Input}],weekTemplate:[{type:Input}],weekFooterTemplate:[{type:Input}],yearTemplate:[{type:Input}],yearFooterTemplate:[{type:Input}],hourTemplate:[{type:Input}],hourFooterTemplate:[{type:Input}],displayTimezone:[{type:Input}],dragBetweenResources:[{type:Input}],dragBetweenSlots:[{type:Input}],dragInTime:[{type:Input}],dragTimeStep:[{type:Input}],dragToCreate:[{type:Input}],dragToMove:[{type:Input}],dragToResize:[{type:Input}],endDay:[{type:Input}],endTime:[{type:Input}],eventDragEnd:[{type:Input}],eventMap:[{type:Input}],eventContentTemplate:[{type:Input}],eventOrder:[{type:Input}],eventOverlap:[{type:Input}],eventTemplate:[{type:Input}],exclusiveEndDates:[{type:Input}],extendDefaultEvent:[{type:Input}],externalDrag:[{type:Input}],externalDrop:[{type:Input}],externalResourceDrag:[{type:Input}],externalResourceDrop:[{type:Input}],eventHeight:[{type:Input}],eventList:[{type:Input}],firstDay:[{type:Input}],fromText:[{type:Input}],getDay:[{type:Input}],getDate:[{type:Input}],getMaxDayOfMonth:[{type:Input}],getMonth:[{type:Input}],getWeekNumber:[{type:Input}],getYear:[{type:Input}],groupBy:[{type:Input}],height:[{type:Input}],immutableData:[{type:Input}],invalidateEvent:[{type:Input}],invalidsMap:[{type:Input}],maxDate:[{type:Input}],maxEventStack:[{type:Input}],minDate:[{type:Input}],moreEventsPluralText:[{type:Input}],moreEventsText:[{type:Input}],navigateToEvent:[{type:Input}],monthNames:[{type:Input}],monthNamesShort:[{type:Input}],navService:[{type:Input}],newEventText:[{type:Input}],nextIcon:[{type:Input}],nextIconRtl:[{type:Input}],downIcon:[{type:Input}],pmText:[{type:Input}],refDate:[{type:Input}],resolution:[{type:Input}],resolutionVertical:[{type:Input}],resources:[{type:Input}],resourceFooterTemplate:[{type:Input}],resourceHeaderTemplate:[{type:Input}],resourceReorder:[{type:Input}],resourceTemplate:[{type:Input}],resourceEmptyTemplate:[{type:Input}],rowHeight:[{type:Input}],scroll:[{type:Input}],selected:[{type:Input}],selectedEventsMap:[{type:Input}],showAllDay:[{type:Input}],showDays:[{type:Input}],showEventBuffer:[{type:Input}],showEventTooltip:[{type:Input}],sidebarFooterTemplate:[{type:Input}],sidebarHeaderTemplate:[{type:Input}],sidebarTemplate:[{type:Input}],size:[{type:Input}],slots:[{type:Input}],slotTemplate:[{type:Input}],startDay:[{type:Input}],startTime:[{type:Input}],quarterTemplate:[{type:Input}],quarterFooterTemplate:[{type:Input}],quarterText:[{type:Input}],timeCellStep:[{type:Input}],timeFormat:[{type:Input}],timeLabelStep:[{type:Input}],timezonePlugin:[{type:Input}],toText:[{type:Input}],type:[{type:Input}],virtualScroll:[{type:Input}],weekNumbers:[{type:Input}],weekText:[{type:Input}],width:[{type:Input}],zoomLevel:[{type:Input}],onActiveChange:[{type:Input}],onCellClick:[{type:Input}],onCellDoubleClick:[{type:Input}],onCellRightClick:[{type:Input}],onEventClick:[{type:Input}],onEventDoubleClick:[{type:Input}],onEventDragEnter:[{type:Input}],onEventDragLeave:[{type:Input}],onEventRightClick:[{type:Input}],onEventHoverIn:[{type:Input}],onEventHoverOut:[{type:Input}],onEventDelete:[{type:Input}],onEventDragEnd:[{type:Input}],onEventDragStart:[{type:Input}],onMoreClick:[{type:Input}],onPopoverClose:[{type:Input}],onResourceClick:[{type:Input}],onResourceDoubleClick:[{type:Input}],onResourceCollapse:[{type:Input}],onResourceCreate:[{type:Input}],onResourceCreated:[{type:Input}],onResourceDelete:[{type:Input}],onResourceDeleted:[{type:Input}],onResourceDragEnd:[{type:Input}],onResourceDragEnter:[{type:Input}],onResourceDragLeave:[{type:Input}],onResourceDragStart:[{type:Input}],onResourceExpand:[{type:Input}],onResourceOrderUpdate:[{type:Input}],onResourceRightClick:[{type:Input}],onWeekDayClick:[{type:Input}],onVirtualLoading:[{type:Input}],vDraggedResourceEl:[{type:ViewChild,args:["draggedResourceEl",{static:false,read:ElementRef}]}],vDraggedResvDraggedResourceLineElourceEl:[{type:ViewChild,args:["draggedResourceLineEl",{static:false,read:ElementRef}]}],vCursorTimeCont:[{type:ViewChild,args:["cursorTimeCont",{static:false,read:ElementRef}]}]}});var MbscEventListService=/*#__PURE__*/function(){function MbscEventListService(){}MbscEventListService.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscEventListService,deps:[],target:i0.ɵɵFactoryTarget.Injectable});MbscEventListService.ɵprov=i0.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscEventListService});return MbscEventListService}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscEventListService,decorators:[{type:Injectable}]});var MbscEventListDayDirective=/*#__PURE__*/function(){function MbscEventListDayDirective(_el,_els){this._el=_el;this._els=_els}MbscEventListDayDirective.prototype.ngAfterViewChecked=function(){if(this._els&&this._els.days&&!this._els.days[this.timestamp]){this._els.days[this.timestamp]=this._el.nativeElement}};MbscEventListDayDirective.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscEventListDayDirective,deps:[{token:i0.ElementRef},{token:MbscEventListService,optional:true}],target:i0.ɵɵFactoryTarget.Directive});MbscEventListDayDirective.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:MbscEventListDayDirective,selector:"[mbsc-event-list-day]",inputs:{timestamp:"timestamp"},ngImport:i0});return MbscEventListDayDirective}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscEventListDayDirective,decorators:[{type:Directive,args:[{selector:"[mbsc-event-list-day]"}]}],ctorParameters:function(){return[{type:i0.ElementRef},{type:MbscEventListService,decorators:[{type:Optional}]}]},propDecorators:{timestamp:[{type:Input}]}});var MbscEventListItem=/*#__PURE__*/function(_super){__extends(MbscEventListItem,_super);function MbscEventListItem(){return _super!==null&&_super.apply(this,arguments)||this}MbscEventListItem.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscEventListItem,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscEventListItem.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscEventListItem,selector:"mbsc-event-list-item",inputs:{date:"date",eventData:"eventData",hasDate:"hasDate",selected:"selected",showColor:"showColor",source:"source",template:"template",eventContentTemplate:"eventContentTemplate"},host:{attributes:{tabindex:"0"},properties:{"attr.data-id":"eventData.original.id",class:'(showColor ? "" : "mbsc-colored-event ") + _cssClass',"style.background":'showColor ? "" : eventData.style.background',"style.color":'showColor ? "" : eventData.style.color'}},usesInheritance:true,ngImport:i0,template:'\n    <ng-template #def>\n      <div *ngIf="showColor" [class]="\'mbsc-event-color\' + _theme + _rtl" [ngStyle]="eventData.style"></div>\n      <div [class]="\'mbsc-event-content mbsc-flex-1-1 \' + _theme">\n        <ng-template\n          [ngTemplateOutlet]="eventContentTemplate || defaultEventContent"\n          [ngTemplateOutletContext]="{ $implicit: eventData }"\n        ></ng-template>\n      </div>\n      <div [class]="\'mbsc-event-time\' + (hasDate ? \' mbsc-event-date\' : \'\') + _theme + _rtl">\n        <div *ngIf="eventData.allDayText" [class]="\'mbsc-event-all-day\' + _theme">{{ eventData.allDayText }}</div>\n        <div *ngIf="eventData.lastDay" [class]="\'mbsc-event-until\' + _theme">{{ eventData.lastDay }}</div>\n        <div *ngIf="eventData.start" [class]="\'mbsc-event-start\' + _theme">{{ eventData.start }}</div>\n        <div *ngIf="eventData.start && eventData.end" [class]="\'mbsc-event-sep\' + _theme">-</div>\n        <div *ngIf="eventData.end" [class]="\'mbsc-event-end\' + _theme">{{ eventData.end }}</div>\n      </div>\n    </ng-template>\n    <ng-template #defaultEventContent>\n      <div [class]="\'mbsc-event-text\' + _theme" [attr.title]="eventData.tooltip" [innerHTML]="eventData.html"></div>\n    </ng-template>\n    <ng-template [ngTemplateOutlet]="template || def" [ngTemplateOutletContext]="{ $implicit: eventData }"></ng-template>\n    <div [class]="\'mbsc-list-item-background\' + _theme"></div>\n  ',isInline:true,directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]},{type:i1$1.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush});return MbscEventListItem}(MbscListItem);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscEventListItem,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,host:{"[attr.data-id]":"eventData.original.id","[class]":'(showColor ? "" : "mbsc-colored-event ") + _cssClass',"[style.background]":'showColor ? "" : eventData.style.background',"[style.color]":'showColor ? "" : eventData.style.color',tabindex:"0"},selector:"mbsc-event-list-item",template:'\n    <ng-template #def>\n      <div *ngIf="showColor" [class]="\'mbsc-event-color\' + _theme + _rtl" [ngStyle]="eventData.style"></div>\n      <div [class]="\'mbsc-event-content mbsc-flex-1-1 \' + _theme">\n        <ng-template\n          [ngTemplateOutlet]="eventContentTemplate || defaultEventContent"\n          [ngTemplateOutletContext]="{ $implicit: eventData }"\n        ></ng-template>\n      </div>\n      <div [class]="\'mbsc-event-time\' + (hasDate ? \' mbsc-event-date\' : \'\') + _theme + _rtl">\n        <div *ngIf="eventData.allDayText" [class]="\'mbsc-event-all-day\' + _theme">{{ eventData.allDayText }}</div>\n        <div *ngIf="eventData.lastDay" [class]="\'mbsc-event-until\' + _theme">{{ eventData.lastDay }}</div>\n        <div *ngIf="eventData.start" [class]="\'mbsc-event-start\' + _theme">{{ eventData.start }}</div>\n        <div *ngIf="eventData.start && eventData.end" [class]="\'mbsc-event-sep\' + _theme">-</div>\n        <div *ngIf="eventData.end" [class]="\'mbsc-event-end\' + _theme">{{ eventData.end }}</div>\n      </div>\n    </ng-template>\n    <ng-template #defaultEventContent>\n      <div [class]="\'mbsc-event-text\' + _theme" [attr.title]="eventData.tooltip" [innerHTML]="eventData.html"></div>\n    </ng-template>\n    <ng-template [ngTemplateOutlet]="template || def" [ngTemplateOutletContext]="{ $implicit: eventData }"></ng-template>\n    <div [class]="\'mbsc-list-item-background\' + _theme"></div>\n  '}]}],propDecorators:{date:[{type:Input}],eventData:[{type:Input}],hasDate:[{type:Input}],selected:[{type:Input}],showColor:[{type:Input}],source:[{type:Input}],template:[{type:Input}],eventContentTemplate:[{type:Input}]}});var MbscEventcalendar=/*#__PURE__*/function(_super){__extends(MbscEventcalendar,_super);function MbscEventcalendar(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.selectedDateChange=new EventEmitter;_this.selectedEventsChange=new EventEmitter;_this.onCellClick=new EventEmitter;_this.onCellDoubleClick=new EventEmitter;_this.onCellRightClick=new EventEmitter;_this.onCellHoverIn=new EventEmitter;_this.onCellHoverOut=new EventEmitter;_this.onEventClick=new EventEmitter;_this.onEventDoubleClick=new EventEmitter;_this.onEventRightClick=new EventEmitter;_this.onEventHoverIn=new EventEmitter;_this.onEventHoverOut=new EventEmitter;_this.onEventCreate=new EventEmitter;_this.onEventCreated=new EventEmitter;_this.onEventDelete=new EventEmitter;_this.onEventDeleted=new EventEmitter;_this.onEventDragEnd=new EventEmitter;_this.onEventDragStart=new EventEmitter;_this.onEventUpdate=new EventEmitter;_this.onEventUpdated=new EventEmitter;_this.onEventCreateFailed=new EventEmitter;_this.onEventUpdateFailed=new EventEmitter;_this.onEventDragEnter=new EventEmitter;_this.onEventDragLeave=new EventEmitter;_this.onLabelClick=new EventEmitter;_this.onSelectedEventsChange=new EventEmitter;_this.onPageChange=new EventEmitter;_this.onPageLoaded=new EventEmitter;_this.onPageLoading=new EventEmitter;_this.onResourceClick=new EventEmitter;_this.onResourceCollapse=new EventEmitter;_this.onResourceDoubleClick=new EventEmitter;_this.onResourceExpand=new EventEmitter;_this.onResourceDragStart=new EventEmitter;_this.onResourceCreate=new EventEmitter;_this.onResourceCreated=new EventEmitter;_this.onResourceDelete=new EventEmitter;_this.onResourceDeleted=new EventEmitter;_this.onResourceDragEnd=new EventEmitter;_this.onResourceDragEnter=new EventEmitter;_this.onResourceDragLeave=new EventEmitter;_this.onResourceRightClick=new EventEmitter;_this.onResourceOrderUpdate=new EventEmitter;_this.onSelectedDateChange=new EventEmitter;_this.onVirtualLoading=new EventEmitter;_this._hours=ARRAY24;return _this}MbscEventcalendar.prototype._getDayKey=function(index,data){return data.timestamp};MbscEventcalendar.prototype._getEventKey=function(index,data){return data.uid};MbscEventcalendar.prototype._ctor=function(){this._els=this._injector.get(MbscEventListService);this._instanceService=this._injector.get(MbscInstanceService)};MbscEventcalendar.prototype._mounted=function(){this._instanceService.instance=this;_super.prototype._mounted.call(this)};MbscEventcalendar.prototype._render=function(s,state){if(!this._listDays){this._listDays={};this._els.days=this._listDays}_super.prototype._render.call(this,s,state)};MbscEventcalendar.prototype._updated=function(){this._list=this.vList&&this.vList.nativeElement;_super.prototype._updated.call(this)};MbscEventcalendar.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscEventcalendar,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscEventcalendar.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscEventcalendar,selector:"mbsc-eventcalendar",inputs:{actionableEvents:"actionableEvents",agendaEmptyTemplate:"agendaEmptyTemplate",agendaTemplate:"agendaTemplate",bufferAfterTemplate:"bufferAfterTemplate",bufferBeforeTemplate:"bufferBeforeTemplate",calendarSystem:"calendarSystem",clickToCreate:"clickToCreate",colors:"colors",connections:"connections",data:"data",dayTemplate:"dayTemplate",dayContentTemplate:"dayContentTemplate",dayFooterTemplate:"dayFooterTemplate",dataTimezone:"dataTimezone",displayTimezone:"displayTimezone",dragBetweenResources:"dragBetweenResources",dragBetweenSlots:"dragBetweenSlots",dragInTime:"dragInTime",dragTimeStep:"dragTimeStep",dragToCreate:"dragToCreate",dragToResize:"dragToResize",dragToMove:"dragToMove",eventContentTemplate:"eventContentTemplate",eventDelete:"eventDelete",eventOrder:"eventOrder",eventOverlap:"eventOverlap",eventTemplate:"eventTemplate",exclusiveEndDates:"exclusiveEndDates",extendDefaultEvent:"extendDefaultEvent",externalDrag:"externalDrag",externalDrop:"externalDrop",externalResourceDrag:"externalResourceDrag",externalResourceDrop:"externalResourceDrop",groupBy:"groupBy",headerTemplate:"headerTemplate",height:"height",hourTemplate:"hourTemplate",hourFooterTemplate:"hourFooterTemplate",immutableData:"immutableData",invalid:"invalid",invalidateEvent:"invalidateEvent",labelContentTemplate:"labelContentTemplate",labels:"labels",labelTemplate:"labelTemplate",marked:"marked",max:"max",min:"min",mousewheel:"mousewheel",monthTemplate:"monthTemplate",monthFooterTemplate:"monthFooterTemplate",refDate:"refDate",resources:"resources",resourceHeaderTemplate:"resourceHeaderTemplate",resourceFooterTemplate:"resourceFooterTemplate",resourceTemplate:"resourceTemplate",resourceEmptyTemplate:"resourceEmptyTemplate",slots:"slots",slotTemplate:"slotTemplate",scheduleEventContentTemplate:"scheduleEventContentTemplate",scheduleEventTemplate:"scheduleEventTemplate",selectedDate:"selectedDate",selectedEvents:"selectedEvents",selectMultipleEvents:"selectMultipleEvents",showControls:"showControls",showEventBuffer:"showEventBuffer",showEventTooltip:"showEventTooltip",sidebarFooterTemplate:"sidebarFooterTemplate",sidebarHeaderTemplate:"sidebarHeaderTemplate",sidebarTemplate:"sidebarTemplate",quarterTemplate:"quarterTemplate",quarterFooterTemplate:"quarterFooterTemplate",quarterText:"quarterText",valid:"valid",view:"view",width:"width",weekTemplate:"weekTemplate",weekFooterTemplate:"weekFooterTemplate",yearTemplate:"yearTemplate",yearFooterTemplate:"yearFooterTemplate",zoomLevel:"zoomLevel",allDayText:"allDayText",amText:"amText",dateFormat:"dateFormat",dateFormatFull:"dateFormatFull",dateFormatLong:"dateFormatLong",dayNames:"dayNames",dayNamesMin:"dayNamesMin",dayNamesShort:"dayNamesShort",eventsText:"eventsText",eventText:"eventText",firstDay:"firstDay",monthNames:"monthNames",monthNamesShort:"monthNamesShort",moreEventsPluralText:"moreEventsPluralText",moreEventsText:"moreEventsText",newEventText:"newEventText",nextPageText:"nextPageText",noEventsText:"noEventsText",pmText:"pmText",prevPageText:"prevPageText",timeFormat:"timeFormat",timezonePlugin:"timezonePlugin"},outputs:{selectedDateChange:"selectedDateChange",selectedEventsChange:"selectedEventsChange",onCellClick:"onCellClick",onCellDoubleClick:"onCellDoubleClick",onCellRightClick:"onCellRightClick",onCellHoverIn:"onCellHoverIn",onCellHoverOut:"onCellHoverOut",onEventClick:"onEventClick",onEventDoubleClick:"onEventDoubleClick",onEventRightClick:"onEventRightClick",onEventHoverIn:"onEventHoverIn",onEventHoverOut:"onEventHoverOut",onEventCreate:"onEventCreate",onEventCreated:"onEventCreated",onEventDelete:"onEventDelete",onEventDeleted:"onEventDeleted",onEventDragEnd:"onEventDragEnd",onEventDragStart:"onEventDragStart",onEventUpdate:"onEventUpdate",onEventUpdated:"onEventUpdated",onEventCreateFailed:"onEventCreateFailed",onEventUpdateFailed:"onEventUpdateFailed",onEventDragEnter:"onEventDragEnter",onEventDragLeave:"onEventDragLeave",onLabelClick:"onLabelClick",onSelectedEventsChange:"onSelectedEventsChange",onPageChange:"onPageChange",onPageLoaded:"onPageLoaded",onPageLoading:"onPageLoading",onResourceClick:"onResourceClick",onResourceCollapse:"onResourceCollapse",onResourceDoubleClick:"onResourceDoubleClick",onResourceExpand:"onResourceExpand",onResourceDragStart:"onResourceDragStart",onResourceCreate:"onResourceCreate",onResourceCreated:"onResourceCreated",onResourceDelete:"onResourceDelete",onResourceDeleted:"onResourceDeleted",onResourceDragEnd:"onResourceDragEnd",onResourceDragEnter:"onResourceDragEnter",onResourceDragLeave:"onResourceDragLeave",onResourceRightClick:"onResourceRightClick",onResourceOrderUpdate:"onResourceOrderUpdate",onSelectedDateChange:"onSelectedDateChange",onVirtualLoading:"onVirtualLoading"},providers:[MbscEventListService,MbscInstanceService],viewQueries:[{propertyName:"vList",first:true,predicate:["list"],descendants:true,read:ElementRef},{propertyName:"_calendarView",first:true,predicate:["calendar"],descendants:true,static:true}],usesInheritance:true,ngImport:i0,template:'\n    <mbsc-calendar-view\n      #calendar\n      [activeDate]="_active"\n      [amText]="s.amText"\n      [calendarScroll]="_calendarScroll"\n      [calendarType]="_calendarType"\n      [clickToCreate]="s.clickToCreate"\n      [colors]="s.colors"\n      [context]="s.context"\n      [cssClass]="_cssClass"\n      [dataTimezone]="s.dataTimezone"\n      [dayTemplate]="dayTemplate"\n      [dayContentTemplate]="dayContentTemplate"\n      [displayTimezone]="s.displayTimezone"\n      [downIcon]="s.downIcon"\n      [dragData]="state.labelDragData"\n      [dragToCreate]="s.dragToCreate"\n      [dragToMove]="s.dragToMove || s.externalDrag"\n      [dragToResize]="s.dragToResize"\n      [endDay]="_rangeEndDay"\n      [eventExact]="_eventExact"\n      [eventMap]="_eventMap"\n      [eventOrder]="s.eventOrder"\n      [eventRange]="_rangeType"\n      [eventRangeSize]="_showSchedule ? _scheduleSize : _showTimeline ? _timelineSize : _eventListSize"\n      [exclusiveEndDates]="s.exclusiveEndDates"\n      [hasContent]="_showEventList || _showSchedule || _showTimeline"\n      [hasPicker]="true"\n      [headerTemplate]="headerTemplate"\n      [height]="s.height"\n      [invalid]="s.invalid"\n      [instanceService]="_instanceService"\n      [labels]="s.labels"\n      [labelsMap]="_labelsMap"\n      [labelList]="_calendarLabelList"\n      [labelTemplate]="labelTemplate"\n      [labelContentTemplate]="labelContentTemplate"\n      [marked]="s.marked"\n      [marksMap]="_marksMap"\n      [max]="s.max"\n      [min]="s.min"\n      [mouseSwipe]="(!s.dragToCreate && s.clickToCreate !== \'single\') || (!_showEventLabels && !_showEventCount)"\n      [mousewheel]="s.mousewheel"\n      [navService]="_navService"\n      [navView]="_navView"\n      [nextIconH]="s.nextIconH"\n      [nextIconV]="s.nextIconV"\n      [nextPageText]="s.nextPageText"\n      [noOuterChange]="!_showEventList"\n      [onActiveChange]="_onActiveChange"\n      [onCellHoverIn]="_onCellHoverIn"\n      [onCellHoverOut]="_onCellHoverOut"\n      [onDayClick]="_onDayClick"\n      [onDayDoubleClick]="_onDayDoubleClick"\n      [onDayRightClick]="_onDayRightClick"\n      [onGestureStart]="_onGestureStart"\n      [onLabelClick]="_onLabelClick"\n      [onLabelDoubleClick]="_onLabelDoubleClick"\n      [onLabelRightClick]="_onLabelRightClick"\n      [onLabelHoverIn]="_onLabelHoverIn"\n      [onLabelHoverOut]="_onLabelHoverOut"\n      [onLabelDelete]="_onEventDelete"\n      [onLabelUpdateStart]="_onLabelUpdateStart"\n      [onLabelUpdateMove]="_onLabelUpdateMove"\n      [onLabelUpdateEnd]="_onLabelUpdateEnd"\n      [onLabelUpdateModeOn]="_onLabelUpdateModeOn"\n      [onLabelUpdateModeOff]="_onLabelUpdateModeOff"\n      [onPageChange]="_onPageChange"\n      [onPageLoaded]="_onPageLoaded"\n      [onPageLoading]="_onPageLoading"\n      [onResize]="_onResize"\n      [pageLoad]="_pageLoad"\n      [pmText]="s.pmText"\n      [prevIconH]="s.prevIconH"\n      [prevIconV]="s.prevIconV"\n      [prevPageText]="s.prevPageText"\n      [refDate]="_refDate"\n      [resourcesMap]="_resourcesMap"\n      [responsiveStyle]="true"\n      [rtl]="s.rtl"\n      [selectedDates]="_selectedDates"\n      [selectedEventsMap]="_selectedEventsMap"\n      selectView="page"\n      [showCalendar]="_showCalendar"\n      [showControls]="s.showControls"\n      [showEventTooltip]="s.showEventTooltip"\n      [showLabelCount]="_showEventCount"\n      [showOuterDays]="_showOuterDays"\n      [showSchedule]="_showSchedule || _showTimeline"\n      [showToday]="s.showToday"\n      [showWeekNumbers]="_showWeekNumbers"\n      [size]="_calendarSize"\n      [startDay]="_rangeStartDay"\n      [swipe]="!state.isTouchDrag"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [timeFormat]="s.timeFormat"\n      [timezonePlugin]="s.timezonePlugin"\n      [update]="_update"\n      [upIcon]="s.upIcon"\n      [valid]="s.valid"\n      [weeks]="_calendarSize"\n      [width]="s.width"\n      [getDate]="s.getDate"\n      [getDay]="s.getDay"\n      [getMaxDayOfMonth]="s.getMaxDayOfMonth"\n      [getMonth]="s.getMonth"\n      [getWeekNumber]="s.getWeekNumber"\n      [getYear]="s.getYear"\n      [dateFormat]="s.dateFormat"\n      [dayNames]="s.dayNames"\n      [dayNamesMin]="s.dayNamesMin"\n      [dayNamesShort]="s.dayNamesShort"\n      [eventText]="s.eventText"\n      [eventsText]="s.eventsText"\n      [firstDay]="s.firstDay"\n      [fromText]="s.fromText"\n      [monthNames]="s.monthNames"\n      [monthNamesShort]="s.monthNamesShort"\n      [moreEventsPluralText]="s.moreEventsPluralText"\n      [moreEventsText]="s.moreEventsText"\n      [todayText]="s.todayText"\n      [toText]="s.toText"\n      [weekText]="s.weekText"\n      [yearSuffix]="s.yearSuffix"\n    >\n      <div *ngIf="_showDate" [class]="\'mbsc-schedule-date-header mbsc-flex\' + _theme + _hb">\n        <div *ngIf="_showSchedule && !_showCalendar && s.resources" class="mbsc-schedule-time-col"></div>\n        <div [class]="\'mbsc-schedule-date-header-text mbsc-flex-1-1\' + _theme">{{ _selectedDateHeader }}</div>\n        <div *ngIf="_showSchedule && !_showCalendar && s.resources" class="mbsc-schedule-fake-scroll-y"></div>\n      </div>\n      <div\n        *ngIf="_showEventList"\n        [class]="\'mbsc-flex-1-1 mbsc-event-list\' + (state.isListScrollable ? \' mbsc-event-list-scroll\' : \'\')"\n        (scroll)="_onScroll()"\n        #list\n      >\n        <ng-template #def let-data>\n          <mbsc-list [rtl]="s.rtl" [theme]="s.theme" [themeVariant]="s.themeVariant">\n            <div *ngIf="!_eventListNr && !_showEmptyDays" [class]="!agendaEmptyTemplate ? \'mbsc-event-list-empty\' + _theme : \'\'">\n              <ng-template #noEventsText>\n                {{ s.noEventsText }}\n              </ng-template>\n              <ng-container [ngTemplateOutlet]="agendaEmptyTemplate || noEventsText"></ng-container>\n            </div>\n            <ng-container *ngIf="_eventListNr || _showEmptyDays">\n              <div\n                *ngFor="let day of data; trackBy: _getDayKey"\n                mbsc-event-list-day\n                [class]="\'mbsc-event-group\' + (day.events.length || _showEmptyDays ? \'\' : \' mbsc-event-group-empty\') + _theme"\n                [timestamp]="day.timestamp"\n              >\n                <mbsc-list-header\n                  *ngIf="_showEmptyDays || day.events.length"\n                  class="mbsc-event-day"\n                  [theme]="s.theme"\n                  [themeVariant]="s.themeVariant"\n                >\n                  <ng-container\n                    [ngTemplateOutlet]="dayTemplate || default"\n                    [ngTemplateOutletContext]="{ $implicit: { date: day.dateObj, events: day.events } }"\n                  >\n                  </ng-container>\n                  <ng-template #default>{{ day.date }}</ng-template>\n                </mbsc-list-header>\n                <mbsc-event-list-item\n                  *ngFor="let event of day.events; trackBy: _getEventKey"\n                  [actionable]="s.actionableEvents"\n                  [cssClass]="event.original!.cssClass"\n                  class="mbsc-event"\n                  [date]="day.timestamp"\n                  [event]="event.original"\n                  [eventContentTemplate]="eventContentTemplate"\n                  [eventData]="event"\n                  [rtl]="s.rtl"\n                  [selected]="!!(_selectedEventsMap[event.uid!] || _selectedEventsMap[event.id])"\n                  [showColor]="!_colorEventList"\n                  source="agenda"\n                  [template]="eventTemplate"\n                  [theme]="s.theme"\n                  [themeVariant]="s.themeVariant"\n                  (onHoverIn)="_onEventHoverIn($event)"\n                  (onHoverOut)="_onEventHoverOut($event)"\n                  (onClick)="_onEventClick($event)"\n                  (onDoubleClick)="_onEventDoubleClick($event)"\n                  (onRightClick)="_onEventRightClick($event)"\n                >\n                </mbsc-event-list-item>\n              </div>\n            </ng-container>\n          </mbsc-list>\n        </ng-template>\n        <ng-container [ngTemplateOutlet]="agendaTemplate || def" [ngTemplateOutletContext]="{ $implicit: state.eventList }"></ng-container>\n      </div>\n\n      <mbsc-scheduler\n        *ngIf="_showSchedule"\n        [allDayText]="s.allDayText"\n        [amText]="s.amText"\n        [bufferAfterTemplate]="bufferAfterTemplate"\n        [bufferBeforeTemplate]="bufferBeforeTemplate"\n        [checkSize]="_checkSize"\n        [clickToCreate]="s.clickToCreate"\n        [colorsMap]="_colorsMap"\n        [context]="s.context"\n        [currentTimeIndicator]="_currentTimeIndicator"\n        [dataTimezone]="s.dataTimezone"\n        [dateFormat]="s.dateFormat"\n        [dateFormatFull]="s.dateFormatFull"\n        [dateFormatLong]="s.dateFormatLong"\n        [dayNames]="s.dayNames"\n        [dayNamesMin]="s.dayNamesMin"\n        [dayNamesShort]="s.dayNamesShort"\n        [dayTemplate]="dayTemplate"\n        [dayContentTemplate]="dayContentTemplate"\n        [displayTimezone]="s.displayTimezone"\n        [dragBetweenResources]="s.dragBetweenResources"\n        [dragInTime]="s.dragInTime"\n        [dragTimeStep]="_dragTimeStep"\n        [dragToCreate]="s.dragToCreate"\n        [dragToMove]="s.dragToMove"\n        [dragToResize]="s.dragToResize"\n        [endDay]="_scheduleEndDay"\n        [endTime]="_scheduleEndTime"\n        [eventContentTemplate]="scheduleEventContentTemplate"\n        [eventDragEnd]="_onEventDragStop"\n        [eventMap]="_eventMap"\n        [eventOrder]="s.eventOrder"\n        [eventOverlap]="s.eventOverlap"\n        [eventTemplate]="scheduleEventTemplate"\n        [exclusiveEndDates]="s.exclusiveEndDates"\n        [extendDefaultEvent]="s.extendDefaultEvent"\n        [externalDrag]="s.externalDrag"\n        [externalDrop]="s.externalDrop"\n        [firstDay]="s.firstDay"\n        [fromText]="s.fromText"\n        [getDay]="s.getDay"\n        [getDate]="s.getDate"\n        [getMaxDayOfMonth]="s.getMaxDayOfMonth"\n        [getMonth]="s.getMonth"\n        [getYear]="s.getYear"\n        [getWeekNumber]="s.getWeekNumber"\n        [groupBy]="s.groupBy"\n        [height]="state.height"\n        [immutableData]="s.immutableData"\n        [invalidateEvent]="s.invalidateEvent"\n        [invalidsMap]="_invalidsMap"\n        [maxDate]="s.max"\n        [maxEventStack]="_scheduleMaxEventStack"\n        [minEventWidth]="_scheduleMinEventWidth"\n        [moreEventsPluralText]="s.moreEventsPluralText"\n        [moreEventsText]="s.moreEventsText"\n        [navigateToEvent]="_navigateToEvent"\n        [minDate]="s.min"\n        [monthNames]="s.monthNames"\n        [monthNamesShort]="s.monthNamesShort"\n        [navService]="_navService"\n        [newEventText]="s.newEventText"\n        [pmText]="s.pmText"\n        [refDate]="_refDate"\n        [resources]="s.resources"\n        [resourceTemplate]="resourceTemplate"\n        [rtl]="s.rtl"\n        [scroll]="_shouldScrollSchedule"\n        [selected]="_selectedDateTime"\n        [selectedEventsMap]="_selectedEventsMap"\n        [showAllDay]="_showScheduleAllDay"\n        [showDays]="_showScheduleDays"\n        [showEventBuffer]="s.showEventBuffer"\n        [showEventTooltip]="s.showEventTooltip"\n        [size]="_scheduleSize"\n        [startDay]="_scheduleStartDay"\n        [startTime]="_scheduleStartTime"\n        [timeCellStep]="_scheduleTimeCellStep"\n        [timeFormat]="s.timeFormat"\n        [timeLabelStep]="_scheduleTimeLabelStep"\n        [timezonePlugin]="s.timezonePlugin"\n        [timezones]="_scheduleTimezones"\n        [theme]="s.theme"\n        [themeVariant]="s.themeVariant"\n        [toText]="s.toText"\n        [type]="_scheduleType"\n        [width]="state.width"\n        [onCellClick]="_onCellClick"\n        [onCellDoubleClick]="_onCellDoubleClick"\n        [onCellRightClick]="_onCellRightClick"\n        [onEventClick]="_onEventClick"\n        [onEventDoubleClick]="_onEventDoubleClick"\n        [onEventRightClick]="_onEventRightClick"\n        [onEventHoverIn]="_onEventHoverIn"\n        [onEventHoverOut]="_onEventHoverOut"\n        [onEventDelete]="_onEventDelete"\n        [onEventDragEnd]="_onEventDragEnd"\n        [onEventDragStart]="_onEventDragStart"\n        [onEventDragEnter]="_onEventDragEnter"\n        [onEventDragLeave]="_onEventDragLeave"\n        [onMoreClick]="_onMoreClick"\n        [onPopoverClose]="_onPopoverClose"\n        [onResourceClick]="_proxy"\n        [onResourceDoubleClick]="_proxy"\n        [onResourceRightClick]="_proxy"\n        [onWeekDayClick]="_onWeekDayClick"\n      >\n      </mbsc-scheduler>\n\n      <mbsc-timeline\n        *ngIf="_showTimeline"\n        [allDayText]="s.allDayText"\n        [amText]="s.amText"\n        [bufferAfterTemplate]="bufferAfterTemplate"\n        [bufferBeforeTemplate]="bufferBeforeTemplate"\n        [checkSize]="_checkSize"\n        [clickToCreate]="s.clickToCreate"\n        [colorsMap]="_colorsMap"\n        [connections]="s.connections"\n        [context]="s.context"\n        [currentTimeIndicator]="_currentTimeIndicator"\n        [columnWidth]="_timelineColWidth"\n        [dataTimezone]="s.dataTimezone"\n        [dateFormat]="s.dateFormat"\n        [dateFormatFull]="s.dateFormatFull"\n        [dateFormatLong]="s.dateFormatLong"\n        [dayNames]="s.dayNames"\n        [dayNamesMin]="s.dayNamesMin"\n        [dayNamesShort]="s.dayNamesShort"\n        [dayFooterTemplate]="dayFooterTemplate"\n        [dayTemplate]="dayTemplate"\n        [weekTemplate]="weekTemplate"\n        [weekFooterTemplate]="weekFooterTemplate"\n        [yearTemplate]="yearTemplate"\n        [yearFooterTemplate]="yearFooterTemplate"\n        [hourTemplate]="hourTemplate"\n        [hourFooterTemplate]="hourFooterTemplate"\n        [monthTemplate]="monthTemplate"\n        [monthFooterTemplate]="monthFooterTemplate"\n        [displayTimezone]="s.displayTimezone"\n        [dragBetweenResources]="s.dragBetweenResources"\n        [dragBetweenSlots]="s.dragBetweenSlots"\n        [dragIcon]="s.dragIcon"\n        [dragInTime]="s.dragInTime"\n        [dragTimeStep]="_dragTimeStep"\n        [dragToCreate]="slots ? false : s.dragToCreate"\n        [dragToMove]="s.dragToMove"\n        [dragToResize]="slots ? false : s.dragToResize"\n        [downIcon]="s.chevronIconDown"\n        [endDay]="_timelineEndDay"\n        [endTime]="_timelineEndTime"\n        [eventHeight]="_timelineEventHeight"\n        [eventList]="_timelineListing"\n        [eventDragEnd]="_onEventDragStop"\n        [eventContentTemplate]="scheduleEventContentTemplate"\n        [eventMap]="_eventMap"\n        [eventOrder]="s.eventOrder"\n        [eventOverlap]="s.eventOverlap"\n        [eventTemplate]="scheduleEventTemplate"\n        [exclusiveEndDates]="s.exclusiveEndDates"\n        [extendDefaultEvent]="s.extendDefaultEvent"\n        [externalDrag]="s.externalDrag"\n        [externalDrop]="s.externalDrop"\n        [externalResourceDrag]="s.externalResourceDrag"\n        [externalResourceDrop]="s.externalResourceDrop"\n        [firstDay]="s.firstDay"\n        [fromText]="s.fromText"\n        [getDay]="s.getDay"\n        [getDate]="s.getDate"\n        [getMaxDayOfMonth]="s.getMaxDayOfMonth"\n        [getMonth]="s.getMonth"\n        [getWeekNumber]="s.getWeekNumber"\n        [getYear]="s.getYear"\n        [groupBy]="s.groupBy"\n        [height]="state.height"\n        [immutableData]="s.immutableData"\n        [invalidateEvent]="s.invalidateEvent"\n        [invalidsMap]="_invalidsMap"\n        [maxDate]="s.max"\n        [maxEventStack]="_timelineMaxEventStack"\n        [minDate]="s.min"\n        [moreEventsPluralText]="s.moreEventsPluralText"\n        [moreEventsText]="s.moreEventsText"\n        [navigateToEvent]="_navigateToEvent"\n        [monthNames]="s.monthNames"\n        [monthNamesShort]="s.monthNamesShort"\n        [navService]="_navService"\n        [newEventText]="s.newEventText"\n        [nextIcon]="s.nextIconH"\n        [nextIconRtl]="s.prevIconH"\n        [pmText]="s.pmText"\n        [refDate]="_refDate"\n        [resolution]="_timelineResolution"\n        [resolutionVertical]="_timelineResolutionVertical"\n        [resources]="s.resources"\n        [resourceFooterTemplate]="resourceFooterTemplate"\n        [resourceHeaderTemplate]="resourceHeaderTemplate"\n        [resourceReorder]="_timelineResourceOrder"\n        [resourceTemplate]="resourceTemplate"\n        [resourceEmptyTemplate]="resourceEmptyTemplate"\n        [rtl]="s.rtl"\n        [rowHeight]="_timelineRowHeight"\n        [scroll]="_shouldScrollSchedule"\n        [showEventBuffer]="s.showEventBuffer"\n        [showEventTooltip]="s.showEventTooltip"\n        [slots]="s.slots"\n        [slotTemplate]="slotTemplate"\n        [selected]="_selectedDateTime"\n        [selectedEventsMap]="_selectedEventsMap"\n        [sidebarFooterTemplate]="sidebarFooterTemplate"\n        [sidebarHeaderTemplate]="sidebarHeaderTemplate"\n        [sidebarTemplate]="sidebarTemplate"\n        [size]="_timelineSize"\n        [startDay]="_timelineStartDay"\n        [startTime]="_timelineStartTime"\n        [quarterFooterTemplate]="quarterFooterTemplate"\n        [quarterTemplate]="quarterTemplate"\n        [quarterText]="s.quarterText"\n        [timeCellStep]="_timelineTimeCellStep"\n        [timeFormat]="s.timeFormat"\n        [timeLabelStep]="_timelineTimeLabelStep"\n        [timezonePlugin]="s.timezonePlugin"\n        [theme]="s.theme"\n        [themeVariant]="s.themeVariant"\n        [toText]="s.toText"\n        [type]="_timelineType"\n        [virtualScroll]="!_print && _timelineVirtualScroll"\n        [weekNumbers]="_showTimelineWeekNumbers"\n        [weekText]="s.weekText"\n        [width]="state.width"\n        [onActiveChange]="_onActiveChange"\n        [onCellClick]="_onCellClick"\n        [onCellDoubleClick]="_onCellDoubleClick"\n        [onCellRightClick]="_onCellRightClick"\n        [onEventClick]="_onEventClick"\n        [onEventDoubleClick]="_onEventDoubleClick"\n        [onEventRightClick]="_onEventRightClick"\n        [onEventHoverIn]="_onEventHoverIn"\n        [onEventHoverOut]="_onEventHoverOut"\n        [onEventDelete]="_onEventDelete"\n        [onEventDragEnd]="_onEventDragEnd"\n        [onEventDragStart]="_onEventDragStart"\n        [onEventDragEnter]="_onEventDragEnter"\n        [onEventDragLeave]="_onEventDragLeave"\n        [onMoreClick]="_onMoreClick"\n        [onPopoverClose]="_onPopoverClose"\n        [onResourceClick]="_proxy"\n        [onResourceCollapse]="_proxy"\n        [onResourceCreate]="_proxy"\n        [onResourceCreated]="_proxy"\n        [onResourceDelete]="_proxy"\n        [onResourceDeleted]="_proxy"\n        [onResourceDoubleClick]="_proxy"\n        [onResourceExpand]="_proxy"\n        [onResourceDragEnd]="_proxy"\n        [onResourceDragEnter]="_proxy"\n        [onResourceDragLeave]="_proxy"\n        [onResourceDragStart]="_proxy"\n        [onResourceOrderUpdate]="_proxy"\n        [onResourceRightClick]="_proxy"\n        [onVirtualLoading]="_proxy"\n        [zoomLevel]="s.zoomLevel"\n      >\n      </mbsc-timeline>\n\n      <mbsc-popup\n        [anchor]="_anchor"\n        [closeOnScroll]="true"\n        [contentPadding]="false"\n        [context]="state.popoverContext || s.context"\n        [cssClass]="\'mbsc-calendar-popup \' + (state.popoverHidden ? \'mbsc-popover-hidden \' : \'\') + _popoverClass"\n        display="anchored"\n        [isOpen]="state.showPopover"\n        [locale]="s.locale"\n        maxHeight="24em"\n        [rtl]="s.rtl"\n        [scrollLock]="false"\n        [showOverlay]="false"\n        [theme]="s.theme"\n        [themeVariant]="s.themeVariant"\n        (onClose)="_onPopoverClose($event)"\n      >\n        <mbsc-list class="mbsc-popover-list" [rtl]="s.rtl" [theme]="s.theme" [themeVariant]="s.themeVariant">\n          <mbsc-event-list-item\n            *ngFor="let event of state.popoverList; trackBy: _getEventKey"\n            [actionable]="s.actionableEvents"\n            [cssClass]="event.original!.cssClass"\n            class="mbsc-event"\n            [date]="state.popoverDate"\n            [event]="event.original"\n            [eventContentTemplate]="eventContentTemplate"\n            [eventData]="event"\n            [hasDate]="!!state.popoverHost"\n            [rtl]="s.rtl"\n            [selected]="!!(_selectedEventsMap[event.uid!] || _selectedEventsMap[event.id])"\n            [showColor]="!_colorEventList"\n            source="popover"\n            [template]="eventTemplate"\n            [theme]="s.theme"\n            [themeVariant]="s.themeVariant"\n            [drag]="(_showEventLabels || state.popoverHost) && (s.dragToMove || s.externalDrag)"\n            (onHoverIn)="_onEventHoverIn($event)"\n            (onHoverOut)="_onEventHoverOut($event)"\n            (onClick)="_onEventClick($event)"\n            (onDoubleClick)="_onEventDoubleClick($event)"\n            (onRightClick)="_onEventRightClick($event)"\n            (onDragEnd)="state.popoverHost ? state.popoverHost._onEventDragEnd($event) : _onLabelUpdateEnd($event)"\n            (onDragModeOff)="state.popoverHost ? state.popoverHost._onEventDragModeOff($event) : _onLabelUpdateModeOff($event)"\n            (onDragModeOn)="state.popoverHost ? state.popoverHost._onEventDragModeOn($event) : _onLabelUpdateModeOn($event)"\n            (onDragMove)="state.popoverHost ? state.popoverHost._onEventDragMove($event) : _onLabelUpdateMove($event)"\n            (onDragStart)="state.popoverHost ? state.popoverHost._onEventDragStart($event) : _onLabelUpdateStart($event)"\n          >\n          </mbsc-event-list-item>\n        </mbsc-list>\n      </mbsc-popup>\n      <div *ngIf="state.labelDragData && state.labelDragData.draggedEvent && !state.isTouchDrag" class="mbsc-calendar-dragging"></div>\n    </mbsc-calendar-view>\n  ',isInline:true,components:[{type:MbscCalendarView,selector:"mbsc-calendar-view",inputs:["activeDate","cssClass","clickToCreate","colors","dataTimezone","dayTemplate","dayContentTemplate","displayTimezone","dragToCreate","dragToResize","dragToMove","endDay","eventExact","eventMap","eventOrder","eventRange","eventRangeSize","exclusiveEndDates","fromText","hasContent","hasPicker","headerTemplate","height","hoverEnd","hoverStart","invalid","instanceService","isPicker","labels","labelsMap","labelTemplate","labelContentTemplate","dragData","max","marked","marksMap","min","mouseSwipe","mousewheel","navService","navView","noOuterChange","downIcon","nextIconH","nextIconV","nextPageText","prevIconH","prevIconV","prevPageText","upIcon","pages","pageLoad","refDate","resourcesMap","rangeEnd","rangeStart","responsiveStyle","selectedDates","selectedEventsMap","selectView","showCalendar","showControls","showEventTooltip","showLabelCount","showOuterDays","showSchedule","showToday","showWeekNumbers","size","startDay","swipe","labelList","timeFormat","timezonePlugin","update","valid","weeks","width","calendarScroll","calendarType","getDate","getDay","getMaxDayOfMonth","getMonth","getWeekNumber","getYear","amText","dateFormat","dayNames","dayNamesMin","dayNamesShort","eventText","eventsText","firstDay","monthNames","monthNamesShort","moreEventsPluralText","moreEventsText","pmText","todayText","toText","weekText","yearSuffix","onActiveChange","onCellHoverIn","onCellHoverOut","onDayClick","onDayDoubleClick","onDayRightClick","onDayHoverIn","onDayHoverOut","onGestureStart","onLabelClick","onLabelDoubleClick","onLabelRightClick","onLabelHoverIn","onLabelHoverOut","onLabelDelete","onLabelUpdateStart","onLabelUpdateMove","onLabelUpdateEnd","onLabelUpdateModeOn","onLabelUpdateModeOff","onPageChange","onPageLoaded","onPageLoading","onResize","onTodayClick"]},{type:MbscList,selector:"mbsc-list"},{type:MbscListHeader,selector:"mbsc-list-header"},{type:MbscEventListItem,selector:"mbsc-event-list-item",inputs:["date","eventData","hasDate","selected","showColor","source","template","eventContentTemplate"]},{type:MbscScheduler,selector:"mbsc-scheduler",inputs:["allDayText","amText","bufferAfterTemplate","bufferBeforeTemplate","checkSize","clickToCreate","colorsMap","currentTimeIndicator","dataTimezone","dateFormat","dateFormatFull","dateFormatLong","dayNames","dayNamesMin","dayNamesShort","dayTemplate","dayContentTemplate","events","displayTimezone","dragBetweenResources","dragInTime","dragTimeStep","dragToCreate","dragToMove","dragToResize","endDay","endTime","eventDragEnd","eventMap","eventContentTemplate","eventOrder","eventOverlap","eventTemplate","exclusiveEndDates","extendDefaultEvent","externalDrag","externalDrop","firstDay","fromText","getDay","getDate","getMaxDayOfMonth","getMonth","getWeekNumber","getYear","groupBy","height","immutableData","invalidateEvent","invalidsMap","maxDate","navigateToEvent","maxEventStack","minDate","minEventWidth","monthNames","monthNamesShort","moreEventsPluralText","moreEventsText","navService","newEventText","pmText","refDate","resources","resourceTemplate","scroll","selected","selectedEventsMap","showAllDay","showDays","showEventBuffer","showEventTooltip","size","startDay","startTime","timeCellStep","timeFormat","timeLabelStep","timezonePlugin","timezones","toText","type","width","onCellClick","onCellDoubleClick","onCellRightClick","onEventClick","onEventDoubleClick","onEventRightClick","onEventHoverIn","onEventHoverOut","onEventDelete","onEventDragEnd","onEventDragStart","onEventDragEnter","onEventDragLeave","onMoreClick","onPopoverClose","onResourceClick","onResourceDoubleClick","onResourceRightClick","onWeekDayClick"]},{type:MbscTimeline,selector:"mbsc-timeline",inputs:["allDayText","amText","bufferAfterTemplate","bufferBeforeTemplate","checkSize","clickToCreate","colorsMap","connections","currentTimeIndicator","columnWidth","dateFormat","dateFormatFull","dateFormatLong","dataTimezone","dayNames","dayNamesMin","dayNamesShort","dayFooterTemplate","dayTemplate","dragIcon","monthTemplate","monthFooterTemplate","weekTemplate","weekFooterTemplate","yearTemplate","yearFooterTemplate","hourTemplate","hourFooterTemplate","displayTimezone","dragBetweenResources","dragBetweenSlots","dragInTime","dragTimeStep","dragToCreate","dragToMove","dragToResize","endDay","endTime","eventDragEnd","eventMap","eventContentTemplate","eventOrder","eventOverlap","eventTemplate","exclusiveEndDates","extendDefaultEvent","externalDrag","externalDrop","externalResourceDrag","externalResourceDrop","eventHeight","eventList","firstDay","fromText","getDay","getDate","getMaxDayOfMonth","getMonth","getWeekNumber","getYear","groupBy","height","immutableData","invalidateEvent","invalidsMap","maxDate","maxEventStack","minDate","moreEventsPluralText","moreEventsText","navigateToEvent","monthNames","monthNamesShort","navService","newEventText","nextIcon","nextIconRtl","downIcon","pmText","refDate","resolution","resolutionVertical","resources","resourceFooterTemplate","resourceHeaderTemplate","resourceReorder","resourceTemplate","resourceEmptyTemplate","rowHeight","scroll","selected","selectedEventsMap","showAllDay","showDays","showEventBuffer","showEventTooltip","sidebarFooterTemplate","sidebarHeaderTemplate","sidebarTemplate","size","slots","slotTemplate","startDay","startTime","quarterTemplate","quarterFooterTemplate","quarterText","timeCellStep","timeFormat","timeLabelStep","timezonePlugin","toText","type","virtualScroll","weekNumbers","weekText","width","zoomLevel","onActiveChange","onCellClick","onCellDoubleClick","onCellRightClick","onEventClick","onEventDoubleClick","onEventDragEnter","onEventDragLeave","onEventRightClick","onEventHoverIn","onEventHoverOut","onEventDelete","onEventDragEnd","onEventDragStart","onMoreClick","onPopoverClose","onResourceClick","onResourceDoubleClick","onResourceCollapse","onResourceCreate","onResourceCreated","onResourceDelete","onResourceDeleted","onResourceDragEnd","onResourceDragEnter","onResourceDragLeave","onResourceDragStart","onResourceExpand","onResourceOrderUpdate","onResourceRightClick","onWeekDayClick","onVirtualLoading"]},{type:MbscPopup,selector:"mbsc-popup",inputs:["activeElm","anchor","anchorAlign","animation","ariaLabel","buttons","buttonVariant","closeOnEsc","closeOnOverlayClick","closeOnScroll","contentPadding","cssClass","disableLeftRight","display","focusElm","focusOnClose","focusOnOpen","focusTrap","fullScreen","headerText","height","isOpen","maxHeight","maxWidth","scrollLock","setActive","showArrow","showOverlay","windowWidth","width","cancelText","closeText","okText","setText"],outputs:["onButtonClick","onOverlayClick","onClose","onClosed","onKeyDown","onOpen","onPosition","onResize"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1$1.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:i1$1.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:MbscEventListDayDirective,selector:"[mbsc-event-list-day]",inputs:["timestamp"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscEventcalendar}(EventcalendarBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscEventcalendar,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,providers:[MbscEventListService,MbscInstanceService],selector:"mbsc-eventcalendar",template:'\n    <mbsc-calendar-view\n      #calendar\n      [activeDate]="_active"\n      [amText]="s.amText"\n      [calendarScroll]="_calendarScroll"\n      [calendarType]="_calendarType"\n      [clickToCreate]="s.clickToCreate"\n      [colors]="s.colors"\n      [context]="s.context"\n      [cssClass]="_cssClass"\n      [dataTimezone]="s.dataTimezone"\n      [dayTemplate]="dayTemplate"\n      [dayContentTemplate]="dayContentTemplate"\n      [displayTimezone]="s.displayTimezone"\n      [downIcon]="s.downIcon"\n      [dragData]="state.labelDragData"\n      [dragToCreate]="s.dragToCreate"\n      [dragToMove]="s.dragToMove || s.externalDrag"\n      [dragToResize]="s.dragToResize"\n      [endDay]="_rangeEndDay"\n      [eventExact]="_eventExact"\n      [eventMap]="_eventMap"\n      [eventOrder]="s.eventOrder"\n      [eventRange]="_rangeType"\n      [eventRangeSize]="_showSchedule ? _scheduleSize : _showTimeline ? _timelineSize : _eventListSize"\n      [exclusiveEndDates]="s.exclusiveEndDates"\n      [hasContent]="_showEventList || _showSchedule || _showTimeline"\n      [hasPicker]="true"\n      [headerTemplate]="headerTemplate"\n      [height]="s.height"\n      [invalid]="s.invalid"\n      [instanceService]="_instanceService"\n      [labels]="s.labels"\n      [labelsMap]="_labelsMap"\n      [labelList]="_calendarLabelList"\n      [labelTemplate]="labelTemplate"\n      [labelContentTemplate]="labelContentTemplate"\n      [marked]="s.marked"\n      [marksMap]="_marksMap"\n      [max]="s.max"\n      [min]="s.min"\n      [mouseSwipe]="(!s.dragToCreate && s.clickToCreate !== \'single\') || (!_showEventLabels && !_showEventCount)"\n      [mousewheel]="s.mousewheel"\n      [navService]="_navService"\n      [navView]="_navView"\n      [nextIconH]="s.nextIconH"\n      [nextIconV]="s.nextIconV"\n      [nextPageText]="s.nextPageText"\n      [noOuterChange]="!_showEventList"\n      [onActiveChange]="_onActiveChange"\n      [onCellHoverIn]="_onCellHoverIn"\n      [onCellHoverOut]="_onCellHoverOut"\n      [onDayClick]="_onDayClick"\n      [onDayDoubleClick]="_onDayDoubleClick"\n      [onDayRightClick]="_onDayRightClick"\n      [onGestureStart]="_onGestureStart"\n      [onLabelClick]="_onLabelClick"\n      [onLabelDoubleClick]="_onLabelDoubleClick"\n      [onLabelRightClick]="_onLabelRightClick"\n      [onLabelHoverIn]="_onLabelHoverIn"\n      [onLabelHoverOut]="_onLabelHoverOut"\n      [onLabelDelete]="_onEventDelete"\n      [onLabelUpdateStart]="_onLabelUpdateStart"\n      [onLabelUpdateMove]="_onLabelUpdateMove"\n      [onLabelUpdateEnd]="_onLabelUpdateEnd"\n      [onLabelUpdateModeOn]="_onLabelUpdateModeOn"\n      [onLabelUpdateModeOff]="_onLabelUpdateModeOff"\n      [onPageChange]="_onPageChange"\n      [onPageLoaded]="_onPageLoaded"\n      [onPageLoading]="_onPageLoading"\n      [onResize]="_onResize"\n      [pageLoad]="_pageLoad"\n      [pmText]="s.pmText"\n      [prevIconH]="s.prevIconH"\n      [prevIconV]="s.prevIconV"\n      [prevPageText]="s.prevPageText"\n      [refDate]="_refDate"\n      [resourcesMap]="_resourcesMap"\n      [responsiveStyle]="true"\n      [rtl]="s.rtl"\n      [selectedDates]="_selectedDates"\n      [selectedEventsMap]="_selectedEventsMap"\n      selectView="page"\n      [showCalendar]="_showCalendar"\n      [showControls]="s.showControls"\n      [showEventTooltip]="s.showEventTooltip"\n      [showLabelCount]="_showEventCount"\n      [showOuterDays]="_showOuterDays"\n      [showSchedule]="_showSchedule || _showTimeline"\n      [showToday]="s.showToday"\n      [showWeekNumbers]="_showWeekNumbers"\n      [size]="_calendarSize"\n      [startDay]="_rangeStartDay"\n      [swipe]="!state.isTouchDrag"\n      [theme]="s.theme"\n      [themeVariant]="s.themeVariant"\n      [timeFormat]="s.timeFormat"\n      [timezonePlugin]="s.timezonePlugin"\n      [update]="_update"\n      [upIcon]="s.upIcon"\n      [valid]="s.valid"\n      [weeks]="_calendarSize"\n      [width]="s.width"\n      [getDate]="s.getDate"\n      [getDay]="s.getDay"\n      [getMaxDayOfMonth]="s.getMaxDayOfMonth"\n      [getMonth]="s.getMonth"\n      [getWeekNumber]="s.getWeekNumber"\n      [getYear]="s.getYear"\n      [dateFormat]="s.dateFormat"\n      [dayNames]="s.dayNames"\n      [dayNamesMin]="s.dayNamesMin"\n      [dayNamesShort]="s.dayNamesShort"\n      [eventText]="s.eventText"\n      [eventsText]="s.eventsText"\n      [firstDay]="s.firstDay"\n      [fromText]="s.fromText"\n      [monthNames]="s.monthNames"\n      [monthNamesShort]="s.monthNamesShort"\n      [moreEventsPluralText]="s.moreEventsPluralText"\n      [moreEventsText]="s.moreEventsText"\n      [todayText]="s.todayText"\n      [toText]="s.toText"\n      [weekText]="s.weekText"\n      [yearSuffix]="s.yearSuffix"\n    >\n      <div *ngIf="_showDate" [class]="\'mbsc-schedule-date-header mbsc-flex\' + _theme + _hb">\n        <div *ngIf="_showSchedule && !_showCalendar && s.resources" class="mbsc-schedule-time-col"></div>\n        <div [class]="\'mbsc-schedule-date-header-text mbsc-flex-1-1\' + _theme">{{ _selectedDateHeader }}</div>\n        <div *ngIf="_showSchedule && !_showCalendar && s.resources" class="mbsc-schedule-fake-scroll-y"></div>\n      </div>\n      <div\n        *ngIf="_showEventList"\n        [class]="\'mbsc-flex-1-1 mbsc-event-list\' + (state.isListScrollable ? \' mbsc-event-list-scroll\' : \'\')"\n        (scroll)="_onScroll()"\n        #list\n      >\n        <ng-template #def let-data>\n          <mbsc-list [rtl]="s.rtl" [theme]="s.theme" [themeVariant]="s.themeVariant">\n            <div *ngIf="!_eventListNr && !_showEmptyDays" [class]="!agendaEmptyTemplate ? \'mbsc-event-list-empty\' + _theme : \'\'">\n              <ng-template #noEventsText>\n                {{ s.noEventsText }}\n              </ng-template>\n              <ng-container [ngTemplateOutlet]="agendaEmptyTemplate || noEventsText"></ng-container>\n            </div>\n            <ng-container *ngIf="_eventListNr || _showEmptyDays">\n              <div\n                *ngFor="let day of data; trackBy: _getDayKey"\n                mbsc-event-list-day\n                [class]="\'mbsc-event-group\' + (day.events.length || _showEmptyDays ? \'\' : \' mbsc-event-group-empty\') + _theme"\n                [timestamp]="day.timestamp"\n              >\n                <mbsc-list-header\n                  *ngIf="_showEmptyDays || day.events.length"\n                  class="mbsc-event-day"\n                  [theme]="s.theme"\n                  [themeVariant]="s.themeVariant"\n                >\n                  <ng-container\n                    [ngTemplateOutlet]="dayTemplate || default"\n                    [ngTemplateOutletContext]="{ $implicit: { date: day.dateObj, events: day.events } }"\n                  >\n                  </ng-container>\n                  <ng-template #default>{{ day.date }}</ng-template>\n                </mbsc-list-header>\n                <mbsc-event-list-item\n                  *ngFor="let event of day.events; trackBy: _getEventKey"\n                  [actionable]="s.actionableEvents"\n                  [cssClass]="event.original!.cssClass"\n                  class="mbsc-event"\n                  [date]="day.timestamp"\n                  [event]="event.original"\n                  [eventContentTemplate]="eventContentTemplate"\n                  [eventData]="event"\n                  [rtl]="s.rtl"\n                  [selected]="!!(_selectedEventsMap[event.uid!] || _selectedEventsMap[event.id])"\n                  [showColor]="!_colorEventList"\n                  source="agenda"\n                  [template]="eventTemplate"\n                  [theme]="s.theme"\n                  [themeVariant]="s.themeVariant"\n                  (onHoverIn)="_onEventHoverIn($event)"\n                  (onHoverOut)="_onEventHoverOut($event)"\n                  (onClick)="_onEventClick($event)"\n                  (onDoubleClick)="_onEventDoubleClick($event)"\n                  (onRightClick)="_onEventRightClick($event)"\n                >\n                </mbsc-event-list-item>\n              </div>\n            </ng-container>\n          </mbsc-list>\n        </ng-template>\n        <ng-container [ngTemplateOutlet]="agendaTemplate || def" [ngTemplateOutletContext]="{ $implicit: state.eventList }"></ng-container>\n      </div>\n\n      <mbsc-scheduler\n        *ngIf="_showSchedule"\n        [allDayText]="s.allDayText"\n        [amText]="s.amText"\n        [bufferAfterTemplate]="bufferAfterTemplate"\n        [bufferBeforeTemplate]="bufferBeforeTemplate"\n        [checkSize]="_checkSize"\n        [clickToCreate]="s.clickToCreate"\n        [colorsMap]="_colorsMap"\n        [context]="s.context"\n        [currentTimeIndicator]="_currentTimeIndicator"\n        [dataTimezone]="s.dataTimezone"\n        [dateFormat]="s.dateFormat"\n        [dateFormatFull]="s.dateFormatFull"\n        [dateFormatLong]="s.dateFormatLong"\n        [dayNames]="s.dayNames"\n        [dayNamesMin]="s.dayNamesMin"\n        [dayNamesShort]="s.dayNamesShort"\n        [dayTemplate]="dayTemplate"\n        [dayContentTemplate]="dayContentTemplate"\n        [displayTimezone]="s.displayTimezone"\n        [dragBetweenResources]="s.dragBetweenResources"\n        [dragInTime]="s.dragInTime"\n        [dragTimeStep]="_dragTimeStep"\n        [dragToCreate]="s.dragToCreate"\n        [dragToMove]="s.dragToMove"\n        [dragToResize]="s.dragToResize"\n        [endDay]="_scheduleEndDay"\n        [endTime]="_scheduleEndTime"\n        [eventContentTemplate]="scheduleEventContentTemplate"\n        [eventDragEnd]="_onEventDragStop"\n        [eventMap]="_eventMap"\n        [eventOrder]="s.eventOrder"\n        [eventOverlap]="s.eventOverlap"\n        [eventTemplate]="scheduleEventTemplate"\n        [exclusiveEndDates]="s.exclusiveEndDates"\n        [extendDefaultEvent]="s.extendDefaultEvent"\n        [externalDrag]="s.externalDrag"\n        [externalDrop]="s.externalDrop"\n        [firstDay]="s.firstDay"\n        [fromText]="s.fromText"\n        [getDay]="s.getDay"\n        [getDate]="s.getDate"\n        [getMaxDayOfMonth]="s.getMaxDayOfMonth"\n        [getMonth]="s.getMonth"\n        [getYear]="s.getYear"\n        [getWeekNumber]="s.getWeekNumber"\n        [groupBy]="s.groupBy"\n        [height]="state.height"\n        [immutableData]="s.immutableData"\n        [invalidateEvent]="s.invalidateEvent"\n        [invalidsMap]="_invalidsMap"\n        [maxDate]="s.max"\n        [maxEventStack]="_scheduleMaxEventStack"\n        [minEventWidth]="_scheduleMinEventWidth"\n        [moreEventsPluralText]="s.moreEventsPluralText"\n        [moreEventsText]="s.moreEventsText"\n        [navigateToEvent]="_navigateToEvent"\n        [minDate]="s.min"\n        [monthNames]="s.monthNames"\n        [monthNamesShort]="s.monthNamesShort"\n        [navService]="_navService"\n        [newEventText]="s.newEventText"\n        [pmText]="s.pmText"\n        [refDate]="_refDate"\n        [resources]="s.resources"\n        [resourceTemplate]="resourceTemplate"\n        [rtl]="s.rtl"\n        [scroll]="_shouldScrollSchedule"\n        [selected]="_selectedDateTime"\n        [selectedEventsMap]="_selectedEventsMap"\n        [showAllDay]="_showScheduleAllDay"\n        [showDays]="_showScheduleDays"\n        [showEventBuffer]="s.showEventBuffer"\n        [showEventTooltip]="s.showEventTooltip"\n        [size]="_scheduleSize"\n        [startDay]="_scheduleStartDay"\n        [startTime]="_scheduleStartTime"\n        [timeCellStep]="_scheduleTimeCellStep"\n        [timeFormat]="s.timeFormat"\n        [timeLabelStep]="_scheduleTimeLabelStep"\n        [timezonePlugin]="s.timezonePlugin"\n        [timezones]="_scheduleTimezones"\n        [theme]="s.theme"\n        [themeVariant]="s.themeVariant"\n        [toText]="s.toText"\n        [type]="_scheduleType"\n        [width]="state.width"\n        [onCellClick]="_onCellClick"\n        [onCellDoubleClick]="_onCellDoubleClick"\n        [onCellRightClick]="_onCellRightClick"\n        [onEventClick]="_onEventClick"\n        [onEventDoubleClick]="_onEventDoubleClick"\n        [onEventRightClick]="_onEventRightClick"\n        [onEventHoverIn]="_onEventHoverIn"\n        [onEventHoverOut]="_onEventHoverOut"\n        [onEventDelete]="_onEventDelete"\n        [onEventDragEnd]="_onEventDragEnd"\n        [onEventDragStart]="_onEventDragStart"\n        [onEventDragEnter]="_onEventDragEnter"\n        [onEventDragLeave]="_onEventDragLeave"\n        [onMoreClick]="_onMoreClick"\n        [onPopoverClose]="_onPopoverClose"\n        [onResourceClick]="_proxy"\n        [onResourceDoubleClick]="_proxy"\n        [onResourceRightClick]="_proxy"\n        [onWeekDayClick]="_onWeekDayClick"\n      >\n      </mbsc-scheduler>\n\n      <mbsc-timeline\n        *ngIf="_showTimeline"\n        [allDayText]="s.allDayText"\n        [amText]="s.amText"\n        [bufferAfterTemplate]="bufferAfterTemplate"\n        [bufferBeforeTemplate]="bufferBeforeTemplate"\n        [checkSize]="_checkSize"\n        [clickToCreate]="s.clickToCreate"\n        [colorsMap]="_colorsMap"\n        [connections]="s.connections"\n        [context]="s.context"\n        [currentTimeIndicator]="_currentTimeIndicator"\n        [columnWidth]="_timelineColWidth"\n        [dataTimezone]="s.dataTimezone"\n        [dateFormat]="s.dateFormat"\n        [dateFormatFull]="s.dateFormatFull"\n        [dateFormatLong]="s.dateFormatLong"\n        [dayNames]="s.dayNames"\n        [dayNamesMin]="s.dayNamesMin"\n        [dayNamesShort]="s.dayNamesShort"\n        [dayFooterTemplate]="dayFooterTemplate"\n        [dayTemplate]="dayTemplate"\n        [weekTemplate]="weekTemplate"\n        [weekFooterTemplate]="weekFooterTemplate"\n        [yearTemplate]="yearTemplate"\n        [yearFooterTemplate]="yearFooterTemplate"\n        [hourTemplate]="hourTemplate"\n        [hourFooterTemplate]="hourFooterTemplate"\n        [monthTemplate]="monthTemplate"\n        [monthFooterTemplate]="monthFooterTemplate"\n        [displayTimezone]="s.displayTimezone"\n        [dragBetweenResources]="s.dragBetweenResources"\n        [dragBetweenSlots]="s.dragBetweenSlots"\n        [dragIcon]="s.dragIcon"\n        [dragInTime]="s.dragInTime"\n        [dragTimeStep]="_dragTimeStep"\n        [dragToCreate]="slots ? false : s.dragToCreate"\n        [dragToMove]="s.dragToMove"\n        [dragToResize]="slots ? false : s.dragToResize"\n        [downIcon]="s.chevronIconDown"\n        [endDay]="_timelineEndDay"\n        [endTime]="_timelineEndTime"\n        [eventHeight]="_timelineEventHeight"\n        [eventList]="_timelineListing"\n        [eventDragEnd]="_onEventDragStop"\n        [eventContentTemplate]="scheduleEventContentTemplate"\n        [eventMap]="_eventMap"\n        [eventOrder]="s.eventOrder"\n        [eventOverlap]="s.eventOverlap"\n        [eventTemplate]="scheduleEventTemplate"\n        [exclusiveEndDates]="s.exclusiveEndDates"\n        [extendDefaultEvent]="s.extendDefaultEvent"\n        [externalDrag]="s.externalDrag"\n        [externalDrop]="s.externalDrop"\n        [externalResourceDrag]="s.externalResourceDrag"\n        [externalResourceDrop]="s.externalResourceDrop"\n        [firstDay]="s.firstDay"\n        [fromText]="s.fromText"\n        [getDay]="s.getDay"\n        [getDate]="s.getDate"\n        [getMaxDayOfMonth]="s.getMaxDayOfMonth"\n        [getMonth]="s.getMonth"\n        [getWeekNumber]="s.getWeekNumber"\n        [getYear]="s.getYear"\n        [groupBy]="s.groupBy"\n        [height]="state.height"\n        [immutableData]="s.immutableData"\n        [invalidateEvent]="s.invalidateEvent"\n        [invalidsMap]="_invalidsMap"\n        [maxDate]="s.max"\n        [maxEventStack]="_timelineMaxEventStack"\n        [minDate]="s.min"\n        [moreEventsPluralText]="s.moreEventsPluralText"\n        [moreEventsText]="s.moreEventsText"\n        [navigateToEvent]="_navigateToEvent"\n        [monthNames]="s.monthNames"\n        [monthNamesShort]="s.monthNamesShort"\n        [navService]="_navService"\n        [newEventText]="s.newEventText"\n        [nextIcon]="s.nextIconH"\n        [nextIconRtl]="s.prevIconH"\n        [pmText]="s.pmText"\n        [refDate]="_refDate"\n        [resolution]="_timelineResolution"\n        [resolutionVertical]="_timelineResolutionVertical"\n        [resources]="s.resources"\n        [resourceFooterTemplate]="resourceFooterTemplate"\n        [resourceHeaderTemplate]="resourceHeaderTemplate"\n        [resourceReorder]="_timelineResourceOrder"\n        [resourceTemplate]="resourceTemplate"\n        [resourceEmptyTemplate]="resourceEmptyTemplate"\n        [rtl]="s.rtl"\n        [rowHeight]="_timelineRowHeight"\n        [scroll]="_shouldScrollSchedule"\n        [showEventBuffer]="s.showEventBuffer"\n        [showEventTooltip]="s.showEventTooltip"\n        [slots]="s.slots"\n        [slotTemplate]="slotTemplate"\n        [selected]="_selectedDateTime"\n        [selectedEventsMap]="_selectedEventsMap"\n        [sidebarFooterTemplate]="sidebarFooterTemplate"\n        [sidebarHeaderTemplate]="sidebarHeaderTemplate"\n        [sidebarTemplate]="sidebarTemplate"\n        [size]="_timelineSize"\n        [startDay]="_timelineStartDay"\n        [startTime]="_timelineStartTime"\n        [quarterFooterTemplate]="quarterFooterTemplate"\n        [quarterTemplate]="quarterTemplate"\n        [quarterText]="s.quarterText"\n        [timeCellStep]="_timelineTimeCellStep"\n        [timeFormat]="s.timeFormat"\n        [timeLabelStep]="_timelineTimeLabelStep"\n        [timezonePlugin]="s.timezonePlugin"\n        [theme]="s.theme"\n        [themeVariant]="s.themeVariant"\n        [toText]="s.toText"\n        [type]="_timelineType"\n        [virtualScroll]="!_print && _timelineVirtualScroll"\n        [weekNumbers]="_showTimelineWeekNumbers"\n        [weekText]="s.weekText"\n        [width]="state.width"\n        [onActiveChange]="_onActiveChange"\n        [onCellClick]="_onCellClick"\n        [onCellDoubleClick]="_onCellDoubleClick"\n        [onCellRightClick]="_onCellRightClick"\n        [onEventClick]="_onEventClick"\n        [onEventDoubleClick]="_onEventDoubleClick"\n        [onEventRightClick]="_onEventRightClick"\n        [onEventHoverIn]="_onEventHoverIn"\n        [onEventHoverOut]="_onEventHoverOut"\n        [onEventDelete]="_onEventDelete"\n        [onEventDragEnd]="_onEventDragEnd"\n        [onEventDragStart]="_onEventDragStart"\n        [onEventDragEnter]="_onEventDragEnter"\n        [onEventDragLeave]="_onEventDragLeave"\n        [onMoreClick]="_onMoreClick"\n        [onPopoverClose]="_onPopoverClose"\n        [onResourceClick]="_proxy"\n        [onResourceCollapse]="_proxy"\n        [onResourceCreate]="_proxy"\n        [onResourceCreated]="_proxy"\n        [onResourceDelete]="_proxy"\n        [onResourceDeleted]="_proxy"\n        [onResourceDoubleClick]="_proxy"\n        [onResourceExpand]="_proxy"\n        [onResourceDragEnd]="_proxy"\n        [onResourceDragEnter]="_proxy"\n        [onResourceDragLeave]="_proxy"\n        [onResourceDragStart]="_proxy"\n        [onResourceOrderUpdate]="_proxy"\n        [onResourceRightClick]="_proxy"\n        [onVirtualLoading]="_proxy"\n        [zoomLevel]="s.zoomLevel"\n      >\n      </mbsc-timeline>\n\n      <mbsc-popup\n        [anchor]="_anchor"\n        [closeOnScroll]="true"\n        [contentPadding]="false"\n        [context]="state.popoverContext || s.context"\n        [cssClass]="\'mbsc-calendar-popup \' + (state.popoverHidden ? \'mbsc-popover-hidden \' : \'\') + _popoverClass"\n        display="anchored"\n        [isOpen]="state.showPopover"\n        [locale]="s.locale"\n        maxHeight="24em"\n        [rtl]="s.rtl"\n        [scrollLock]="false"\n        [showOverlay]="false"\n        [theme]="s.theme"\n        [themeVariant]="s.themeVariant"\n        (onClose)="_onPopoverClose($event)"\n      >\n        <mbsc-list class="mbsc-popover-list" [rtl]="s.rtl" [theme]="s.theme" [themeVariant]="s.themeVariant">\n          <mbsc-event-list-item\n            *ngFor="let event of state.popoverList; trackBy: _getEventKey"\n            [actionable]="s.actionableEvents"\n            [cssClass]="event.original!.cssClass"\n            class="mbsc-event"\n            [date]="state.popoverDate"\n            [event]="event.original"\n            [eventContentTemplate]="eventContentTemplate"\n            [eventData]="event"\n            [hasDate]="!!state.popoverHost"\n            [rtl]="s.rtl"\n            [selected]="!!(_selectedEventsMap[event.uid!] || _selectedEventsMap[event.id])"\n            [showColor]="!_colorEventList"\n            source="popover"\n            [template]="eventTemplate"\n            [theme]="s.theme"\n            [themeVariant]="s.themeVariant"\n            [drag]="(_showEventLabels || state.popoverHost) && (s.dragToMove || s.externalDrag)"\n            (onHoverIn)="_onEventHoverIn($event)"\n            (onHoverOut)="_onEventHoverOut($event)"\n            (onClick)="_onEventClick($event)"\n            (onDoubleClick)="_onEventDoubleClick($event)"\n            (onRightClick)="_onEventRightClick($event)"\n            (onDragEnd)="state.popoverHost ? state.popoverHost._onEventDragEnd($event) : _onLabelUpdateEnd($event)"\n            (onDragModeOff)="state.popoverHost ? state.popoverHost._onEventDragModeOff($event) : _onLabelUpdateModeOff($event)"\n            (onDragModeOn)="state.popoverHost ? state.popoverHost._onEventDragModeOn($event) : _onLabelUpdateModeOn($event)"\n            (onDragMove)="state.popoverHost ? state.popoverHost._onEventDragMove($event) : _onLabelUpdateMove($event)"\n            (onDragStart)="state.popoverHost ? state.popoverHost._onEventDragStart($event) : _onLabelUpdateStart($event)"\n          >\n          </mbsc-event-list-item>\n        </mbsc-list>\n      </mbsc-popup>\n      <div *ngIf="state.labelDragData && state.labelDragData.draggedEvent && !state.isTouchDrag" class="mbsc-calendar-dragging"></div>\n    </mbsc-calendar-view>\n  '}]}],propDecorators:{vList:[{type:ViewChild,args:["list",{static:false,read:ElementRef}]}],_calendarView:[{type:ViewChild,args:["calendar",{static:true}]}],actionableEvents:[{type:Input}],agendaEmptyTemplate:[{type:Input}],agendaTemplate:[{type:Input}],bufferAfterTemplate:[{type:Input}],bufferBeforeTemplate:[{type:Input}],calendarSystem:[{type:Input}],clickToCreate:[{type:Input}],colors:[{type:Input}],connections:[{type:Input}],data:[{type:Input}],dayTemplate:[{type:Input}],dayContentTemplate:[{type:Input}],dayFooterTemplate:[{type:Input}],dataTimezone:[{type:Input}],displayTimezone:[{type:Input}],dragBetweenResources:[{type:Input}],dragBetweenSlots:[{type:Input}],dragInTime:[{type:Input}],dragTimeStep:[{type:Input}],dragToCreate:[{type:Input}],dragToResize:[{type:Input}],dragToMove:[{type:Input}],eventContentTemplate:[{type:Input}],eventDelete:[{type:Input}],eventOrder:[{type:Input}],eventOverlap:[{type:Input}],eventTemplate:[{type:Input}],exclusiveEndDates:[{type:Input}],extendDefaultEvent:[{type:Input}],externalDrag:[{type:Input}],externalDrop:[{type:Input}],externalResourceDrag:[{type:Input}],externalResourceDrop:[{type:Input}],groupBy:[{type:Input}],headerTemplate:[{type:Input}],height:[{type:Input}],hourTemplate:[{type:Input}],hourFooterTemplate:[{type:Input}],immutableData:[{type:Input}],invalid:[{type:Input}],invalidateEvent:[{type:Input}],labelContentTemplate:[{type:Input}],labels:[{type:Input}],labelTemplate:[{type:Input}],marked:[{type:Input}],max:[{type:Input}],min:[{type:Input}],mousewheel:[{type:Input}],monthTemplate:[{type:Input}],monthFooterTemplate:[{type:Input}],refDate:[{type:Input}],resources:[{type:Input}],resourceHeaderTemplate:[{type:Input}],resourceFooterTemplate:[{type:Input}],resourceTemplate:[{type:Input}],resourceEmptyTemplate:[{type:Input}],slots:[{type:Input}],slotTemplate:[{type:Input}],scheduleEventContentTemplate:[{type:Input}],scheduleEventTemplate:[{type:Input}],selectedDate:[{type:Input}],selectedDateChange:[{type:Output}],selectedEvents:[{type:Input}],selectedEventsChange:[{type:Output}],selectMultipleEvents:[{type:Input}],showControls:[{type:Input}],showEventBuffer:[{type:Input}],showEventTooltip:[{type:Input}],sidebarFooterTemplate:[{type:Input}],sidebarHeaderTemplate:[{type:Input}],sidebarTemplate:[{type:Input}],quarterTemplate:[{type:Input}],quarterFooterTemplate:[{type:Input}],quarterText:[{type:Input}],valid:[{type:Input}],view:[{type:Input}],width:[{type:Input}],weekTemplate:[{type:Input}],weekFooterTemplate:[{type:Input}],yearTemplate:[{type:Input}],yearFooterTemplate:[{type:Input}],zoomLevel:[{type:Input}],allDayText:[{type:Input}],amText:[{type:Input}],dateFormat:[{type:Input}],dateFormatFull:[{type:Input}],dateFormatLong:[{type:Input}],dayNames:[{type:Input}],dayNamesMin:[{type:Input}],dayNamesShort:[{type:Input}],eventsText:[{type:Input}],eventText:[{type:Input}],firstDay:[{type:Input}],monthNames:[{type:Input}],monthNamesShort:[{type:Input}],moreEventsPluralText:[{type:Input}],moreEventsText:[{type:Input}],newEventText:[{type:Input}],nextPageText:[{type:Input}],noEventsText:[{type:Input}],pmText:[{type:Input}],prevPageText:[{type:Input}],timeFormat:[{type:Input}],timezonePlugin:[{type:Input}],onCellClick:[{type:Output}],onCellDoubleClick:[{type:Output}],onCellRightClick:[{type:Output}],onCellHoverIn:[{type:Output}],onCellHoverOut:[{type:Output}],onEventClick:[{type:Output}],onEventDoubleClick:[{type:Output}],onEventRightClick:[{type:Output}],onEventHoverIn:[{type:Output}],onEventHoverOut:[{type:Output}],onEventCreate:[{type:Output}],onEventCreated:[{type:Output}],onEventDelete:[{type:Output}],onEventDeleted:[{type:Output}],onEventDragEnd:[{type:Output}],onEventDragStart:[{type:Output}],onEventUpdate:[{type:Output}],onEventUpdated:[{type:Output}],onEventCreateFailed:[{type:Output}],onEventUpdateFailed:[{type:Output}],onEventDragEnter:[{type:Output}],onEventDragLeave:[{type:Output}],onLabelClick:[{type:Output}],onSelectedEventsChange:[{type:Output}],onPageChange:[{type:Output}],onPageLoaded:[{type:Output}],onPageLoading:[{type:Output}],onResourceClick:[{type:Output}],onResourceCollapse:[{type:Output}],onResourceDoubleClick:[{type:Output}],onResourceExpand:[{type:Output}],onResourceDragStart:[{type:Output}],onResourceCreate:[{type:Output}],onResourceCreated:[{type:Output}],onResourceDelete:[{type:Output}],onResourceDeleted:[{type:Output}],onResourceDragEnd:[{type:Output}],onResourceDragEnter:[{type:Output}],onResourceDragLeave:[{type:Output}],onResourceRightClick:[{type:Output}],onResourceOrderUpdate:[{type:Output}],onSelectedDateChange:[{type:Output}],onVirtualLoading:[{type:Output}]}});var MbscListModule=/*#__PURE__*/function(){function MbscListModule(){}MbscListModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscListModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscListModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscListModule,declarations:[ListBase,ListHeaderBase,ListItemBase,MbscList,MbscListHeader,MbscListItem],imports:[CommonModule],exports:[MbscList,MbscListHeader,MbscListItem]});MbscListModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscListModule,imports:[[CommonModule]]});return MbscListModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscListModule,decorators:[{type:NgModule,args:[{declarations:[ListBase,ListHeaderBase,ListItemBase,MbscList,MbscListHeader,MbscListItem],exports:[MbscList,MbscListHeader,MbscListItem],imports:[CommonModule]}]}]});var MbscEventcalendarModule=/*#__PURE__*/function(){function MbscEventcalendarModule(){}MbscEventcalendarModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscEventcalendarModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscEventcalendarModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscEventcalendarModule,declarations:[EventcalendarBase,MbscEventcalendar,MbscEventListDayDirective,MbscEventListItem,MbscScheduleEvent,MbscScheduler,MbscTimeline,MbscWeekDay,MbscTimeIndicator,ScheduleEventBase,SchedulerBase,STBase,TimeIndicatorBase,TimelineBase,WeekDayBase],imports:[CommonModule,MbscCalendarHeaderModule,MbscCalendarViewModule,MbscIconModule,MbscListModule,MbscPopupModule],exports:[MbscEventcalendar,MbscEventListDayDirective,MbscEventListItem,MbscCalendarHeaderModule,MbscDraggableModule,MbscDropcontainerModule]});MbscEventcalendarModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscEventcalendarModule,imports:[[CommonModule,MbscCalendarHeaderModule,MbscCalendarViewModule,MbscIconModule,MbscListModule,MbscPopupModule],MbscCalendarHeaderModule,MbscDraggableModule,MbscDropcontainerModule]});return MbscEventcalendarModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscEventcalendarModule,decorators:[{type:NgModule,args:[{declarations:[EventcalendarBase,MbscEventcalendar,MbscEventListDayDirective,MbscEventListItem,MbscScheduleEvent,MbscScheduler,MbscTimeline,MbscWeekDay,MbscTimeIndicator,ScheduleEventBase,SchedulerBase,STBase,TimeIndicatorBase,TimelineBase,WeekDayBase],exports:[MbscEventcalendar,MbscEventListDayDirective,MbscEventListItem,MbscCalendarHeaderModule,MbscDraggableModule,MbscDropcontainerModule],imports:[CommonModule,MbscCalendarHeaderModule,MbscCalendarViewModule,MbscIconModule,MbscListModule,MbscPopupModule]}]}]});var CheckboxBase=/*#__PURE__*/function(_super){__extends(CheckboxBase,_super);function CheckboxBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._onChange=function(ev){var s=_this.s;var checked=ev.target.checked;if(s.checked===UNDEFINED){_this._checked=checked;_this.setState({checked:checked})}_this._change(checked);if(s.onChange){s.onChange(ev)}};_this._setInput=function(input){_this._input=input};return _this}CheckboxBase.prototype._change=function(checked){};CheckboxBase.prototype._mounted=function(){var _this=this;this._unlisten=gestureListener(this._input,{click:true,onBlur:function(){_this.setState({hasFocus:false})},onFocus:function(){_this.setState({hasFocus:true})},onPress:function(){_this.setState({isActive:true})},onRelease:function(){_this.setState({isActive:false})}})};CheckboxBase.prototype._render=function(s,state){var disabled=s.disabled===UNDEFINED?state.disabled:emptyOrTrue(s.disabled);var position=s.position==="start"?s.rtl?"right":"left":s.rtl?"left":"right";var modelValue=s.modelValue!==UNDEFINED?s.modelValue:s.checked;this._disabled=disabled;this._checked=modelValue!==UNDEFINED?emptyOrTrue(modelValue):state.checked===UNDEFINED?emptyOrTrue(s.defaultChecked):state.checked;this._cssClass="mbsc-checkbox mbsc-form-control-wrapper mbsc-font "+this._className+this._theme+this._rtl+this._hb+" mbsc-checkbox-"+position+(disabled?" mbsc-disabled":"");this._boxClass="mbsc-checkbox-box"+this._theme+" mbsc-checkbox-box-"+position+(state.hasFocus&&!disabled?" mbsc-focus":"")+(state.isActive&&!disabled?" mbsc-active":"")+(s.color?" mbsc-checkbox-box-"+s.color:"")+(disabled?" mbsc-disabled":"")+(this._checked?" mbsc-checked":"")};CheckboxBase.prototype._destroy=function(){if(this._unlisten){this._unlisten()}};CheckboxBase.defaults={position:"start"};CheckboxBase._name="Checkbox";CheckboxBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:CheckboxBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});CheckboxBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:CheckboxBase,selector:"[mbsc-cb-b]",usesInheritance:true,ngImport:i0});return CheckboxBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:CheckboxBase,decorators:[{type:Directive,args:[{selector:"[mbsc-cb-b]"}]}]});var MbscCheckbox=/*#__PURE__*/function(_super){__extends(MbscCheckbox,_super);function MbscCheckbox(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(MbscCheckbox.prototype,"checked",{get:function(){return this._check},set:function(val){if(this._check!==val){this.props.checked=val;this._onFormChange(val);this._check=val;this.setState({checked:val})}},enumerable:false,configurable:true});MbscCheckbox.prototype.registerOnChange=function(fn){this._onFormChange=fn};MbscCheckbox.prototype.registerOnTouched=function(fn){this._onFormTouch=fn};MbscCheckbox.prototype.setDisabledState=function(disabled){this.setState({disabled:disabled})};MbscCheckbox.prototype.writeValue=function(val){this.checked=val};MbscCheckbox.prototype._change=function(checked){this.checked=checked};MbscCheckbox.prototype._mounted=function(){this._input=this.vInput.nativeElement;_super.prototype._mounted.call(this)};MbscCheckbox.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCheckbox,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscCheckbox.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscCheckbox,selector:"mbsc-checkbox",inputs:{color:"color",defaultChecked:"defaultChecked",description:"description",disabled:"disabled",inputStyle:"inputStyle",label:"label",name:"name",position:"position",checked:"checked"},host:{properties:{class:"_cssClass"}},viewQueries:[{propertyName:"vInput",first:true,predicate:["input"],descendants:true}],usesInheritance:true,ngImport:i0,template:'\n    <input\n      #input\n      type="checkbox"\n      class="mbsc-form-control-input mbsc-reset"\n      (blur)="_onFormTouch($event)"\n      (change)="_onChange($event)"\n      [checked]="_checked"\n      [disabled]="_disabled"\n      [name]="name || \'\'"\n    />\n    <span [class]="_boxClass"></span>\n    <span *ngIf="s.label" [class]="\'mbsc-form-control-label\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.label }}</span>\n    <span *ngIf="s.description" [class]="\'mbsc-description\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.description }}</span>\n    <ng-content></ng-content>\n  ',isInline:true,directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscCheckbox}(CheckboxBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCheckbox,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-checkbox",template:'\n    <input\n      #input\n      type="checkbox"\n      class="mbsc-form-control-input mbsc-reset"\n      (blur)="_onFormTouch($event)"\n      (change)="_onChange($event)"\n      [checked]="_checked"\n      [disabled]="_disabled"\n      [name]="name || \'\'"\n    />\n    <span [class]="_boxClass"></span>\n    <span *ngIf="s.label" [class]="\'mbsc-form-control-label\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.label }}</span>\n    <span *ngIf="s.description" [class]="\'mbsc-description\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.description }}</span>\n    <ng-content></ng-content>\n  '}]}],propDecorators:{vInput:[{type:ViewChild,args:["input",{static:false}]}],color:[{type:Input}],defaultChecked:[{type:Input}],description:[{type:Input}],disabled:[{type:Input}],inputStyle:[{type:Input}],label:[{type:Input}],name:[{type:Input}],position:[{type:Input}],checked:[{type:Input}]}});var MbscCheckboxModule=/*#__PURE__*/function(){function MbscCheckboxModule(){}MbscCheckboxModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCheckboxModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscCheckboxModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCheckboxModule,declarations:[CheckboxBase,MbscCheckbox],imports:[CommonModule],exports:[MbscCheckbox]});MbscCheckboxModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCheckboxModule,imports:[[CommonModule]]});return MbscCheckboxModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscCheckboxModule,decorators:[{type:NgModule,args:[{declarations:[CheckboxBase,MbscCheckbox],exports:[MbscCheckbox],imports:[CommonModule]}]}]});var popupQueue=[];var notificationQueue=[];var hasPromise=isBrowser&&!!win.Promise;function getOptions(queue,options,more,destroy,resolve){return __assign({closeOnOverlayClick:false,context:options.context,cssClass:"mbsc-alert",display:options.display||"center",onClose:function(){queue.shift()},onClosed:function(){handleClose(options,destroy,resolve)},theme:options.theme,themeVariant:options.themeVariant},more)}function getToastSnackbarOptions(options,destroy,resolve,isToast){return getOptions(notificationQueue,options,{animation:options.animation||(isToast?"pop":UNDEFINED),buttons:[],closeOnOverlayClick:false,contentPadding:isToast,cssClass:"mbsc-"+(isToast?"toast":"snackbar")+" mbsc-"+(options.color?options.color:"color-none")+" "+(options.cssClass||""),display:options.display||"bottom",focusOnClose:false,focusOnOpen:false,focusTrap:false,onOpen:function(ev,inst){handleOpen(options,inst)},scrollLock:false,setActive:false,showOverlay:false,touchUi:true},destroy,resolve)}function handleClose(options,destroy,resolve,result){if(resolve){resolve(result)}if(options.callback){options.callback(result)}if(options.onClose){options.onClose(result)}if(popupQueue.length){popupQueue[0].open()}else if(notificationQueue.length){notificationQueue[0].open()}if(destroy){destroy()}}function handleOpen(options,inst){if(options.duration!==false){setTimeout((function(){inst.close()}),options.duration||3e3)}}function getToastOptions(options,destroy,resolve){return getToastSnackbarOptions(options,destroy,resolve,true)}function getSnackbarOptions(options,destroy,resolve){return getToastSnackbarOptions(options,destroy,resolve,false)}function getAlertOptions(options,destroy,resolve){return getOptions(popupQueue,options,{buttons:["ok"],cssClass:"mbsc-alert "+(options.cssClass||""),okText:options.okText||"OK"},destroy,resolve)}function getConfirmOptions(options,destroy,resolve){var result=false;return getOptions(popupQueue,options,{buttons:["cancel","ok"],cancelText:options.cancelText||"Cancel",cssClass:"mbsc-confirm "+(options.cssClass||""),okText:options.okText||"OK",onButtonClick:function(ev){if(ev.button.name==="ok"){result=true}},onClosed:function(){handleClose(options,destroy,resolve,result)}},destroy,resolve)}function getPromptOptions(options,destroy,resolve,getValue,resetValue){var okClicked;return getOptions(popupQueue,options,{activeElm:"input",buttons:["cancel","ok"],cancelText:options.cancelText||"Cancel",cssClass:"mbsc-prompt "+(options.cssClass||""),okText:options.okText||"OK",onButtonClick:function(ev){if(ev.button.name==="ok"){okClicked=true}},onClosed:function(){handleClose(options,destroy,resolve,okClicked&&getValue?getValue():null);if(resetValue){setTimeout((function(){resetValue()}))}}},destroy,resolve)}function showModal(popup){if(!popupQueue.length){popup.open()}popupQueue.push(popup)}function showNotification(notification){var activeNotification=notificationQueue[0];notificationQueue.push(notification);if(!popupQueue.length){if(activeNotification){activeNotification.close()}else{notification.open()}}}function promise(func,options){var p;if(hasPromise){p=new Promise((function(resolve){func(options,resolve)}))}else{func(options,noop)}return p}function getAlertElm(options){var elm=doc.createElement("div");elm.className="mbsc-alert-content";elm.innerHTML='<h2 class="mbsc-alert-title">'+options.title+'</h2><p class="mbsc-alert-message">'+options.message+"</p>";return elm}var Notifications=/*#__PURE__*/function(){function Notifications(_injector,_cfr,_app){var _this=this;this._injector=_injector;this._cfr=_cfr;this._app=_app;this._showToast=function(options,resolve){var elm=doc.createElement("div");elm.className="mbsc-toast-background mbsc-toast-message";elm.innerText=options.message;var instance=_this._createPopup(MbscPopup,options,getToastOptions,resolve,elm);showNotification(instance)};this._showSnackbar=function(options,resolve){var instance=_this._createPopup(MbscSnackbar,options,getSnackbarOptions,resolve);instance.button=options.button;instance.message=options.message;setTimeout((function(){showNotification(instance.popup)}))};this._showAlert=function(options,resolve){var elm=getAlertElm(options);var instance=_this._createPopup(MbscPopup,options,getAlertOptions,resolve,elm);showModal(instance)};this._showConfirm=function(options,resolve){var elm=getAlertElm(options);var instance=_this._createPopup(MbscPopup,options,getConfirmOptions,resolve,elm);showModal(instance)};this._showPrompt=function(options,resolve){var instance=_this._createPopup(MbscPrompt,options,getPromptOptions,resolve,UNDEFINED,(function(){return instance.value}));instance.inputType=options.inputType;instance.label=options.label;instance.message=options.message;instance.placeholder=options.placeholder;instance.title=options.title;setTimeout((function(){showModal(instance.popup)}))};this._cfr=this._injector.get(ComponentFactoryResolver)}Notifications.prototype.toast=function(options){return promise(this._showToast,options)};Notifications.prototype.snackbar=function(options){return promise(this._showSnackbar,options)};Notifications.prototype.alert=function(options){return promise(this._showAlert,options)};Notifications.prototype.confirm=function(options){return promise(this._showConfirm,options)};Notifications.prototype.prompt=function(options){return promise(this._showPrompt,options)};Notifications.prototype._createPopup=function(Comp,options,getPopupOptions,resolve,body,getValue){var componentFactory=this._cfr.resolveComponentFactory(Comp);var host=doc.createElement("div");var ref=componentFactory.create(this._injector,[[body]],host);var instance=ref.instance;var destroy=function(){ref.destroy()};instance.props=getPopupOptions(options,destroy,resolve,getValue);this._app.attachView(ref.hostView);return instance};Notifications.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:Notifications,deps:[{token:i0.Injector},{token:i0.ComponentFactoryResolver},{token:i0.ApplicationRef}],target:i0.ɵɵFactoryTarget.Injectable});Notifications.ɵprov=i0.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:Notifications});return Notifications}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:Notifications,decorators:[{type:Injectable}],ctorParameters:function(){return[{type:i0.Injector},{type:i0.ComponentFactoryResolver},{type:i0.ApplicationRef}]}});var MbscNotificationsModule=/*#__PURE__*/function(){function MbscNotificationsModule(){}MbscNotificationsModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscNotificationsModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscNotificationsModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscNotificationsModule,imports:[MbscInputModule,MbscPopupModule]});MbscNotificationsModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscNotificationsModule,providers:[Notifications],imports:[[MbscInputModule,MbscPopupModule]]});return MbscNotificationsModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscNotificationsModule,decorators:[{type:NgModule,args:[{imports:[MbscInputModule,MbscPopupModule],providers:[Notifications]}]}]});var PageBase=/*#__PURE__*/function(_super){__extends(PageBase,_super);function PageBase(){return _super!==null&&_super.apply(this,arguments)||this}PageBase.prototype._render=function(s){this._cssClass="mbsc-page mbsc-font ".concat(this._className).concat(this._theme).concat(this._rtl)};PageBase.defaults={};PageBase._name="Page";PageBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:PageBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});PageBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:PageBase,selector:"[mbsc-page-b]",usesInheritance:true,ngImport:i0});return PageBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:PageBase,decorators:[{type:Directive,args:[{selector:"[mbsc-page-b]"}]}]});var MbscPage=/*#__PURE__*/function(_super){__extends(MbscPage,_super);function MbscPage(){return _super!==null&&_super.apply(this,arguments)||this}MbscPage.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPage,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscPage.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscPage,selector:"mbsc-page",host:{properties:{class:"_cssClass"}},usesInheritance:true,ngImport:i0,template:"<ng-content></ng-content>",isInline:true,changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscPage}(PageBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPage,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-page",template:"<ng-content></ng-content>"}]}]});var MbscPageModule=/*#__PURE__*/function(){function MbscPageModule(){}MbscPageModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPageModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscPageModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPageModule,declarations:[MbscPage,PageBase],imports:[CommonModule],exports:[MbscPage]});MbscPageModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPageModule,imports:[[CommonModule]]});return MbscPageModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscPageModule,decorators:[{type:NgModule,args:[{declarations:[MbscPage,PageBase],exports:[MbscPage],imports:[CommonModule]}]}]});var guid$3=1;var RadioBase=/*#__PURE__*/function(_super){__extends(RadioBase,_super);function RadioBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._setInput=function(inp){_this._input=inp};_this._onChange=function(ev){var s=_this.s;var checked=ev.target.checked;_this._change(checked);if(_this._onGroupChange){_this._onGroupChange(ev,_this._value)}_this._toggle(checked);if(s.onChange){s.onChange(ev)}};_this._onValueChange=function(value){var s=_this.s;var checked=value===_this._value;if(s.checked===UNDEFINED){_this.setState({checked:checked})}_this._change(checked)};return _this}RadioBase.prototype._change=function(checked){};RadioBase.prototype._groupOptions=function(_a){var color=_a.color,disabled=_a.disabled,name=_a.name,onChange=_a.onChange,position=_a.position,rtl=_a.rtl,value=_a.value;var s=this.s;var state=this.state;var isRtl=rtl===UNDEFINED?s.rtl:rtl;var col=color===UNDEFINED?s.color:color;var p=position===UNDEFINED?s.position:position;var pos=p==="start"?s.rtl?"right":"left":s.rtl?"left":"right";var dis=disabled===UNDEFINED?s.disabled===UNDEFINED?state.disabled:emptyOrTrue(s.disabled):emptyOrTrue(disabled);var modelValue=s.modelValue!==UNDEFINED?s.modelValue===s.value:s.checked;var checked=modelValue!==UNDEFINED?emptyOrTrue(modelValue):state.checked===UNDEFINED?emptyOrTrue(s.defaultChecked):state.checked;this._id=s.id===UNDEFINED?this._id||"mbsc-radio-"+guid$3++:s.id;this._value=s.value===UNDEFINED?this._id:s.value;this._onGroupChange=onChange;this._name=name===UNDEFINED?s.name:name;this._rtl=isRtl?" mbsc-rtl":" mbsc-ltr";this._checked=value===UNDEFINED?checked:value===this._value;this._disabled=dis;this._cssClass="mbsc-radio mbsc-form-control-wrapper mbsc-font "+this._className+this._theme+this._rtl+this._hb+" mbsc-radio-"+pos+(dis?" mbsc-disabled":"");this._boxClass="mbsc-radio-box"+this._theme+" mbsc-radio-box-"+pos+(state.hasFocus&&!dis?" mbsc-focus":"")+(state.isActive&&!dis?" mbsc-active":"")+(col?" mbsc-radio-box-"+col:"")+(dis?" mbsc-disabled":"")+(this._checked?" mbsc-checked":"")};RadioBase.prototype._toggle=function(checked){if(this.s.checked===UNDEFINED){this.setState({checked:checked})}if(checked){setRadio(this._name,this._value)}};RadioBase.prototype._mounted=function(){var _this=this;this._unlisten=gestureListener(this._input,{click:true,onBlur:function(){_this.setState({hasFocus:false})},onFocus:function(){_this.setState({hasFocus:true})},onPress:function(){_this.setState({isActive:true})},onRelease:function(){_this.setState({isActive:false})}})};RadioBase.prototype._updated=function(){if(this._name&&!this._unsubscribe){this._unsubscribe=subscribeRadio(this._name,this._onValueChange)}};RadioBase.prototype._destroy=function(){if(this._unsubscribe){unsubscribeRadio(this._name,this._unsubscribe);this._unsubscribe=UNDEFINED}if(this._unlisten){this._unlisten()}};RadioBase.defaults={position:"start"};RadioBase._name="Radio";RadioBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:RadioBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});RadioBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:RadioBase,selector:"[mbsc-radio-b]",usesInheritance:true,ngImport:i0});return RadioBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:RadioBase,decorators:[{type:Directive,args:[{selector:"[mbsc-radio-b]"}]}]});var guid$2=1;var RadioGroupBase=/*#__PURE__*/function(_super){__extends(RadioGroupBase,_super);function RadioGroupBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._id="mbsc-radio-group"+guid$2++;_this._onChange=function(ev,val){var s=_this.s;_this.value=val;_this._change(val);if(s.onChange){s.onChange(ev)}};return _this}RadioGroupBase.prototype._change=function(value){};RadioGroupBase.prototype._render=function(s){this._name=s.name===UNDEFINED?this._id:s.name;this._groupClass="mbsc-radio-group"+this._theme+this._rtl;this._groupOpt={color:s.color,disabled:s.disabled,name:this._name,onChange:this._onChange,position:s.position,rtl:s.rtl,value:s.modelValue!==UNDEFINED?s.modelValue:s.value}};RadioGroupBase.defaults={};RadioGroupBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:RadioGroupBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});RadioGroupBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:RadioGroupBase,selector:"[mbsc-rg-b]",usesInheritance:true,ngImport:i0});return RadioGroupBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:RadioGroupBase,decorators:[{type:Directive,args:[{selector:"[mbsc-rg-b]"}]}]});var MbscRadio=/*#__PURE__*/function(_super){__extends(MbscRadio,_super);function MbscRadio(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.checkedChange=new EventEmitter;return _this}Object.defineProperty(MbscRadio.prototype,"checked",{get:function(){return this._check},set:function(val){var rs=this._radioService;if(this._check!==val){if(val){if(rs){rs.value=this.value}this._onFormChange(this.value)}this.props.checked=val;this._check=val;this.setState({checked:val})}},enumerable:false,configurable:true});MbscRadio.prototype.registerOnChange=function(fn){this._onFormChange=fn};MbscRadio.prototype.registerOnTouched=function(fn){this._onFormTouch=fn};MbscRadio.prototype.setDisabledState=function(disabled){this.setState({disabled:disabled})};MbscRadio.prototype.writeValue=function(val){this.checked=this.value===val};MbscRadio.prototype._change=function(checked){this.checked=checked};MbscRadio.prototype._ctor=function(){this._radioService=this._injector.get(MbscRadioService,null)};MbscRadio.prototype._mounted=function(){this._input=this.vInput.nativeElement;_super.prototype._mounted.call(this)};MbscRadio.prototype._render=function(s,state){this._groupOptions(this._radioService||{});_super.prototype._render.call(this,s,state)};MbscRadio.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscRadio,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscRadio.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscRadio,selector:"mbsc-radio",inputs:{color:"color",description:"description",disabled:"disabled",id:"id",label:"label",name:"name",position:"position",checked:"checked"},outputs:{checkedChange:"checkedChange"},host:{properties:{class:"_cssClass"}},viewQueries:[{propertyName:"vInput",first:true,predicate:["input"],descendants:true}],usesInheritance:true,ngImport:i0,template:'\n    <input\n      #input\n      type="radio"\n      class="mbsc-form-control-input mbsc-reset"\n      (blur)="_onFormTouch($event)"\n      (change)="_onChange($event)"\n      [checked]="_checked"\n      [disabled]="_disabled"\n      [name]="_name"\n      [value]="_value"\n    />\n    <span [class]="_boxClass"></span>\n    <span *ngIf="s.label" [class]="\'mbsc-form-control-label\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.label }}</span>\n    <span *ngIf="s.description" [class]="\'mbsc-description\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.description }}</span>\n    <ng-content></ng-content>\n  ',isInline:true,directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscRadio}(RadioBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscRadio,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-radio",template:'\n    <input\n      #input\n      type="radio"\n      class="mbsc-form-control-input mbsc-reset"\n      (blur)="_onFormTouch($event)"\n      (change)="_onChange($event)"\n      [checked]="_checked"\n      [disabled]="_disabled"\n      [name]="_name"\n      [value]="_value"\n    />\n    <span [class]="_boxClass"></span>\n    <span *ngIf="s.label" [class]="\'mbsc-form-control-label\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.label }}</span>\n    <span *ngIf="s.description" [class]="\'mbsc-description\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.description }}</span>\n    <ng-content></ng-content>\n  '}]}],propDecorators:{vInput:[{type:ViewChild,args:["input",{static:false}]}],color:[{type:Input}],description:[{type:Input}],disabled:[{type:Input}],id:[{type:Input}],label:[{type:Input}],name:[{type:Input}],position:[{type:Input}],checkedChange:[{type:Output}],checked:[{type:Input}]}});var MbscRadioGroup=/*#__PURE__*/function(_super){__extends(MbscRadioGroup,_super);function MbscRadioGroup(){return _super!==null&&_super.apply(this,arguments)||this}MbscRadioGroup.prototype._onValueChange=function(value){this._radioService.value=value;setRadio(this._radioService.name,value)};MbscRadioGroup.prototype._ctor=function(){this._radioService=this._injector.get(MbscRadioService)};MbscRadioGroup.prototype._render=function(s){_super.prototype._render.call(this,s);var rs=this._radioService;rs.color=s.color;rs.disabled=s.disabled;rs.name=this._name;rs.value=this.value;rs.onChange=this._onChange;rs.position=s.position};MbscRadioGroup.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscRadioGroup,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscRadioGroup.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscRadioGroup,selector:"mbsc-radio-group",inputs:{color:"color",disabled:"disabled",name:"name",position:"position"},host:{properties:{class:"_groupClass"}},providers:[MbscRadioService],usesInheritance:true,ngImport:i0,template:"<ng-content></ng-content>",isInline:true,changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});MbscRadioGroup=__decorate([FormControl],MbscRadioGroup);return MbscRadioGroup}(RadioGroupBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscRadioGroup,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_groupClass"},providers:[MbscRadioService],selector:"mbsc-radio-group",template:"<ng-content></ng-content>"}]}],propDecorators:{color:[{type:Input}],disabled:[{type:Input}],name:[{type:Input}],position:[{type:Input}]}});var MbscRadioModule=/*#__PURE__*/function(){function MbscRadioModule(){}MbscRadioModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscRadioModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscRadioModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscRadioModule,declarations:[RadioBase,RadioGroupBase,MbscRadio,MbscRadioGroup],imports:[CommonModule],exports:[MbscRadio,MbscRadioGroup]});MbscRadioModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscRadioModule,imports:[[CommonModule]]});return MbscRadioModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscRadioModule,decorators:[{type:NgModule,args:[{declarations:[RadioBase,RadioGroupBase,MbscRadio,MbscRadioGroup],exports:[MbscRadio,MbscRadioGroup],imports:[CommonModule]}]}]});var StepperBase=/*#__PURE__*/function(_super){__extends(StepperBase,_super);function StepperBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._onChange=function(ev){var s=_this.s;var val=_this._round(+ev.target.value);ev.target.value=val+"";if(s.value===UNDEFINED){_this.setState({value:val})}_this._change(val);if(s.onChange){s.onChange(ev)}};_this._onMinusClick=function(){_this._setValue(_this._value-_this._step)};_this._onPlusClick=function(){_this._setValue(_this._value+_this._step)};_this._setInput=function(input){_this._input=input};_this._onLabelClick=function(ev){ev.preventDefault()};return _this}StepperBase.prototype._change=function(val){};StepperBase.prototype._mounted=function(){listen(this._input,CHANGE,this._onChange)};StepperBase.prototype._render=function(s,state){this._max=isEmpty(s.max)?100:+s.max;this._min=isEmpty(s.min)?0:+s.min;this._step=isEmpty(s.step)?1:+s.step;var disabled=s.disabled===UNDEFINED?state.disabled:emptyOrTrue(s.disabled);var defVal=s.defaultValue!==UNDEFINED?s.defaultValue:this._min||0;var modelValue=s.modelValue!==UNDEFINED?s.modelValue:s.value;var val=modelValue!==UNDEFINED?modelValue:state.value!==UNDEFINED?state.value:defVal;this._value=this._round(val);this._changed=this._value!==+val;this._disabled=disabled;this._disabledMinus=this._value===this._min||disabled;this._disabledPlus=this._value===this._max||disabled;this._cssClass="mbsc-stepper mbsc-form-control-wrapper mbsc-font mbsc-"+(s.color||"color-none")+this._theme+this._rtl+this._hb+" mbsc-stepper-"+s.inputPosition+(disabled?" mbsc-disabled":"")};StepperBase.prototype._updated=function(){this._input.value=this._value+"";if(this._changed){trigger(this._input,CHANGE);this._changed=false}};StepperBase.prototype._destroy=function(){unlisten(this._input,CHANGE,this._onChange)};StepperBase.prototype._round=function(v){var step=this._step;var scale=Math.abs(step)<1?(step+"").split(".")[1].length:0;return+Math.min(this._max,Math.max(Math.round(v/step)*step,this._min)).toFixed(scale)};StepperBase.prototype._setValue=function(val){var oldValue=+this._input.value;var newValue=this._round(val);if(oldValue!==newValue){this._input.value=newValue+"";trigger(this._input,CHANGE)}};StepperBase.defaults={inputPosition:"center"};StepperBase._name="Stepper";StepperBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:StepperBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});StepperBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:StepperBase,selector:"[mbsc-stepper]",usesInheritance:true,ngImport:i0});return StepperBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:StepperBase,decorators:[{type:Directive,args:[{selector:"[mbsc-stepper]"}]}]});var guid$1=0;var MbscStepper=/*#__PURE__*/function(_super){__extends(MbscStepper,_super);function MbscStepper(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.onChange=new EventEmitter;_this._id="mbsc-stepper-"+guid$1++;return _this}MbscStepper.prototype._change=function(value){this.value=value};MbscStepper.prototype._mounted=function(){this._input=this.vInput.nativeElement;_super.prototype._mounted.call(this)};MbscStepper.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscStepper,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscStepper.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscStepper,selector:"mbsc-stepper",inputs:{color:"color",defaultValue:"defaultValue",description:"description",disabled:"disabled",id:"id",inputPosition:"inputPosition",label:"label",min:"min",max:"max",name:"name",readonly:"readonly",step:"step"},outputs:{onChange:"onChange"},host:{properties:{class:"_cssClass"}},viewQueries:[{propertyName:"vInput",first:true,predicate:["input"],descendants:true}],usesInheritance:true,ngImport:i0,template:'\n    <label class="mbsc-stepper-content" [for]="id || _id">\n      <span *ngIf="s.label" [class]="\'mbsc-stepper-label\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.label }}</span>\n      <span *ngIf="s.description" [class]="\'mbsc-description\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.description }}</span>\n    </label>\n    <div [class]="\'mbsc-stepper-control mbsc-flex\' + _theme + _rtl">\n      <mbsc-button\n        class="mbsc-stepper-minus mbsc-stepper-button"\n        (click)="_onMinusClick()"\n        [disabled]="_disabledMinus"\n        [theme]="s.theme"\n        [themeVariant]="s.themeVariant"\n      >\n        <span [class]="\'mbsc-stepper-inner\' + _theme">&ndash;</span>\n      </mbsc-button>\n      <input\n        #input\n        [attr.name]="name"\n        [class]="\'mbsc-stepper-input\' + (_disabled ? \' mbsc-disabled\' : \'\') + _theme"\n        [disabled]="_disabled"\n        [id]="id || _id"\n        [max]="_max"\n        [min]="_min"\n        [readonly]="readonly"\n        [step]="_step"\n        type="number"\n      />\n      <mbsc-button\n        class="mbsc-stepper-plus mbsc-stepper-button"\n        (click)="_onPlusClick()"\n        [disabled]="_disabledPlus"\n        [theme]="s.theme"\n        [themeVariant]="s.themeVariant"\n      >\n        <span [class]="\'mbsc-stepper-inner\' + _theme">+</span>\n      </mbsc-button>\n    </div>\n  ',isInline:true,components:[{type:MbscButton,selector:"mbsc-button",inputs:["ariaLabel","color","disabled","endIcon","endIconSrc","endIconSvg","hidden","icon","iconSvg","iconSrc","ripple","role","startIcon","startIconSrc","startIconSvg","tabIndex","variant"]}],directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});MbscStepper=__decorate([FormControl],MbscStepper);return MbscStepper}(StepperBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscStepper,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-stepper",template:'\n    <label class="mbsc-stepper-content" [for]="id || _id">\n      <span *ngIf="s.label" [class]="\'mbsc-stepper-label\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.label }}</span>\n      <span *ngIf="s.description" [class]="\'mbsc-description\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.description }}</span>\n    </label>\n    <div [class]="\'mbsc-stepper-control mbsc-flex\' + _theme + _rtl">\n      <mbsc-button\n        class="mbsc-stepper-minus mbsc-stepper-button"\n        (click)="_onMinusClick()"\n        [disabled]="_disabledMinus"\n        [theme]="s.theme"\n        [themeVariant]="s.themeVariant"\n      >\n        <span [class]="\'mbsc-stepper-inner\' + _theme">&ndash;</span>\n      </mbsc-button>\n      <input\n        #input\n        [attr.name]="name"\n        [class]="\'mbsc-stepper-input\' + (_disabled ? \' mbsc-disabled\' : \'\') + _theme"\n        [disabled]="_disabled"\n        [id]="id || _id"\n        [max]="_max"\n        [min]="_min"\n        [readonly]="readonly"\n        [step]="_step"\n        type="number"\n      />\n      <mbsc-button\n        class="mbsc-stepper-plus mbsc-stepper-button"\n        (click)="_onPlusClick()"\n        [disabled]="_disabledPlus"\n        [theme]="s.theme"\n        [themeVariant]="s.themeVariant"\n      >\n        <span [class]="\'mbsc-stepper-inner\' + _theme">+</span>\n      </mbsc-button>\n    </div>\n  '}]}],propDecorators:{vInput:[{type:ViewChild,args:["input",{static:false}]}],color:[{type:Input}],defaultValue:[{type:Input}],description:[{type:Input}],disabled:[{type:Input}],id:[{type:Input}],inputPosition:[{type:Input}],label:[{type:Input}],min:[{type:Input}],max:[{type:Input}],name:[{type:Input}],readonly:[{type:Input}],step:[{type:Input}],onChange:[{type:Output}]}});var MbscStepperModule=/*#__PURE__*/function(){function MbscStepperModule(){}MbscStepperModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscStepperModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscStepperModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscStepperModule,declarations:[StepperBase,MbscStepper],imports:[CommonModule,MbscButtonModule],exports:[MbscStepper]});MbscStepperModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscStepperModule,imports:[[CommonModule,MbscButtonModule]]});return MbscStepperModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscStepperModule,decorators:[{type:NgModule,args:[{declarations:[StepperBase,MbscStepper],exports:[MbscStepper],imports:[CommonModule,MbscButtonModule]}]}]});var CLICK_MOVE_THRESHOLD=3;var CLICK_HOLD_THRESHOLD=300;var SwitchBase=/*#__PURE__*/function(_super){__extends(SwitchBase,_super);function SwitchBase(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._onChange=function(ev){var s=_this.s;var checked=ev.target.checked;ev.stopPropagation();if(s.checked===UNDEFINED){_this._checked=checked;_this.setState({checked:checked})}_this._change(checked);if(s.onChange){s.onChange(ev)}};_this._setInput=function(input){_this._input=input};_this._setHandleCont=function(span){_this._handleCont=span};_this._setHandle=function(span){_this._handle=span};_this._onLabelClick=function(ev){ev.preventDefault()};return _this}SwitchBase.prototype._change=function(checked){};SwitchBase.prototype._setHandleLeft=function(left){this._handle.style.left=left+"%"};SwitchBase.prototype._mounted=function(){var _this=this;var handleContWidth;var handleContLeft;var gestureStart;var isHandle;var isNativeScroll;listen(this._input,CLICK,this._onChange);this._inputUnlisten=gestureListener(this._input,{onBlur:function(){_this.setState({hasFocus:false})},onFocus:function(){if(!_this._disabled){_this.setState({hasFocus:true})}}});this._unlisten=gestureListener(this._el,{click:false,onEnd:function(ev){if(!_this._disabled&&!isNativeScroll){if(isHandle){var noMovement=Math.abs(ev.deltaX)<CLICK_MOVE_THRESHOLD&&Math.abs(ev.deltaY)<CLICK_MOVE_THRESHOLD;var longHold=+new Date-gestureStart>CLICK_HOLD_THRESHOLD;var newChecked=noMovement&&!longHold?!_this._checked:_this._handleLeft>=50;if(newChecked!==_this._checked){_this._input.click();_this._change(newChecked)}isHandle=false}_this.setState({dragging:false,isActive:false})}},onMove:function(ev){var domEvent=ev.domEvent;var dragging=_this.state.dragging;if(!_this._disabled&&!isNativeScroll&&isHandle&&handleContWidth){if(Math.abs(ev.deltaX)>5){dragging=true;_this.setState({dragging:true})}if(dragging){if(domEvent.cancelable){domEvent.preventDefault()}var offset=(ev.startX-handleContLeft)/handleContWidth*100;var cappedOffset=Math.max(Math.min(offset,100),0);var left=cappedOffset+ev.deltaX/handleContWidth*100;var capped=Math.max(Math.min(left,100),0);_this._handleLeft=capped;_this._setHandleLeft(capped)}}if(!dragging&&!isNativeScroll&&Math.abs(ev.deltaY)>7&&domEvent.type===TOUCH_MOVE){isNativeScroll=true;_this.setState({isActive:false})}},onStart:function(ev){if(!_this._disabled){isNativeScroll=false;handleContWidth=_this._handleCont.clientWidth;handleContLeft=getOffset(_this._handleCont).left;gestureStart=+new Date;if(ev.domEvent.target===_this._handleCont||_this._handleCont.contains(ev.domEvent.target)){isHandle=true}_this.setState({isActive:true})}}});this._setHandleLeft(this._handleLeft)};SwitchBase.prototype._render=function(s,state){var disabled=s.disabled===UNDEFINED?state.disabled:emptyOrTrue(s.disabled);var position=s.position==="start"?s.rtl?"right":"left":s.rtl?"left":"right";var colorClass=s.color!==UNDEFINED?" mbsc-switch-"+s.color:"";var modelValue=s.modelValue!==UNDEFINED?s.modelValue:s.checked;this._disabled=disabled;this._checked=modelValue!==UNDEFINED?emptyOrTrue(modelValue):state.checked===UNDEFINED?emptyOrTrue(s.defaultChecked):state.checked;this._cssClass="mbsc-switch mbsc-form-control-wrapper mbsc-font "+this._className+this._theme+this._rtl+this._hb+" mbsc-switch-"+position+(disabled?" mbsc-disabled":"");if(!state.dragging){var hl=this._checked?100:0;if(hl!==this._handleLeft&&this._handle){this._setHandleLeft(hl)}this._handleLeft=hl}this._handleContClass="mbsc-switch-track mbsc-switch-track-"+position+this._theme+colorClass+(this._checked?" mbsc-checked":"")+(disabled?" mbsc-disabled":"")+(state.hasFocus?" mbsc-focus":"")+(state.isActive?" mbsc-active":"");this._handleClass="mbsc-switch-handle"+this._theme+colorClass+(state.dragging?"":" mbsc-switch-handle-animate")+(this._checked?" mbsc-checked":"")+(this.state.isActive?" mbsc-active":"")+(disabled?" mbsc-disabled":"")+(this.state.hasFocus?" mbsc-focus":"")};SwitchBase.prototype._destroy=function(){unlisten(this._input,CLICK,this._onChange);if(this._unlisten){this._unlisten()}if(this._inputUnlisten){this._inputUnlisten()}};SwitchBase.defaults={position:"end"};SwitchBase._name="Switch";SwitchBase.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:SwitchBase,deps:null,target:i0.ɵɵFactoryTarget.Directive});SwitchBase.ɵdir=i0.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"13.3.12",type:SwitchBase,selector:"[mbsc-sw-b]",usesInheritance:true,ngImport:i0});return SwitchBase}(BaseComponent);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:SwitchBase,decorators:[{type:Directive,args:[{selector:"[mbsc-sw-b]"}]}]});var guid=0;var MbscSwitch=/*#__PURE__*/function(_super){__extends(MbscSwitch,_super);function MbscSwitch(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this._id="mbsc-switch-"+guid++;return _this}Object.defineProperty(MbscSwitch.prototype,"checked",{get:function(){return this._check},set:function(val){if(this._check!==val){this.props.checked=val;this._onFormChange(val);this._check=val;this.setState({checked:val})}},enumerable:false,configurable:true});MbscSwitch.prototype.registerOnChange=function(fn){this._onFormChange=fn};MbscSwitch.prototype.registerOnTouched=function(fn){this._onFormTouch=fn};MbscSwitch.prototype.setDisabledState=function(disabled){this.setState({disabled:disabled})};MbscSwitch.prototype.writeValue=function(val){this.checked=val};MbscSwitch.prototype._change=function(checked){this.checked=checked};MbscSwitch.prototype._mounted=function(){this._input=this.vInput.nativeElement;this._handle=this.vHandle.nativeElement;this._handleCont=this.vHandleCont.nativeElement;_super.prototype._mounted.call(this)};MbscSwitch.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSwitch,deps:null,target:i0.ɵɵFactoryTarget.Component});MbscSwitch.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscSwitch,selector:"mbsc-switch",inputs:{color:"color",description:"description",disabled:"disabled",id:"id",label:"label",position:"position",readonly:"readonly",checked:"checked"},host:{properties:{class:"_cssClass"}},viewQueries:[{propertyName:"vInput",first:true,predicate:["input"],descendants:true},{propertyName:"vHandle",first:true,predicate:["handle"],descendants:true},{propertyName:"vHandleCont",first:true,predicate:["handleCont"],descendants:true}],usesInheritance:true,ngImport:i0,template:'\n    <label *ngIf="s.label" [for]="id || _id" [class]="\'mbsc-form-control-label\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')"\n      >{{ s.label }}\n      <span *ngIf="s.description" [class]="\'mbsc-description\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.description }}</span>\n    </label>\n\n    <input\n      #input\n      type="checkbox"\n      class="mbsc-form-control-input mbsc-reset"\n      [id]="id || _id"\n      [checked]="_checked"\n      [disabled]="_disabled"\n      [readonly]="readonly"\n    />\n\n    <span [class]="_handleContClass" #handleCont>\n      <span [class]="_handleClass" #handle></span>\n    </span>\n\n    <ng-content></ng-content>\n  ',isInline:true,directives:[{type:i1$1.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscSwitch}(SwitchBase);i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSwitch,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,host:{"[class]":"_cssClass"},selector:"mbsc-switch",template:'\n    <label *ngIf="s.label" [for]="id || _id" [class]="\'mbsc-form-control-label\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')"\n      >{{ s.label }}\n      <span *ngIf="s.description" [class]="\'mbsc-description\' + _theme + (_disabled ? \' mbsc-disabled\' : \'\')">{{ s.description }}</span>\n    </label>\n\n    <input\n      #input\n      type="checkbox"\n      class="mbsc-form-control-input mbsc-reset"\n      [id]="id || _id"\n      [checked]="_checked"\n      [disabled]="_disabled"\n      [readonly]="readonly"\n    />\n\n    <span [class]="_handleContClass" #handleCont>\n      <span [class]="_handleClass" #handle></span>\n    </span>\n\n    <ng-content></ng-content>\n  '}]}],propDecorators:{vInput:[{type:ViewChild,args:["input",{static:false}]}],vHandle:[{type:ViewChild,args:["handle",{static:false}]}],vHandleCont:[{type:ViewChild,args:["handleCont",{static:false}]}],color:[{type:Input}],description:[{type:Input}],disabled:[{type:Input}],id:[{type:Input}],label:[{type:Input}],position:[{type:Input}],readonly:[{type:Input}],checked:[{type:Input}]}});var MbscSwitchModule=/*#__PURE__*/function(){function MbscSwitchModule(){}MbscSwitchModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSwitchModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscSwitchModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSwitchModule,declarations:[SwitchBase,MbscSwitch],imports:[CommonModule],exports:[MbscSwitch]});MbscSwitchModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSwitchModule,imports:[[CommonModule]]});return MbscSwitchModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscSwitchModule,decorators:[{type:NgModule,args:[{declarations:[SwitchBase,MbscSwitch],exports:[MbscSwitch],imports:[CommonModule]}]}]});var MbscFormsModule=/*#__PURE__*/function(){function MbscFormsModule(){}MbscFormsModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscFormsModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscFormsModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscFormsModule,imports:[CommonModule,MbscButtonModule,MbscCheckboxModule,MbscInputModule,MbscPageModule,MbscRadioModule,MbscSegmentedModule,MbscStepperModule,MbscSwitchModule],exports:[MbscButtonModule,MbscCheckboxModule,MbscInputModule,MbscPageModule,MbscRadioModule,MbscSegmentedModule,MbscStepperModule,MbscSwitchModule,MbscNotificationsModule]});MbscFormsModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscFormsModule,imports:[[CommonModule,MbscButtonModule,MbscCheckboxModule,MbscInputModule,MbscPageModule,MbscRadioModule,MbscSegmentedModule,MbscStepperModule,MbscSwitchModule],MbscButtonModule,MbscCheckboxModule,MbscInputModule,MbscPageModule,MbscRadioModule,MbscSegmentedModule,MbscStepperModule,MbscSwitchModule,MbscNotificationsModule]});return MbscFormsModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscFormsModule,decorators:[{type:NgModule,args:[{exports:[MbscButtonModule,MbscCheckboxModule,MbscInputModule,MbscPageModule,MbscRadioModule,MbscSegmentedModule,MbscStepperModule,MbscSwitchModule,MbscNotificationsModule],imports:[CommonModule,MbscButtonModule,MbscCheckboxModule,MbscInputModule,MbscPageModule,MbscRadioModule,MbscSegmentedModule,MbscStepperModule,MbscSwitchModule]}]}]});var MbscOptionsProviderComponent=/*#__PURE__*/function(){function MbscOptionsProviderComponent(_opt){this._opt=_opt}MbscOptionsProviderComponent.prototype.ngOnChanges=function(changes){var key="options";var change=changes[key];if(change){this._opt.setOptions(change.currentValue)}};MbscOptionsProviderComponent.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscOptionsProviderComponent,deps:[{token:MbscOptionsService}],target:i0.ɵɵFactoryTarget.Component});MbscOptionsProviderComponent.ɵcmp=i0.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"13.3.12",type:MbscOptionsProviderComponent,selector:"mbsc-options-provider",inputs:{options:"options"},providers:[{provide:MbscOptionsService,useClass:MbscOptionsService}],usesOnChanges:true,ngImport:i0,template:"<ng-content></ng-content>",isInline:true,changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None});return MbscOptionsProviderComponent}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscOptionsProviderComponent,decorators:[{type:Component,args:[{changeDetection:ChangeDetectionStrategy.OnPush,encapsulation:ViewEncapsulation.None,providers:[{provide:MbscOptionsService,useClass:MbscOptionsService}],selector:"mbsc-options-provider",template:"<ng-content></ng-content>"}]}],ctorParameters:function(){return[{type:MbscOptionsService}]},propDecorators:{options:[{type:Input}]}});var MbscOptionsModule=/*#__PURE__*/function(){function MbscOptionsModule(){}MbscOptionsModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscOptionsModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscOptionsModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscOptionsModule,declarations:[MbscOptionsProviderComponent],exports:[MbscOptionsProviderComponent]});MbscOptionsModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscOptionsModule});return MbscOptionsModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscOptionsModule,decorators:[{type:NgModule,args:[{declarations:[MbscOptionsProviderComponent],exports:[MbscOptionsProviderComponent]}]}]});var MbscBaseModule=/*#__PURE__*/function(){function MbscBaseModule(){}MbscBaseModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscBaseModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscBaseModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscBaseModule,declarations:[Base,BaseComponent]});MbscBaseModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscBaseModule});return MbscBaseModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscBaseModule,decorators:[{type:NgModule,args:[{declarations:[Base,BaseComponent]}]}]});var MbscModule=/*#__PURE__*/function(){function MbscModule(){}MbscModule.ɵfac=i0.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscModule,deps:[],target:i0.ɵɵFactoryTarget.NgModule});MbscModule.ɵmod=i0.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscModule,imports:[MbscCalendarModule,MbscBaseModule,MbscDatepickerModule,MbscDatetimeModule,MbscEventcalendarModule,MbscFormsModule,MbscIconModule,MbscOptionsModule,MbscPopupModule,MbscScrollerModule,MbscSelectModule,MbscTimegridModule],exports:[MbscCalendarModule,MbscDatepickerModule,MbscDatetimeModule,MbscEventcalendarModule,MbscFormsModule,MbscIconModule,MbscOptionsModule,MbscPopupModule,MbscScrollerModule,MbscSelectModule,MbscTimegridModule]});MbscModule.ɵinj=i0.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscModule,imports:[[MbscCalendarModule,MbscBaseModule,MbscDatepickerModule,MbscDatetimeModule,MbscEventcalendarModule,MbscFormsModule,MbscIconModule,MbscOptionsModule,MbscPopupModule,MbscScrollerModule,MbscSelectModule,MbscTimegridModule],MbscCalendarModule,MbscDatepickerModule,MbscDatetimeModule,MbscEventcalendarModule,MbscFormsModule,MbscIconModule,MbscOptionsModule,MbscPopupModule,MbscScrollerModule,MbscSelectModule,MbscTimegridModule]});return MbscModule}();i0.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"13.3.12",ngImport:i0,type:MbscModule,decorators:[{type:NgModule,args:[{exports:[MbscCalendarModule,MbscDatepickerModule,MbscDatetimeModule,MbscEventcalendarModule,MbscFormsModule,MbscIconModule,MbscOptionsModule,MbscPopupModule,MbscScrollerModule,MbscSelectModule,MbscTimegridModule],imports:[MbscCalendarModule,MbscBaseModule,MbscDatepickerModule,MbscDatetimeModule,MbscEventcalendarModule,MbscFormsModule,MbscIconModule,MbscOptionsModule,MbscPopupModule,MbscScrollerModule,MbscSelectModule,MbscTimegridModule]}]}]});remote.fw="angular";export{DraggableDirective,MBSC_OPTIONS,MbscButton,MbscButtonModule,MbscCalendar,MbscCalendarHeaderModule,MbscCalendarModule,MbscCalendarNav,MbscCalendarNext,MbscCalendarPrev,MbscCalendarToday,MbscCheckbox,MbscCheckboxModule,MbscCustomEndIcon,MbscCustomIcon,MbscCustomStartIcon,MbscDate,MbscDatepicker,MbscDatepickerDirective,MbscDatepickerModule,MbscDatetime,MbscDatetimeModule,MbscDraggableModule,MbscDropcontainer,MbscDropcontainerModule,MbscDropdown,MbscEventListDayDirective,MbscEventListItem,MbscEventcalendar,MbscEventcalendarModule,MbscFormsModule,MbscIcon,MbscIconModule,MbscInput,MbscInputModule,MbscModule,MbscNotificationsModule,MbscOptionsModule,MbscOptionsProviderComponent,MbscOptionsService,MbscPage,MbscPageModule,MbscPopup,MbscPopupModule,MbscPrompt,MbscRadio,MbscRadioGroup,MbscRadioModule,MbscScroller,MbscScrollerModule,MbscSegmented,MbscSegmentedGroup,MbscSegmentedModule,MbscSelect,MbscSelectDirective,MbscSelectModule,MbscSelectOptionComponent,MbscSelectOptionDirective,MbscSnackbar,MbscStepper,MbscStepperModule,MbscSwitch,MbscSwitchModule,MbscTextarea,MbscTime,MbscTimegrid,MbscTimegridModule,Notifications,autoDetect,createCustomTheme,dayjsTimezone,formatDatePublic as formatDate,getAutoTheme,getJson,globalChanges,hijriCalendar,jalaliCalendar,locale,ar as localeAr,bg as localeBg,ca as localeCa,cs as localeCs,da as localeDa,de as localeDe,el as localeEl,localeEn,enGB as localeEnGB,es as localeEs,fa as localeFa,fi as localeFi,fr as localeFr,he as localeHe,hi as localeHi,hr as localeHr,hu as localeHu,it as localeIt,ja as localeJa,ko as localeKo,lt as localeLt,nl as localeNl,no as localeNo,pl as localePl,localePtBR,ptPT as localePtPT,ro as localeRo,ru as localeRu,localeRuUA,sk as localeSk,sr as localeSr,sv as localeSv,th as localeTh,tr as localeTr,ua as localeUa,vi as localeVi,zh as localeZh,luxonTimezone,momentTimezone,options,parseDate,platform,remote,setOptions,themes,updateRecurringEvent,util};
