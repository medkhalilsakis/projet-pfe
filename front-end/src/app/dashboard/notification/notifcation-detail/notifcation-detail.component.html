<ng-container *ngIf="notification">
  <div class="noti-overlay">
    <div class="noti-detail">
      <header class="noti-header">
        <strong class="label">Name:</strong>
        <strong class="value">{{ notification.title }}</strong>
      </header>

      <p class="created">Created: {{ notification.createdAt | date:'short' }}</p>
      <p class="message">{{ notification.message }}</p>

      <section *ngIf="notification.relatedTask" class="noti-section">
        <h4>Task Details</h4>
        <p><strong>By:</strong> {{ notification.relatedTask.assignedBy?.nom }} {{ notification.relatedTask.assignedBy?.prenom }}</p>
        <p><strong>Task:</strong> {{ notification.relatedTask.name }}</p>
        <p>{{ notification.relatedTask.description }}</p>
        <button (click)="viewTaskDetails(notification.relatedTask)">View Task</button>
      </section>

      <section *ngIf="notification.relatedProject" class="noti-section">
        <h4>Project Details</h4>
        <p><strong>Nom du projet:</strong> {{ notification.relatedProject.name }}</p>
        <p><strong>Type:</strong> {{ notification.relatedProject.type }}</p>
        <p><strong>Description:</strong> {{ notification.relatedProject.description }}</p>
        <p><strong>Status:</strong> {{ notification.relatedProject.status }}</p>
        <button (click)="viewProjectDetails(notification.relatedProject)">View Project</button>
      </section>

      <section *ngIf="notification.chatMessage" class="noti-section">
        <h4>Chat Message</h4>
        <p><strong>By:</strong> {{ notification.chatMessage.sender?.nom }} {{ notification.chatMessage.sender?.prenom }}</p>
        <p><strong>Message:</strong> {{ notification.chatMessage.message }}</p>
        <button (click)="viewMessageDetails(notification.chatMessage)">View Discussion</button>
      </section>
    </div>
  </div>
</ng-container>
