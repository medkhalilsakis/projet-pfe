<h2 mat-dialog-title>Statut du projet</h2>

<mat-dialog-content>
  <div class="stepper-container"
       [ngClass]="{
         'paused': isPaused,
         'closed': isClosed
       }">
    <div class="stepper">
      <ng-container *ngFor="let s of stages; let i = index">
        <div class="step"
             [ngClass]="{
               'completed': !isFrozen && i < current,
               'active':    !isFrozen && i === current
             }">
          <div class="circle">
            <mat-icon>{{ iconName(i) }}</mat-icon>
          </div>
          <div class="label">{{ s.label }}</div>
        </div>
      </ng-container>
    </div>

    <mat-progress-bar
      mode="determinate"
      [value]="isFrozen ? 0 : (current / (stages.length - 1)) * 100">
    </mat-progress-bar>

    <div *ngIf="isFrozen" class="freeze-warning">
      {{ freezeMessage }}
    </div>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="dialogRef.close()">Fermer</button>
</mat-dialog-actions>
